<!doctype html>
<meta charset=utf-8>
<title>Upstreamed commits &ndash; Opera</title>
<style>
body { font-family: sans-serif; }
</style>


<style>
table { width: 100%; }
td { vertical-align: top; }
th { text-align: left; }
a { color: #900; transition: 0.4s color; }
a:visited { color: #755; }
a:hover { color: #f00; }
.body { white-space: pre-wrap; }
.message strong { cursor: default; }

main {
 box-shadow: 0 0 80px -20px rgba(0,0,0,0.5);
 display: block;
 margin: 20px auto;
 max-width: 960px;
 padding: 20px;
}
h1 {
 margin-top: 0;
 text-align: center;
}
.hint {
 color: #666;
 font-size: 0.8em;
}

.col-author { width: 160px; }
.col-when { width: 130px; }
</style>
<main>
  <h1>Opera Software upstreamed commits</h1>
  <p>Upstreamed commits in
    Chromium: 112,
    Blink: 331.
  <p class=hint>Click message to expand
  
    <section class="chromium">
      <h2>Chromium</h2>
      <table>
      <colgroup class=col-author>
      <colgroup class=col-message>
      <colgroup class=col-when>
      <tr><th>Author <th>Message <th>When
      
        <tr>
          <td>tmoniuszko
          <td class=message><strong>Stack at top functionality for Aura-based windows</strong>
            <pre class=body style=display:none>
Implementation of previously empty DesktopNativeWidgetAura::StackAtTop()
method.

BUG=

Review URL: https://codereview.chromium.org/32393002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@238978 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=238978&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>remove arm_version==5 configuration, since it&#39;s no longer supported</strong>
            <pre class=body style=display:none>
Since armv5 builds are no longer supported (due to being dropped by V8),
let&#39;s remove a stray arm_version==5 section from the build configration.

BUG=234135

Review URL: https://codereview.chromium.org/104803002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@238725 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=238725&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Roll libjpeg_turbo DEPS to r238478</strong>
            <pre class=body style=display:none>
Update libjpeg_turbo to get this CL:
https://codereview.chromium.org/95883002/

BUG=234135

Review URL: https://codereview.chromium.org/99073007

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@238662 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=238662&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>TODO: remove armv7 setting</strong>
            <pre class=body style=display:none>
Leave a TODO note in build/common.gypi to remove this obsolete armv7
setting, once all uses of it are removed.

BUG=234135

Review URL: https://codereview.chromium.org/103203002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@238643 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=238643&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Fix typeahead for popup menu with attributes</strong>
            <pre class=body style=display:none>
Popup menu item with attributes (&lt;optgroup&gt; for instance) will
break typeahead matching support on Mac. Use the same trick Apple
uses in WebKit2 [1] to fix this.

BUG=90064

[1] http://trac.webkit.org/browser/trunk/Source/WebKit2/UIProcess/mac/WebPopupMenuProxyMac.mm#L90

Review URL: https://codereview.chromium.org/99043003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@238377 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=238377&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>DPCHECK known conditions when we guess false in CurrentProcessHasOpenDirectories</strong>
            <pre class=body style=display:none>
openat(AT_FDCWD, &#34;/proc/self/fd&#34;, ...) can fail if we have been chrooted
(eg into /proc/self/fdinfo) without directory listing permissions on the
new root dir (hence EACCES).  And even if we did have this permission,
/proc wouldn&#39;t exist (hence ENOENT).

TEST=Make a debug build or a release build with dcheck_always_on=1 and verify that this DPCHECK does not fail.

BUG=314985

Review URL: https://codereview.chromium.org/59763014

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@237766 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=237766&view=revision'><time datetime='2013-11-28' title='2013-11-28'>2013-11-28</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>fix &#34;may be used uninitialized&#34; warnings for older compilers</strong>
            <pre class=body style=display:none>
This small change keeps some slightly older compilers happy (gcc 4.5).

Review URL: https://codereview.chromium.org/78863002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@236769 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=236769&view=revision'><time datetime='2013-11-22' title='2013-11-22'>2013-11-22</time></a>
      
        <tr>
          <td>joaoe
          <td class=message><strong>Added RefCountedMallocedMemory</strong>
            <pre class=body style=display:none>
Which takes ownership over a chunk of memory allocated with malloc or calloc
and must then be freed using free().

Review URL: https://codereview.chromium.org/78603002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@236675 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=236675&view=revision'><time datetime='2013-11-22' title='2013-11-22'>2013-11-22</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Make it possible to disable udev in the content API on linux</strong>
            <pre class=body style=display:none>
This is useful for embedded linux setups, which often don&#39;t include udev support.

TEST=Build content_shell on linux with use_udev=0 then run ldd on output binaries to verify libudev is not listed (and is listed if built with use_udev=1 or unspecified)

BUG=318315,318413

Review URL: https://codereview.chromium.org/12374068

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@236204 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=236204&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Do not issue preflight for crossorigin media resource loads.</strong>
            <pre class=body style=display:none>
Turn off preflighting when issuing requests that are CORS enabled
fetches. The requests do not have any author headers, hence should go
ahead without a preflighting step. CORS-enabled servers sometimes
depend on this.

R=jochen
BUG=173727

Review URL: https://codereview.chromium.org/69813010

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@235958 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=235958&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Rewrite include paths for Blink public/ headers that have moved</strong>
            <pre class=body style=display:none>
This is a prerequisite for removing the old (redirected) headers.

In a few DEPS and in webview_plugin.cc the include was redundant and
just removed instead.

BUG=none

Review URL: https://codereview.chromium.org/68683009

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@235116 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=235116&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove unused implementations in WebInbandTextTrackImpl</strong>
            <pre class=body style=display:none>
These functions have been removed from WebInbandTextTrack.

BUG=315257, 315270, 315476

Review URL: https://codereview.chromium.org/63963002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@233835 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=233835&view=revision'><time datetime='2013-11-08' title='2013-11-08'>2013-11-08</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Enable ActivityLogApiTest.TriggerEvent and update test</strong>
            <pre class=body style=display:none>
Blink rev has been rolled to r161048, which includes the innerHTML
move from HTMLElement to Element. Update and enable the test that had
to be disabled during the transition.

BUG=311080

Committed: https://src.chromium.org/viewvc/chrome?view=rev&amp;revision=232385

Review URL: https://codereview.chromium.org/54933002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@233586 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=233586&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>jadahl
          <td class=message><strong>cc: Keep track of busy resources in ResourcePool</strong>
            <pre class=body style=display:none>
Instead of assuming every released resource could be potentially
reusable, manage a list of busy resources and a list of immediately
reusable resources. A busy resource is one which can not be locked for
write.
    
Recheck busy resources before the tile manager is to schedule new tasks,
in AssignGpuMemoryToTiles().
    
If this operation becomes too expensive, the CheckBusyResources()
function should only be called if some resource(s) are returned from the
parent compositor or when ResourcePool releases some resource.

BUG=

Review URL: https://codereview.chromium.org/43753002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@233374 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=233374&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Valgrind: retire suppression for bug 291240.</strong>
            <pre class=body style=display:none>
With underlying leak cause addressed, the suppression
is no longer needed.

R=thestig@chromium.org
BUG=291240
NOTRY=true

Review URL: https://codereview.chromium.org/56983002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@233195 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=233195&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add a LinuxSandbox::HasOpenDirectories() sanity check</strong>
            <pre class=body style=display:none>
BUG=269806

Review URL: https://codereview.chromium.org/24055003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@233100 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=233100&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Adjust placement of innerHTML</strong>
            <pre class=body style=display:none>
In Blink rev 160981, innerHTML was moved from HTMLElement to Element.
Adjust UmaPolicy to match the new placement.

BUG=311080

Review URL: https://codereview.chromium.org/54953002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@232388 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=232388&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Enable ActivityLogApiTest.TriggerEvent and update test</strong>
            <pre class=body style=display:none>
Blink rev has been rolled to r161048, which includes the innerHTML
move from HTMLElement to Element. Update and enable the test that had
to be disabled during the transition.

BUG=311080

Review URL: https://codereview.chromium.org/54933002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@232385 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=232385&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>tmoniuszko
          <td class=message><strong>ScopedNativeLibrary.Basic test fix</strong>
            <pre class=body style=display:none>
IsBadCodePtr() function was returning zero value randomly and the test was
raising false alarms sometimes. This fix changes the test to use
GetFunctionPointerFromNativeLibrary() instead.

BUG=

Review URL: https://codereview.chromium.org/32303002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@232192 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=232192&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Disable ActivityLogApiTest.TriggerEvent while waiting for Blink roll</strong>
            <pre class=body style=display:none>
Blink will move innerHTML from HTMLElement from Element. Because this
test relies on the exact placement of the function, disable it during
the transition.

BUG=311080
NOTRY=true

Review URL: https://codereview.chromium.org/45733012

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@231961 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=231961&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Fix scoping of raw_bytes in URLRequestFileDirJob::OnListFile</strong>
            <pre class=body style=display:none>
data.info.GetName() returns a new FilePath object, and .value() thus
returns a reference to the string within that FilePath object.
This means that the FilePath object can vanish before the reference
to its contents is actually used - meaning whatever happens to be
on the stack will be accessed.
Fix by keeping a copy of the FilePath object in scope across call to
GetDirectoryListingEntry.

Introduced by r205019.

Review URL: https://codereview.chromium.org/48113006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@231821 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=231821&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>rchlodnicki
          <td class=message><strong>Return matching plug-ins in the sorted order (by version number).</strong>
            <pre class=body style=display:none>
In case there are multiple plug-ins in one group (multiple versions
of Flash plug-in for example), returning sorted list that has highest
version first makes sure that Chrome won&#39;t try to load outdated
version and end up blocking it in the end.

BUG=13892

Review URL: https://codereview.chromium.org/26541011

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@231381 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=231381&view=revision'><time datetime='2013-10-28' title='2013-10-28'>2013-10-28</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>allow overriding default_font_cache_limit</strong>
            <pre class=body style=display:none>
Android uses a 1M default skia glyph cache, but all other builds that
use skia default to 20M.  This patch makes the value configurable so non-android builds can choose an optimal value.

Review URL: https://codereview.chromium.org/41173002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@230999 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=230999&view=revision'><time datetime='2013-10-25' title='2013-10-25'>2013-10-25</time></a>
      
        <tr>
          <td>rchlodnicki
          <td class=message><strong>Use relative path for scripts loaded in content WebUI&#39;s</strong>
            <pre class=body style=display:none>
Specifying relative path works exactly the same as specifying absolute
path, as long as the script is declared using
WebUIDataSource::AddResourcePath (which it is in case of changed
WebUIs). So there is no behavioral change in case of Chromium. The
reason for this change is it makes the live of embedders of content
easier when embedder is loading the WebUI from a scheme that is not
chrome: (it is opera: for us). It allows us to save on on adding
security policy overrides for each content WebUI.

BUG=

Review URL: https://codereview.chromium.org/26930002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@230401 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=230401&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>remove sandbox/linux/seccomp-legacy references from licenses.py</strong>
            <pre class=body style=display:none>
sandbox/linux/seccomp-legacy no longer exists in the tree, so let&#39;s remove
references to it from the license documentation generation script.

Review URL: https://codereview.chromium.org/27195007

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@228592 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=228592&view=revision'><time datetime='2013-10-15' title='2013-10-15'>2013-10-15</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Remove temporary &lt;p&gt; elements from printing tests.</strong>
            <pre class=body style=display:none>
The &lt;p&gt; elements were introduced temporarily in [1]. The blink bug is rolled
in, hence the &lt;p&gt; elements can be removed.

[1] https://src.chromium.org/viewvc/chrome?view=rev&amp;revision=227076

R=vitalybuka@chromium.org
BUG=None

Review URL: https://codereview.chromium.org/26914004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@228563 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=228563&view=revision'><time datetime='2013-10-14' title='2013-10-14'>2013-10-14</time></a>
      
        <tr>
          <td>mpawlowski
          <td class=message><strong>Functions that decoded ie7 structures to extract per-URL username and password assumed there will only be one such pair for a URL. Changed to work with URLs for which there are several sets of credentials stored.</strong>
            <pre class=body style=display:none>
BUG=305241
TEST=IE7PasswordTest.*

Review URL: https://codereview.chromium.org/26465006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@228180 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=228180&view=revision'><time datetime='2013-10-11' title='2013-10-11'>2013-10-11</time></a>
      
        <tr>
          <td>ed
          <td class=message><strong>Non-US OS region generates invalid trace JSON.</strong>
            <pre class=body style=display:none>
JSON output from the trace logging has floats formatted
to the current user locale, which can make opening the
trace fail.

R=
BUG=304818

Review URL: https://codereview.chromium.org/26249002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@227730 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=227730&view=revision'><time datetime='2013-10-09' title='2013-10-09'>2013-10-09</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Silence narrowing warning with XRectangle</strong>
            <pre class=body style=display:none>
XRectangle is defined as such in &lt;X11/Xlib.h&gt;:

typedef struct {
    short x, y;
    unsigned short width, height;
} XRectangle;

BUG=none

Review URL: https://codereview.chromium.org/25647004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@227083 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=227083&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Trigger full html.css styles for some printing tests.</strong>
            <pre class=body style=display:none>
In Blink, @page UA styles is missing from the simple html stylesheet which
is used instead of html.css for documents which contains a certain subset
of html element types. Adding that @page rule to that simplified stylesheet
will change the actual results for these tests which have expectations
relying on that bug[1]:

  PrintWebViewHelperPreviewTest.PrintPreviewShrinkToFitPage
  PrintWebViewHelperPreviewTest.PrintPreviewCenterToFitPage

This CL changes the expected results and adds a &lt;p&gt; element to those tests
in order to trigger the correct @page rule from html.css without the fix in
Blink. Then the Blink fix[2] can land and be rolled into chromium without
affecting the results of the mentioned tests.

After the Blink fix is rolled into chromium, the &lt;p&gt; elements can be safely
removed again.

[1] https://code.google.com/p/chromium/issues/detail?id=304021
[2] https://codereview.chromium.org/25856002/

R=vitalybuka@chromium.org
BUG=304021

Review URL: https://codereview.chromium.org/25446005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@227076 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=227076&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>rchlodnicki
          <td class=message><strong>Don&#39;t pull in content_switches.cc to whole chrome code base</strong>
            <pre class=body style=display:none>
The point of this change is remove compilation of content_switches.cc
that was done in installer_util target. This is a static library
that other parts of chrome pull in and that makes the Chrome code that
references those switches compile even if the switches itself are
not exported.
Installer_util doesn&#39;t even seem to uses those switches AFAIK.

Dropped compilation of these files so these problems are actually
exposed and addressed by the person adding the switch. The main
offender that referenced those switches was chrome&#39;s about_flags.cc.

BUG=

Review URL: https://codereview.chromium.org/24994002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@226921 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=226921&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Wait for store flush in CookieMonster::Delete*Task</strong>
            <pre class=body style=display:none>
Second attempt to commit this, after fixing a flaky test:
http://code.google.com/p/chromium/issues/detail?id=302914

BUG=252217

Review URL: https://codereview.chromium.org/18032002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@226720 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=226720&view=revision'><time datetime='2013-10-03' title='2013-10-03'>2013-10-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Don&#39;t crash on invalid URL in GTK ContentShell</strong>
            <pre class=body style=display:none>
Entering an invalid URL crashed on the failing DCHECK in GURL::spec().

BUG=

Review URL: https://codereview.chromium.org/25841002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@226715 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=226715&view=revision'><time datetime='2013-10-03' title='2013-10-03'>2013-10-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Correct and simplify the cookie events browser test</strong>
            <pre class=body style=display:none>
The listeners were being removed in the completion callback to
chrome.cookies.set instead of in the chrome.cookiesonChanged
listener. Nothing guaranteed the order of these two, so the test
begun failing when delete started waiting for flush in
&lt;https://chromiumcodereview.appspot.com/18032002&gt;.

Simplify the tests by using listenOnce/listenForever.

BUG=302914

Review URL: https://codereview.chromium.org/25677004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@226456 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=226456&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove superfluous &#34;either&#34;</strong>
            <pre class=body style=display:none>
Left in by mistake in https://codereview.chromium.org/3129003

NOTRY=True
BUG=

Review URL: https://codereview.chromium.org/25479002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@226424 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=226424&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Make SchemaLoader independent of current working directory.</strong>
            <pre class=body style=display:none>
The SchemaLoader looks for schema files in the current directory. This
isn&#39;t very robust and may cause problems for other products than
Chromium if they run the script from a GYP file in another directory.

The SchemaLoader is supplied two arguments now: the path to API files
relative to the root path (for use in #includes) and the regular path
to API files (for file access).

BUG=

Review URL: https://codereview.chromium.org/23534063

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@225977 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=225977&view=revision'><time datetime='2013-09-30' title='2013-09-30'>2013-09-30</time></a>
      
        <tr>
          <td>ohrn
          <td class=message><strong>Fix missing SYS_mmap when building Android on x86.</strong>
            <pre class=body style=display:none>
Review URL: https://codereview.chromium.org/24560002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@225533 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=225533&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add Adreno GPU to deep memory profiler Android policies</strong>
            <pre class=body style=display:none>
The Adreno GPU is used on the Samsung Galaxy S4 GT-I9505.

NOTRY=True

Review URL: https://chromiumcodereview.appspot.com/23976012

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@225199 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=225199&view=revision'><time datetime='2013-09-25' title='2013-09-25'>2013-09-25</time></a>
      
        <tr>
          <td>mpawlowski
          <td class=message><strong>Fixing destruction order in password_store_win_unittest.cc</strong>
            <pre class=body style=display:none>
The order of declaration now matches the order of initialization in
SetUp(). Previously, we would attempt to destroy temp_dir while
profile and login_db were still locking it.

A very similar fix to https://chromiumcodereview.appspot.com/18684002/

TEST=unit_tests.exe --gtest_filter=&#34;PasswordStoreWinTest.*&#34;
BUG=

Review URL: https://chromiumcodereview.appspot.com/24267003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@224379 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=224379&view=revision'><time datetime='2013-09-20' title='2013-09-20'>2013-09-20</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>Remove hard dependency on bundled python_26 in tests</strong>
            <pre class=body style=display:none>
(solution suggested in https://codereview.chromium.org/16117004/ )

The hardcoded dependency on third_party/python_26 in some unit tests
makes it necessary to bundle that python with the test binaries. On other
platforms the system python is used and there is no reason Windows can&#39;t
do the same if one is available.

This saves us band-width (25 MB per test machine) when distributing tests.

The change is implemented as a removal of the hard coded path in execution and
instead it&#39;s inserted at the end of the PATH environment variable. That way it
will still be used if there is no other python available but otherwise a
system python will be used.

There is a small risk that the system python is unsuitable but that is a risk we
already take on non-Windows platforms.

Another solution was discussed in https://codereview.chromium.org/16117004/ before
this solution was suggested.

Review URL: https://chromiumcodereview.appspot.com/21537002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@224096 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=224096&view=revision'><time datetime='2013-09-19' title='2013-09-19'>2013-09-19</time></a>
      
        <tr>
          <td>robertn
          <td class=message><strong>Disable unittests that depends on OpenSSL when use_openssl==0</strong>
            <pre class=body style=display:none>
These unittests include headers that includes openssl/ssl.h
(sm_connection.h). For platforms that don&#39;t have access to
OpenSSL this won&#39;t work.

BUG=23724020

Review URL: https://chromiumcodereview.appspot.com/23724020

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@223893 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=223893&view=revision'><time datetime='2013-09-18' title='2013-09-18'>2013-09-18</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Wait for store flush in CookieMonster::Delete*Task</strong>
            <pre class=body style=display:none>
BUG=252217

Review URL: https://chromiumcodereview.appspot.com/18032002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@223324 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=223324&view=revision'><time datetime='2013-09-16' title='2013-09-16'>2013-09-16</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Remove the problematic call to GLSurface::GetBackingFrameBufferObject.</strong>
            <pre class=body style=display:none>
GLContextVirtual::IsCurrent doesn&#39;t need to call
GetBackingFrameBufferObject on a surface, the IsOffScreen check should
be enough.

The direct reason for this change is that GLContextVirtual::IsCurrent&#39;s
use of GetBackingFrameBufferObject interferes with the implementation of
that function in TextureImageTransportSurface.
TextureImageTransportSurface::GetBackingFrameBufferObject creates an FBO
if needed. Unfortunately GLContextVirtual::IsCurrent is called early in
GLContextVirtual&#39;s initialization, too early for
TextureImageTransportSurface::GetBackingFrameBufferObject to create the
frame buffer object because it needs a fully initialized context to
succeed.

BUG=

Review URL: https://chromiumcodereview.appspot.com/23480048

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@222505 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=222505&view=revision'><time datetime='2013-09-11' title='2013-09-11'>2013-09-11</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>Properly dismiss the InputDialogs in all cases</strong>
            <pre class=body style=display:none>
On newer versions of Android, dismissing a date/time dialog (with hw
back or touch outside of it) will still set the date or time. This is
not the case on older Android versions.

This fix adds an OnDismissListener that makes sure the dialog is always
cancelled unless it already have been cancelled or already have reported
back a new date.

R=bulach@chromium.org,olilan@chromium.org,keishi@chromium.org
BUG=

Review URL: https://chromiumcodereview.appspot.com/23533041

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@222027 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=222027&view=revision'><time datetime='2013-09-09' title='2013-09-09'>2013-09-09</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>test IWYU fixups for base</strong>
            <pre class=body style=display:none>
These are some of the suggestions from running include-what-you-use[1]
on the base target.

[1] https://code.google.com/p/include-what-you-use/

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/23540009

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@221067 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=221067&view=revision'><time datetime='2013-09-03' title='2013-09-03'>2013-09-03</time></a>
      
        <tr>
          <td>simonb
          <td class=message><strong>Fix building with Java 7</strong>
            <pre class=body style=display:none>
javap includes type parameters in Java 7, causing jni_generator.py to generate invalid C++ code. Fix by stripping away anything after a &#39;&lt;&#39;.

BUG=

Review URL: https://chromiumcodereview.appspot.com/23587011

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@221027 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=221027&view=revision'><time datetime='2013-09-03' title='2013-09-03'>2013-09-03</time></a>
      
        <tr>
          <td>shuais
          <td class=message><strong>Fix comment for WebUIDataSource::DisableReplaceExistingSource</strong>
            <pre class=body style=display:none>
Follow-up of review 22150004

Review URL: https://chromiumcodereview.appspot.com/23682003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@220297 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=220297&view=revision'><time datetime='2013-08-29' title='2013-08-29'>2013-08-29</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>content_shell: avoid debug crashing for mid-clicks on links.</strong>
            <pre class=body style=display:none>
There was a DCHECK in content_shell that we only opened links in the
current tab. That made middle clicks crash a debug content_shell and
I need to test middle clicks in Blink so that is no good.

BUG=

Review URL: https://chromiumcodereview.appspot.com/23517003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@220281 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=220281&view=revision'><time datetime='2013-08-29' title='2013-08-29'>2013-08-29</time></a>
      
        <tr>
          <td>wdzierzanowski
          <td class=message><strong>Add content::RenderWidgetHost::MouseEventCallback</strong>
            <pre class=body style=display:none>
This adds the possibility to register mouse event callbacks with
RenderWidgetHost and get notified about all kinds of mouse events.  Any
callback can &#34;handle&#34; the event, in which case it&#39;s not propagated to the
renderer.

Opera registers a mouse event callback to feed its mouse gesture recognizer
with events.  At this point, there is no other implementor of MouseEventCallback.

Review URL: https://chromiumcodereview.appspot.com/23416003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@220260 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=220260&view=revision'><time datetime='2013-08-29' title='2013-08-29'>2013-08-29</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Call RecordLastRunAppBundlePath in FILE thread</strong>
            <pre class=body style=display:none>
RecordLastRunAppBundlePath() uses chrome::GetVersionedDirectory()
which in turn uses PathProvider for base::DIR_EXE, which will do I/O
on OS X since it uses base::MakeAbsoluteFilePath() now.

Reorder the sync call a bit so that we don&#39;t have to post another
FILE thread task to get the preferences synced.

BUG=275988
TEST=Run Chromium; do (from command line):
&#34;defaults read org.chromium.Chromium LastRunAppBundlePath&#34;
-- should get path to Chromium.app; move Chromium.app to another
location and run it again; do &#34;defaults ...&#34; again -- should get path
to Chromium.app at new location.

Review URL: https://chromiumcodereview.appspot.com/22966010

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@220168 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=220168&view=revision'><time datetime='2013-08-29' title='2013-08-29'>2013-08-29</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>remove unused headers from sandbox_seccomp_bpf_linux.cc</strong>
            <pre class=body style=display:none>
sandbox_seccomp_bpf_linux.cc includes linux/audit.h and linux/filter.h but does not seem to use any of the macros or types defined within.

BUG=279413

Review URL: https://chromiumcodereview.appspot.com/23226004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@219630 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=219630&view=revision'><time datetime='2013-08-26' title='2013-08-26'>2013-08-26</time></a>
      
        <tr>
          <td>mateuszs
          <td class=message><strong>Added 125% DPI option to ui::ScaleFactors.</strong>
            <pre class=body style=display:none>
Since Opera is meant to support 125% scale
factor I&#39;ve added one more option to available
choices.

Review URL: https://chromiumcodereview.appspot.com/23011044

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@219265 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=219265&view=revision'><time datetime='2013-08-23' title='2013-08-23'>2013-08-23</time></a>
      
        <tr>
          <td>shuais
          <td class=message><strong>Add WebUIDataSourceImpl::DisableReplaceExistingSource</strong>
            <pre class=body style=display:none>
Currently when using WebUIDataSource object returned by content::WebUIDataSource::Create,
there is no way to override ShouldReplaceExistingSource for the URLDataSource object that
will be created by WebUIDataSource internally. As a result when WebUIDataSource of the same
type is added repeatedly for different instances of WebUI, the previous pending request on the data
source will be cancelled, resulting in broken WebUI page.
The New Tab Page in chromium doesn&#39;t suffer because it doesn&#39;t use WebUIDataSource,
however it&#39;s convinient and less work to use it for some WebUIs. It&#39;s also possible to work around
by avoiding adding WebUIDataSource repeatedly in the first place, but that is much more complicated
as we&#39;ll have to track is a certain WebUIDataSource already added or not for a given profile.
The proposed fix simply add the api to override ShouldReplaceExistingSource.

BUG=

Review URL: https://chromiumcodereview.appspot.com/22150004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@218710 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=218710&view=revision'><time datetime='2013-08-21' title='2013-08-21'>2013-08-21</time></a>
      
        <tr>
          <td>pkudla
          <td class=message><strong>CHR-458: Remove DCHECK which prevents from using custom ResourceBundle::Delegate</strong>
            <pre class=body style=display:none>
I need to create a Delegate for ResourceBundle. The only purpose of it is to provide our own fonts. Other resources should be handled by ResourceBundle. A method GetImageNamed() should also be handled by ResourceBundle. It works fine in release builds, but triggers an assert in debug builds.
DCHECK is triggered if a delegate does not create an image. This is wrong since the code can handle such case.

Review URL: https://chromiumcodereview.appspot.com/22418003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@217726 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=217726&view=revision'><time datetime='2013-08-15' title='2013-08-15'>2013-08-15</time></a>
      
        <tr>
          <td>julienp
          <td class=message><strong>Made XmlWriter able to write elements with both attributes and content.</strong>
            <pre class=body style=display:none>
This adds a simple method to XmlWriter for appending content to an
already opened element. The only other way to add content to an element
was to call WriteElement, which doesn&#39;t allow adding attributes.

TBR=darin@chromium.org

Review URL: https://chromiumcodereview.appspot.com/22337003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@217309 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=217309&view=revision'><time datetime='2013-08-13' title='2013-08-13'>2013-08-13</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Take the navigation type into account when checking if the navigation is in page.</strong>
            <pre class=body style=display:none>
When navigating from ref url to non ref one the navigation type has decisive voice whether the navigation should be treated as in page.
BUG=253481

Review URL: https://chromiumcodereview.appspot.com/21544005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@216329 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=216329&view=revision'><time datetime='2013-08-08' title='2013-08-08'>2013-08-08</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Fix GetNSExecutablePath for running tests with relative path</strong>
            <pre class=body style=display:none>
When running tests (zip_unittests.cc for instance) using
base::DIR_SOURCE_ROOT with ./&lt;test_executable_name&gt; they will get
incorrect directory names because ./ will be included in the return
value of GetNSExecutablePath() and it will be consider as one level
of parent directory by FilePath::DirName(). To avoid this problem we
should alway convert the value returned by GetNSExecutablePath() into
absolute path first.

BUG=258846
TEST=see bug

Review URL: https://chromiumcodereview.appspot.com/18309008

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@215882 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=215882&view=revision'><time datetime='2013-08-06' title='2013-08-06'>2013-08-06</time></a>
      
        <tr>
          <td>mathiash
          <td class=message><strong>Adds strategy for deciding whether to show popup or zoom in when having tapped multiple targets.</strong>
            <pre class=body style=display:none>
Related review: https://codereview.chromium.org/19281007/

BUG=260644

Review URL: https://chromiumcodereview.appspot.com/19256012

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@215843 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=215843&view=revision'><time datetime='2013-08-06' title='2013-08-06'>2013-08-06</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>The test framework doesn&#39;t really need to load resources and translations. This removes loading and changes the odd test that wasn&#39;t working anymore due to this change.</strong>
            <pre class=body style=display:none>
BUG=

Review URL: https://chromiumcodereview.appspot.com/18429012

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@215763 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=215763&view=revision'><time datetime='2013-08-06' title='2013-08-06'>2013-08-06</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>avoid char+&#39;\xHH&#39; as it&#39;s too easy to use values &gt; 127</strong>
            <pre class=body style=display:none>
TEST=net_unittests

Review URL: https://chromiumcodereview.appspot.com/21534003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@215124 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=215124&view=revision'><time datetime='2013-08-01' title='2013-08-01'>2013-08-01</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Don&#39;t create extension actions for disabled extensions.</strong>
            <pre class=body style=display:none>
The GetOrCreateOrNull function creates extension actions if needed and
caches them for later. When an extension is unloaded, the cache is
cleared.
Unfortunately it is possible for other listeners of the
NOTIFICATION_EXTENSION_UNLOADED to call GetOrCreateOrNull and the action
be recreated and cached for the extension being unloaded. The cached
action then exists even if the reloaded extension doesn&#39;t have the
action.

This change prevents recreation of the action object for extensions that
are already unloaded.

BUG=246919

Review URL: https://chromiumcodereview.appspot.com/20304002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@214767 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=214767&view=revision'><time datetime='2013-07-31' title='2013-07-31'>2013-07-31</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Improve error handling in bspatch.</strong>
            <pre class=body style=display:none>BUG=265456

TBR=brettw@chromium.org

Review URL: https://chromiumcodereview.appspot.com/21049006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@214750 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=214750&view=revision'><time datetime='2013-07-31' title='2013-07-31'>2013-07-31</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Notify about reset of the &#34;displayed insecure content&#34; state flag</strong>
            <pre class=body style=display:none>and take it into when updating the navigation entry.
BUG=253820

Review URL: https://chromiumcodereview.appspot.com/20986004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@214650 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=214650&view=revision'><time datetime='2013-07-31' title='2013-07-31'>2013-07-31</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>mesa should not to use X11 headers when use_x11==0</strong>
            <pre class=body style=display:none>
Mesa checks if MESA_EGL_NO_X11_HEADERS is defined before trying to
include X11 headers, we should set this if use_x11==0.

BUG=238755

Review URL: https://chromiumcodereview.appspot.com/20265003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@213918 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=213918&view=revision'><time datetime='2013-07-26' title='2013-07-26'>2013-07-26</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>only use gold-specific flags for the target linker</strong>
            <pre class=body style=display:none>
The host linker might not be gold if linux_use_gold_binary==0,
eg where we have a cross toolchain with gold and we want to use
that instead of third_party/gold/gold64.

Review URL: https://chromiumcodereview.appspot.com/19541006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@212823 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=212823&view=revision'><time datetime='2013-07-21' title='2013-07-21'>2013-07-21</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Fix a crash when built with 10.7 SDK running on OS X 10.6</strong>
            <pre class=body style=display:none>
NSWindowDidChangeBackingPropertiesNotification is available since 10.7.

Our buildbots use OS X 10.7 SDK to build with minimum target system
version set to 10.6. For features available only to 10.7 and up, we
normally have runtime guard to check if the system is 10.6 then we don&#39;t
use it.

However this one is in chromium content module and it doesn&#39;t have such
runtime check. We don&#39;t know the exact details of chromium buildbot or
how do they make release builds, it seems that they are building 10.6
releases with 10.6 SDK (which will disable the feature in compile time).

BUG=260595

Review URL: https://chromiumcodereview.appspot.com/18674005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@212060 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=212060&view=revision'><time datetime='2013-07-17' title='2013-07-17'>2013-07-17</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>include missing headers in skia/ext/analysis_canvas.{h,cc}</strong>
            <pre class=body style=display:none>
skia/ext/analysis_canvas.h uses the OVERRIDE macro, but does not
include the header file that defines it.

And analysis_canvas.cc lacks the header for DCHECK.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18881003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@212042 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=212042&view=revision'><time datetime='2013-07-17' title='2013-07-17'>2013-07-17</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing headers in ppapi/*</strong>
            <pre class=body style=display:none>
Include a few headers that are required but not already included directly.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18209022

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211724 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211724&view=revision'><time datetime='2013-07-15' title='2013-07-15'>2013-07-15</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing headers in components/tracing/child_trace_message_filter.h and </strong>
            <pre class=body style=display:none>content/child/child_resource_message_filter.cc

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18863004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211542 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211542&view=revision'><time datetime='2013-07-13' title='2013-07-13'>2013-07-13</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Fix the allHistory flag on chrome.history.onVisitRemoved event.</strong>
            <pre class=body style=display:none>
Calling chrome.history.deleteAll results in chrome.history.onVisitRemoved
events to be dispatched with the allHistory flag being false instead of true.
This fix changes the call to ExpireHistoryBetween so that begin_time and
end_time are null which results in the history backend using a special path
to delete all history and dispatch the right event.

BUG=258445

Review URL: https://chromiumcodereview.appspot.com/18755003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211376 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211376&view=revision'><time datetime='2013-07-12' title='2013-07-12'>2013-07-12</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing headers in gpu code</strong>
            <pre class=body style=display:none>
BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18883003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211355 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211355&view=revision'><time datetime='2013-07-12' title='2013-07-12'>2013-07-12</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing header in indexed_db_backing_store.cc</strong>
            <pre class=body style=display:none>
This file uses IsStringASCII but didn&#39;t explicitly include the relevant header file.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18384006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211217 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211217&view=revision'><time datetime='2013-07-11' title='2013-07-11'>2013-07-11</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing header in webkit/browser/fileapi/file_system_usage_cache.cc</strong>
            <pre class=body style=display:none>
webkit/browser/fileapi/file_system_usage_cache.cc uses base::Bind but
does not include base/bind.h.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18421009

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211098 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211098&view=revision'><time datetime='2013-07-11' title='2013-07-11'>2013-07-11</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing headers in cc/*</strong>
            <pre class=body style=display:none>
cc/resources/worker_pool.cc uses ConditionVariable but doesn&#39;t
include base/synchronization/condition_variable.h.

And various files in cc/scheduler/ were missing base/logging.h and base/bind.h.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18804005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@211004 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=211004&view=revision'><time datetime='2013-07-11' title='2013-07-11'>2013-07-11</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add missing includes in gpu/command_buffer/*</strong>
            <pre class=body style=display:none>
gpu/command_buffer/service/command_buffer_service.cc uses DCHECK* but
doesn&#39;t include base/logging.h

Similarly in gpu/command_buffer/service/transfer_buffer_manager.cc, which also lacks scoped_ptr.h.

BUG=259043

Review URL: https://chromiumcodereview.appspot.com/18998002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@210963 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=210963&view=revision'><time datetime='2013-07-10' title='2013-07-10'>2013-07-10</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>render_thread.h: include base/callback.h for Closure typedef</strong>
            <pre class=body style=display:none>
content/public/renderer/render_thread.h uses Closure but
does not directly include the header which provides this typedef.

Review URL: https://chromiumcodereview.appspot.com/18226007

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@210821 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=210821&view=revision'><time datetime='2013-07-10' title='2013-07-10'>2013-07-10</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>make it possible to disable internal tracing in unofficial builds</strong>
            <pre class=body style=display:none>
Add a tracing_like_official_build gyp setting, which works similarly to
the logging_like_official_build setting.

Review URL: https://chromiumcodereview.appspot.com/18333010

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@210650 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=210650&view=revision'><time datetime='2013-07-09' title='2013-07-09'>2013-07-09</time></a>
      
        <tr>
          <td>mpawlowski
          <td class=message><strong>Fixing destruction order in login database unit tests</strong>
            <pre class=body style=display:none>
Before, the ScopedTempDir would be destroyed before
LoginDatabase, which would still be locking the database file
within the temporary folder. This would cause an error in
ScopedTempDir&#39;s d-tor, and the temporary folder would stay
on disk.

Now the order of LoginDatabaseTest&#39;s members is aligned to
the order of initialization in SetUp and LoginDatabase is
destroyed before ScopedTempDir. This also makes the tests
run a lot faster on my Windows machine (&gt;4s to 110ms).

TEST=unit_tests.exe --gtest_filter=&#34;LoginDatabaseTest.*&#34;
BUG=

Review URL: https://chromiumcodereview.appspot.com/18684002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@210374 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=210374&view=revision'><time datetime='2013-07-08' title='2013-07-08'>2013-07-08</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>silence qcms __force_align_arg_pointer__ warning on mips too</strong>
            <pre class=body style=display:none>
Review URL: https://chromiumcodereview.appspot.com/18112005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@209815 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=209815&view=revision'><time datetime='2013-07-02' title='2013-07-02'>2013-07-02</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Fix CopyFromBackingStore when there&#39;s no cg_layer_.</strong>
            <pre class=body style=display:none>
In CopyFromBackingStore use the cg_bitmap_ as the source in case cg_layer_
hasn&#39;t been created yet.

BUG=

Review URL: https://chromiumcodereview.appspot.com/18052011

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@209399 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=209399&view=revision'><time datetime='2013-07-01' title='2013-07-01'>2013-07-01</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>linux: make libc urandom override work for non-glibc too</strong>
            <pre class=body style=display:none>
This patch attempts to generalise the linux libc urandom override, so that it works for non-glibc linux platforms too.

BUG=255215

Review URL: https://chromiumcodereview.appspot.com/18093002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@209281 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=209281&view=revision'><time datetime='2013-06-29' title='2013-06-29'>2013-06-29</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>attempt to make the libc urandom override work for non-glibc too</strong>
            <pre class=body style=display:none>
This patch attempts to generalise the linux libc urandom override, so
that it works for non-glibc linux platforms too.

Review URL: https://chromiumcodereview.appspot.com/17066002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@208924 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=208924&view=revision'><time datetime='2013-06-27' title='2013-06-27'>2013-06-27</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>allow unofficial builds with DCHECK and DLOG disabled</strong>
            <pre class=body style=display:none>
Previously, it was not possible to produce unofficial builds without
DCHECKS and DLOGS.

Review URL: https://chromiumcodereview.appspot.com/17165003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@207826 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=207826&view=revision'><time datetime='2013-06-21' title='2013-06-21'>2013-06-21</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>linux: tcmalloc does not depend on glib</strong>
            <pre class=body style=display:none>
This seems to have been an old implicit assumption that use_glib==1 meant OS==&#34;linux&#34;.

Review URL: https://chromiumcodereview.appspot.com/17076009

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@207370 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=207370&view=revision'><time datetime='2013-06-20' title='2013-06-20'>2013-06-20</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Add command line switch to enable region based columns.</strong>
            <pre class=body style=display:none>
This needs to be a separate switch - we cannot lump it together with
--enable-experimental-webkit-features , because we don&#39;t want
to unconditionally enable region based columns when running LayoutTests
(there are LayoutTests that compare rendering in the old and new multicol
implementations, using internals.settings.setRegionBasedColumnsEnabled(true)).

BUG=242905

Review URL: https://chromiumcodereview.appspot.com/17057003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@207005 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=207005&view=revision'><time datetime='2013-06-18' title='2013-06-18'>2013-06-18</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>don&#39;t override libc code in a glibc-specific way when not using glibc</strong>
            <pre class=body style=display:none>
We should not attempt to override libc functions using glibc-specific
code when not actually using glibc.  This still needs to be fixed
for other libc&#39;s though.

Review URL: https://chromiumcodereview.appspot.com/16132015

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@206040 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=206040&view=revision'><time datetime='2013-06-13' title='2013-06-13'>2013-06-13</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add more string -&gt; unsigned number conversion unit tests (attempt 2)</strong>
            <pre class=body style=display:none>
Add unit tests for the following functions in base:
StringToUint
StringToUint64
StringToSizeT

Review URL: https://chromiumcodereview.appspot.com/15521004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@206031 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=206031&view=revision'><time datetime='2013-06-13' title='2013-06-13'>2013-06-13</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Skip argv[0] when processing command line options in symlink.py</strong>
            <pre class=body style=display:none>
The problem fixed by this patch is that this script always creates a link
to itself in the target location. That behavior was probably not intended
and caused problems when running this script several times with the same
target folder. Each run of this script would create one expected link and
one link to the script itself. Meaning that the need to use --force the
second time was needed to overwrite the &#34;self-link&#34; from the first run.

Even with --force there were issues if this script was run in parallel
since there can be a race condition in overwriting the &#34;self-link&#34;.

Review URL: https://chromiumcodereview.appspot.com/16096006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@202661 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=202661&view=revision'><time datetime='2013-05-28' title='2013-05-28'>2013-05-28</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>untangle pango usage from use_x11 and OS==linux</strong>
            <pre class=body style=display:none>
This allows pango to be toggled independently of X11 and linux. It defaults 
to enabled on these.

Review URL: https://chromiumcodereview.appspot.com/15102010

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201892 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201892&view=revision'><time datetime='2013-05-23' title='2013-05-23'>2013-05-23</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add a macro that really identifies glibc</strong>
            <pre class=body style=display:none>
uClibc pretends to be glibc, so just checking for __GLIBC__ doesn&#39;t always
work.  Rather than check for defined(__GLIBC__) &amp;&amp; !defined(__UCLIBC__) in
multiple places, do it once and define LIBC_GLIBC if we&#39;re certain that we&#39;re
really using glibc.

NOTRY=true

Review URL: https://chromiumcodereview.appspot.com/15405003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201761 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201761&view=revision'><time datetime='2013-05-23' title='2013-05-23'>2013-05-23</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>Correct link for &#39;ISimpleDOM COM interfaces for accessibility&#39;</strong>
            <pre class=body style=display:none>
The link in the third party list didn&#39;t work. Replacing
http://www.mozilla.org/en-US/access/windows/at-apis which is dead with
http://developer.mozilla.org/en-US/docs/Accessibility/AT-APIs instead.

BUG=none
TBR=brettw

Review URL: https://chromiumcodereview.appspot.com/15272003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201484 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201484&view=revision'><time datetime='2013-05-22' title='2013-05-22'>2013-05-22</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Gtk content shell: make the window shrinkable.</strong>
            <pre class=body style=display:none>
Don&#39;t treat a window resize request by setting the content widget&#39;s
minimum size; instead just resize the top level window.

R=
BUG=236301

Review URL: https://chromiumcodereview.appspot.com/14496004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201315 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201315&view=revision'><time datetime='2013-05-21' title='2013-05-21'>2013-05-21</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add more string -&gt; unsigned number conversion unit tests</strong>
            <pre class=body style=display:none>
Add unit tests for the following functions in base:
	StringToUint
	StringToUint64
	StringToSizeT

Review URL: https://chromiumcodereview.appspot.com/14794002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201204 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201204&view=revision'><time datetime='2013-05-21' title='2013-05-21'>2013-05-21</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>Fix link to NVidia Control X Extension Library homepage</strong>
            <pre class=body style=display:none>
Missing scheme in the link made it not work.

BUG=

Review URL: https://chromiumcodereview.appspot.com/15302002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@201023 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=201023&view=revision'><time datetime='2013-05-20' title='2013-05-20'>2013-05-20</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Gtk content shell: map key F5 to reload.</strong>
            <pre class=body style=display:none>
R=
BUG=236299

Review URL: https://chromiumcodereview.appspot.com/14389010

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@199988 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=199988&view=revision'><time datetime='2013-05-14' title='2013-05-14'>2013-05-14</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Feeding negative numbers to the HexStringToUInt64 should fail, with output 0 (the closest value in the datatype&#39;s range).</strong>
            <pre class=body style=display:none>
Review URL: https://chromiumcodereview.appspot.com/14109020

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@197614 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=197614&view=revision'><time datetime='2013-05-01' title='2013-05-01'>2013-05-01</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>fix capslock typo in net/third_party/nss/README.chromium</strong>
            <pre class=body style=display:none>
&#34;License FILE:&#34; should be &#34;License File:&#34;.  This typo slipped through in this previous review:
https://chromiumcodereview.appspot.com/10830201

Review URL: https://chromiumcodereview.appspot.com/14544002

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@197103 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=197103&view=revision'><time datetime='2013-04-29' title='2013-04-29'>2013-04-29</time></a>
      
        <tr>
          <td>ohrn
          <td class=message><strong>Introduce arm_version to allow building for armv5, v6 or v7.</strong>
            <pre class=body style=display:none>
This patch deprecates armv7 and adds arm_version that takes an integer
value representing the ARM architecture level.

In addition arm_arch, arm_tune, arm_fpu, arm_float_abi and arm_thumb can
be set to fine tune CPU related compiler flags, defaults are provided for
ARM versions 5 to 7.

BUG=234135

Review URL: https://chromiumcodereview.appspot.com/14065005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@196702 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=196702&view=revision'><time datetime='2013-04-26' title='2013-04-26'>2013-04-26</time></a>
      
        <tr>
          <td>msimonides
          <td class=message><strong>Clear the background_page_ready flag in DisableExtension.</strong>
            <pre class=body style=display:none>
I&#39;ve used a conservative approach and only clear the background_page_ready
flag. In the UnloadExtension method the whole extension_runtime_data_ for
the extension is cleared, so maybe the same should be done here?

BUG=232435
R=mpcomplete@chromium.org

Review URL: https://chromiumcodereview.appspot.com/14246028

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@195468 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=195468&view=revision'><time datetime='2013-04-22' title='2013-04-22'>2013-04-22</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add --enable-spatial-navigation flag for testing</strong>
            <pre class=body style=display:none>
This depends on the following blink patch:
https://codereview.chromium.org/13811041/

Review URL: https://chromiumcodereview.appspot.com/14110006

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@194875 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=194875&view=revision'><time datetime='2013-04-18' title='2013-04-18'>2013-04-18</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>posix: replace nonstandard futimes call with futimens</strong>
            <pre class=body style=display:none>
Replace a futimes call with futimens which is specified in POSIX.1-2008.

R=brettw@chromium.org,darin@chromium.org

Review URL: https://chromiumcodereview.appspot.com/13818027

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@194862 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=194862&view=revision'><time datetime='2013-04-18' title='2013-04-18'>2013-04-18</time></a>
      
        <tr>
          <td>ohrn
          <td class=message><strong>Remove zero length composing spans.</strong>
            <pre class=body style=display:none>
This fixes the following logcat error:
E/SpannableStringBuilder(14995): SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length

BUG=229809

Review URL: https://chromiumcodereview.appspot.com/13820016

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@193948 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=193948&view=revision'><time datetime='2013-04-12' title='2013-04-12'>2013-04-12</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>fix gcc 4.7 compilation errors in base_unittests</strong>
            <pre class=body style=display:none>
Compiling base_unittests with gcc 4.7 on linux gives these errors:
../../base/logging_unittest.cc: In member function &#39;virtual void logging::{anonymous}::LoggingTest_BasicLogging_Test::TestBody()&#39;:
../../base/logging_unittest.cc:68:172: error: converting &#39;false&#39; to pointer type for argument 1 of &#39;char testing::internal::IsNullLiteralHelper(testing::internal::Secret*)&#39; [-Werror=conversion-null]
../../base/logging_unittest.cc: In member function &#39;virtual void logging::{anonymous}::LoggingTest_LogIsOn_Test::TestBody()&#39;:
../../base/logging_unittest.cc:123:174: error: converting &#39;false&#39; to pointer type for argument 1 of &#39;char testing::internal::IsNullLiteralHelper(testing::internal::Secret*)&#39; [-Werror=conversion-null]
../../base/logging_unittest.cc:132:174: error: converting &#39;false&#39; to pointer type for argument 1 of &#39;char testing::internal::IsNullLiteralHelper(testing::internal::Secret*)&#39; [-Werror=conversion-null]
../../base/logging_unittest.cc:141:174: error: converting &#39;false&#39; to pointer type for argument 1 of &#39;char testing::internal::IsNullLiteralHelper(testing::internal::Secret*)&#39; [-Werror=conversion-null]

Switching from EXPECT_EQ(false, something) to EXPECT_TRUE(false == something)
fixes the problem.

Review URL: https://chromiumcodereview.appspot.com/14019004

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@193872 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=193872&view=revision'><time datetime='2013-04-12' title='2013-04-12'>2013-04-12</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Android: fix link error for android_full_debug=1</strong>
            <pre class=body style=display:none>
android_full_debug=1 fails to link with &#34;undefined reference to
__cxa_bad_typeid&#34;. Work around this by telling the linker to ignore
unused input sections.

Review URL: https://chromiumcodereview.appspot.com/13772007

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@193737 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=193737&view=revision'><time datetime='2013-04-11' title='2013-04-11'>2013-04-11</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Android: improve native debuggability</strong>
            <pre class=body style=display:none>
When starting with --wait-for-debugger command line option, it&#39;s ending
up in a busy loop waiting for a variable to be changed. Change that busy
loop from a macro to a function. It avoids having to step on instruction
level to find the right stack frame before the variable is visible.


Review URL: https://chromiumcodereview.appspot.com/13597005

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@192944 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=192944&view=revision'><time datetime='2013-04-08' title='2013-04-08'>2013-04-08</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>libflac and libspeex are only used if input_speech==1, so add the dependencies as needed.</strong>
            <pre class=body style=display:none>
BUG=none

Review URL: https://chromiumcodereview.appspot.com/13431003

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@192653 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=192653&view=revision'><time datetime='2013-04-05' title='2013-04-05'>2013-04-05</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>remove redundant DCHECK that a size_t variable &gt;= 0</strong>
            <pre class=body style=display:none>
SampleVector::GetCountAtIndex has a DCHECK which checks that a size_t
variable is &gt;= 0 and then some other condition.  But size_t is an
unsigned type so the first part of the check is useless (and it
gives an error because of this with clang).


Review URL: https://chromiumcodereview.appspot.com/13006014

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@190776 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=190776&view=revision'><time datetime='2013-03-26' title='2013-03-26'>2013-03-26</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Make it possible to override the default mipsel sysroot.</strong>
            <pre class=body style=display:none>
Also, update the default mipsel sysroot to match the work in issue 12315003.

Review URL: https://chromiumcodereview.appspot.com/12387011

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@186251 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=186251&view=revision'><time datetime='2013-03-05' title='2013-03-05'>2013-03-05</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>add a use_alsa gyp setting</strong>
            <pre class=body style=display:none>
By adding a gyp setting, we can explicitly disable alsa on various
unix targets that don&#39;t include alsa.

BUG=

TEST=Build with use_alsa=0 then run ldd on output binaries to verify libasound is not listed (and is listed if built with use_alsa=1 or unspecified).


Review URL: https://chromiumcodereview.appspot.com/12316049

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@185011 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=185011&view=revision'><time datetime='2013-02-27' title='2013-02-27'>2013-02-27</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>ffmpeg_unittests should depend on use_ffmpeg==1</strong>
            <pre class=body style=display:none>
This target currently makes assumptions based on the platform, even though there&#39;s an explicit variable that was previously set for this purpose.


Review URL: https://chromiumcodereview.appspot.com/12334037

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@184320 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=184320&view=revision'><time datetime='2013-02-23' title='2013-02-23'>2013-02-23</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>if PKG_CONFIG_PATH is already set, pkg-config-wrapper should use these dirs too</strong>
            <pre class=body style=display:none>
If PKG_CONFIG_PATH is set, then prepend these paths to those generated
by the wrapper.  This allows cross-compilation using sysroots with pkgconfig
directories in non-standard locations.

This change is safer than the original patch (https://codereview.chromium.org/12320047/), which was reverted (https://codereview.chromium.org/12317063/) due to what appears to be a chromeos builder with PKG_CONFIG_PATH set to an incomplete value (should probably be unset).

Add Opera Software to the AUTHORS file


BUG=


Review URL: https://chromiumcodereview.appspot.com/12340023

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@184184 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=184184&view=revision'><time datetime='2013-02-22' title='2013-02-22'>2013-02-22</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>pkg-config-wrapper shouldn&#39;t clobber PKG_CONFIG_PATH if it is already set</strong>
            <pre class=body style=display:none>
This allows cross-compilation using sysroots with pkgconfig directories in
non-standard locations.

Add Opera Software to the AUTHORS file


BUG=


Review URL: https://chromiumcodereview.appspot.com/12320047

git-svn-id: svn://svn.chromium.org/chrome/trunk/src@183957 0039d316-1c4b-4281-b951-d872f2087c98
</pre>
          <td><a href='http://src.chromium.org/viewvc/chrome?revision=183957&view=revision'><time datetime='2013-02-22' title='2013-02-22'>2013-02-22</time></a>
      
      </table>
    </section>
  
    <section class="blink">
      <h2>Blink</h2>
      <table>
      <colgroup class=col-author>
      <colgroup class=col-message>
      <colgroup class=col-when>
      <tr><th>Author <th>Message <th>When
      
        <tr>
          <td>philipj
          <td class=message><strong>Make arguments to Document methods non-optional</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#interface-document

Only touch methods defined by the above spec.

The added missing-arguments test passes in Firefox Nightly, IE11
Release Preview and Opera 12.16, so there ought to be fairly little
Web content depending on the old behavior.

BUG=325922

Review URL: https://codereview.chromium.org/106773003

git-svn-id: svn://svn.chromium.org/blink/trunk@163341 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163341&view=revision'><time datetime='2013-12-06' title='2013-12-06'>2013-12-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Sync Document.createProcessingInstruction() with spec</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#dom-document-createprocessinginstruction

Firefox Nightly already passes the added tests, so we would not be the
first to adopt these changes.

BUG=325922

Review URL: https://codereview.chromium.org/100433004

git-svn-id: svn://svn.chromium.org/blink/trunk@163335 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163335&view=revision'><time datetime='2013-12-06' title='2013-12-06'>2013-12-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Convert a few tests from CRLF to LF line endings</strong>
            <pre class=body style=display:none>
The CRLF line endings seemingly cause the apply_issue step to fail in
trybot runs for https://codereview.chromium.org/106773003

BUG=none
R=arv@chromium.org

Review URL: https://codereview.chromium.org/107393002

git-svn-id: svn://svn.chromium.org/blink/trunk@163305 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163305&view=revision'><time datetime='2013-12-06' title='2013-12-06'>2013-12-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for URLUtils.href</strong>
            <pre class=body style=display:none>
http://url.spec.whatwg.org/#urlutils

The updated element-attribute-js-null tests pass in Firefox Nightly,
IE11 Release Preview and Opera 12.16.

No other browser passes the URL.href test, because Firefox throws when
setting a non-valid URL, while IE and Opera don&#39;t even support the URL
constructor.

BUG=310298

Review URL: https://codereview.chromium.org/105823005

git-svn-id: svn://svn.chromium.org/blink/trunk@163294 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163294&view=revision'><time datetime='2013-12-06' title='2013-12-06'>2013-12-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounters for HTMLElement.innerText and .outerText</strong>
            <pre class=body style=display:none>
There is no specification for this yet, and there&#39;s a chance that
at least outerText is used little enough to be removed.

All major engines except Gecko have some implementation:
https://bugzilla.mozilla.org/show_bug.cgi?id=264412

BUG=none

Review URL: https://codereview.chromium.org/104713004

git-svn-id: svn://svn.chromium.org/blink/trunk@163289 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163289&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Add &#39;exposed&#39; objects and embeds to a document&#39;s named properties.</strong>
            <pre class=body style=display:none>
The spec tells us that exposed &lt;embed&gt; and &lt;object&gt; are to be included
in a document&#39;s &#34;supported property names&#34;

  http://www.whatwg.org/specs/web-apps/current-work/#dom-document-nameditem
  http://www.whatwg.org/specs/web-apps/current-work/#exposed

(along with various other side conditions.) 

crbug.com/313292 retired a partial notion of &#34;exposed&#34;ness, this
provides an implementation close to the spec&#39;s definition.

R=
BUG=316988

Review URL: https://codereview.chromium.org/75273004

git-svn-id: svn://svn.chromium.org/blink/trunk@163287 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163287&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove WTF::textAtom and WTF::commentAtom</strong>
            <pre class=body style=display:none>
These are only used in implementations of Node::nodeName(), where
CDATASection, Document and DocumentFragment already use raw strings.

Added in &lt;https://trac.webkit.org/changeset/9639&gt;, at which point both
atoms were used in multiple places. Previously raw strings were used.

BUG=none

Review URL: https://codereview.chromium.org/106483002

git-svn-id: svn://svn.chromium.org/blink/trunk@163281 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163281&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Let Node.textContent never throw</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#dom-node-textcontent

This is per the spec. The only case where it could previously have
thrown is if ContainerNode::checkAcceptChild returned false. I could
not find a situation where that would have happened, so just assert
that the internal appendChild call does not throw an exception.

BUG=326133
TEST=none

Review URL: https://codereview.chromium.org/106503002

git-svn-id: svn://svn.chromium.org/blink/trunk@163275 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163275&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove fourth argument to createNodeIterator/createTreeWalker</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#dom-document-createnodeiterator
http://dom.spec.whatwg.org/#dom-document-createtreewalker

As shown by the test cases, the extra argument is ignored, so it does
not need to be in the IDL in order to be compatible with legacy code.

BUG=325922

Review URL: https://codereview.chromium.org/106423002

git-svn-id: svn://svn.chromium.org/blink/trunk@163271 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163271&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Let Node.nodeName never return null</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#dom-node-nodename

Since I could not find any case where it would currently return null, no
observable diference is expected and no tests were added.

Also remove an outdated comment.

BUG=none
TEST=none

Review URL: https://codereview.chromium.org/105733008

git-svn-id: svn://svn.chromium.org/blink/trunk@163269 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163269&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Use the return value to signal success for VTTParser helpers</strong>
            <pre class=body style=display:none>
Convert functions on the form:

ValueType f(..., bool&amp; success);

to the form:

bool f(..., ValueType&amp; value);

Since the latter form tend to integrate more naturally in a
success/failure parsing scheme.
Make sure that the output value is not touched unless parsing was
successful.
Perform some (minor) simplifications due to this change.

Also simplify the check for a trailing &#39;%&#39; in parseFloatPercentageValue.

BUG=305317

Review URL: https://codereview.chromium.org/104713002

git-svn-id: svn://svn.chromium.org/blink/trunk@163248 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163248&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Have preloader handle crossorigin resources better.</strong>
            <pre class=body style=display:none>
Make the preloading of resources understand CORS better:

 - correctly interpret a &#39;crossorigin&#39; attribute without a value
   as &#34;anonymous&#34;.
 - enable a CORS fetch if the attribute was present. For &lt;script&gt;
   and &lt;img&gt;, currently.

R=
BUG=324974

Review URL: https://codereview.chromium.org/104943004

git-svn-id: svn://svn.chromium.org/blink/trunk@163210 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163210&view=revision'><time datetime='2013-12-05' title='2013-12-05'>2013-12-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Tweak TextTrackCue/VTTCue virtual functions</strong>
            <pre class=body style=display:none>
Remove unreachable implementations and remove toString from release.

BUG=270340

Review URL: https://codereview.chromium.org/104473002

git-svn-id: svn://svn.chromium.org/blink/trunk@163184 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163184&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Merge bools into bit fields in TextTrackCue and VTTCue</strong>
            <pre class=body style=display:none>
On x86_64 Linux, this reduces sizeof(VTTCue) from 248 to 232.
This does likely not result in real runtime savings, but is a
step back from 256, where a real memory increase is likely.

BUG=none

Review URL: https://codereview.chromium.org/104243003

git-svn-id: svn://svn.chromium.org/blink/trunk@163183 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163183&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for Element.id and .className</strong>
            <pre class=body style=display:none>
http://dom.spec.whatwg.org/#interface-element

The tests for the updated properties FAIL in Firefox Nightly, IE11
Release Preview and Opera 12.16, with the exception of the id test
in Firefox.

This is because id and className are not on the Element interface
in these browsers, if the test is modified to create a HTMLElement
then tests for both attributes pass in all browsers.

BUG=310298

Review URL: https://codereview.chromium.org/104263002

git-svn-id: svn://svn.chromium.org/blink/trunk@163182 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163182&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Simplify VTTParser::collectTimeStamp</strong>
            <pre class=body style=display:none>
Drop the various &#34;is next character and ASCII digit&#34; test that precede
calls to collectDigitsToInt. The latter will perform both the
&#34;out of input&#34; and &#34;is ASCII digit&#34; checks via collectDigits.

BUG=305317

Review URL: https://codereview.chromium.org/104443002

git-svn-id: svn://svn.chromium.org/blink/trunk@163174 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163174&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add a UseCounter for HTMLHtmlElement.manifest</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#attr-html-manifest

The spec says &#34;The manifest attribute only has an effect during the
early stages of document load. Changing the attribute dynamically thus
has no effect (and thus, no DOM API is provided for this attribute).&#34;

Added in &lt;http://trac.webkit.org/changeset/66327&gt; and confirmed by
Darin Adler to be unintentional.

BUG=325420

Review URL: https://codereview.chromium.org/100953004

git-svn-id: svn://svn.chromium.org/blink/trunk@163170 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163170&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>ed
          <td class=message><strong>Add UseCounter for SVGPoint.matrixTransform.</strong>
            <pre class=body style=display:none>
Requested by https://www.w3.org/Graphics/SVG/WG/track/actions/3534.

R=pdr,krit
BUG=

Review URL: https://codereview.chromium.org/104023003

git-svn-id: svn://svn.chromium.org/blink/trunk@163164 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163164&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Make VTTParser::collectDigitsToInt non-copying</strong>
            <pre class=body style=display:none>
Modify VTTParser::collectDigits to simply count the number of digits and
advance the position. Rename it to scanDigits and make it local to the
compilation unit.
Convert users of collectDigits to use scanDigits instead. For
collectDigitsToInt this means that there&#39;s no longer a need to copy the
digits into a temporary String. Similarly for parseFloatPercentageValue.

Also fixes a minor issue in parseFloatPercentageValue where the endpoints
(0 and 100) were excluded from the range of valid values rather than
included.

BUG=305317

Review URL: https://codereview.chromium.org/102403002

git-svn-id: svn://svn.chromium.org/blink/trunk@163160 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163160&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TextTrackCueBox</strong>
            <pre class=body style=display:none>
It is only used by the VTT code, so keep only VTTCueBox.

BUG=270340

Review URL: https://codereview.chromium.org/102073002

git-svn-id: svn://svn.chromium.org/blink/trunk@163149 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163149&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add a UseCounter for the overflowchanged event</strong>
            <pre class=body style=display:none>
By request from PhistucK:
https://groups.google.com/a/chromium.org/d/msg/blink-dev/uaQHXAtaQCg/m46ZdQU3K1IJ

BUG=none

Review URL: https://codereview.chromium.org/102793003

git-svn-id: svn://svn.chromium.org/blink/trunk@163128 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163128&view=revision'><time datetime='2013-12-04' title='2013-12-04'>2013-12-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlelement

Leave [TreatNullAs=NullString] on innerText/outerText, since they&#39;re
non-standard properties which need special investigation.

Split the tests for Element into a separate block for clarity.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflects dir as &#34;&#34; and innerText as null.

IE throws an exception for dir and reflects innerText as &#34;null&#34;.

No tested browser throws an exception when setting outerHTML/outerText
to null, but ignore that since the behavior wasn&#39;t change here.

BUG=310298

Review URL: https://codereview.chromium.org/102763002

git-svn-id: svn://svn.chromium.org/blink/trunk@163116 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163116&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TextTrackCue::isVTTCue</strong>
            <pre class=body style=display:none>
It is unused, as virtual functions are used instead of casting.

BUG=270340

Review URL: https://codereview.chromium.org/102003002

git-svn-id: svn://svn.chromium.org/blink/trunk@163113 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163113&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Add new helper VTTParser::collectDigitsToInt</strong>
            <pre class=body style=display:none>
Since most uses of VTTParser::collectDigits is followed by a call to
String::toInt on the resulting string, add this new helper with the
aim of later removing the temporary string construction.
Handle overflow in the string-to-int conversion by means of saturation.
(The latter is the intended change of semantics.)

Replace uses of collectDigits with collectDigitsToInt where applicable.
After doing this, there remain no callers to collectDigits outside of
VTTParser, so make the function static.

Also move VTTParser::skipWhiteSpace &#34;textually&#34; to group it with the other
&#39;scanning&#39; functions, and make it static since it does not depend on any
VTTParser state.

BUG=305317

Review URL: https://codereview.chromium.org/101513002

git-svn-id: svn://svn.chromium.org/blink/trunk@163098 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163098&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add a UseCounter for HTMLHeadElement.profile</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlheadelement

The profile attribute is not in the spec and not supported by
Opera 12.16 or Firefox Nightly. It is supported by IE11 Release
Preview. Add a counter to see if we can remove it.

IE11 reflects null as &#39;null&#39;, not &#39;&#39;, but leave that for now.

BUG=none

Review URL: https://codereview.chromium.org/101433002

git-svn-id: svn://svn.chromium.org/blink/trunk@163097 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163097&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLTextAreaElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmltextareaelement

The value attribute has [TreatNullAs=EmptyString] in the spec.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox does not support dirName or inputMode.

IE does not support dirName or inputMode, reflects value as &#39;null&#39;,
and throws an exception for wrap.

Opera does not support inputMode.

BUG=310298

Review URL: https://codereview.chromium.org/101423002

git-svn-id: svn://svn.chromium.org/blink/trunk@163094 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163094&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLSelectElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlselectelement

The value attribute returns &#34;&#34; when there is no selected child
&lt;option&gt; element, so add another test to verify that null
stringifies to &#34;null&#34; on setting.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/101573002

git-svn-id: svn://svn.chromium.org/blink/trunk@163087 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163087&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLHeadingElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#HTMLHeadingElement-partial

The updated test passes in Firefox Nightly and Opera 12.16,
but throws an exception in IE.

BUG=310298

Review URL: https://codereview.chromium.org/101193003

git-svn-id: svn://svn.chromium.org/blink/trunk@163083 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163083&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLHtmlElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#HTMLHtmlElement-partial

The manifest attribute is not in the spec, so leave it alone pending a
decision about what to do with it:
https://groups.google.com/a/chromium.org/d/msg/blink-dev/dSTAYLhhV3o/2Sh66-B7oAIJ

The test passes in Firefox Nightly, IE11 Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/101153003

git-svn-id: svn://svn.chromium.org/blink/trunk@163082 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163082&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLTable*Element</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#HTMLTableCaptionElement-partial
http://whatwg.org/html#htmltablecellelement
http://whatwg.org/html#HTMLTableCellElement-partial
http://whatwg.org/html#htmltableheadercellelement
http://whatwg.org/html#HTMLTableDataCellElement-partial
http://whatwg.org/html#HTMLTableColElement-partial
http://whatwg.org/html#HTMLTableElement-partial
http://whatwg.org/html#HTMLTableRowElement-partial
http://whatwg.org/html#HTMLTableSectionElement-partial

The spec has HTMLTableDataCellElement and HTMLTableHeaderCellElement
interfaces which we don&#39;t have yet, but ignore that here.

HTMLTable*Element.bgColor and HTMLTableElement.cellPadding/cellSpacing
have [TreatNullAs=EmptyString] in the spec.

HTMLTableCellElement.headers is a DOMSettableTokenList in the spec, so
leave it alone until that is fixed.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE throws an exception for the align/vAlign/frame/rules, and reflects
border/width/height as the empty string.

BUG=310298

Review URL: https://codereview.chromium.org/101493002

git-svn-id: svn://svn.chromium.org/blink/trunk@163081 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163081&view=revision'><time datetime='2013-12-03' title='2013-12-03'>2013-12-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLObjectElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlobjectelement
http://whatwg.org/html#HTMLObjectElement-partial

Make the codebase attribute reflect as a URL, as per spec.

The border attribute has [TreatNullAs=EmptyString] in the spec.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflect code as a URL.

IE throws an exception for align, doesn&#39;t reflect codeBase as a URL,
and reflects width/height as the empty string.

BUG=310298

Review URL: https://codereview.chromium.org/99233002

git-svn-id: svn://svn.chromium.org/blink/trunk@163037 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163037&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLScriptElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlscriptelement
http://whatwg.org/html#HTMLScriptElement-partial

The nonce attribute is experimental and not in the HTML spec, but
remove [TreatNullAs=NullString] anyway since it&#39;s hardly intended.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox does not support nonce.

IE does not support crossOrigin or nonce.

Opera throws an exception when setting text, and does not support
htmlFor, event, crossOrigin or nonce.

BUG=310298

Review URL: https://codereview.chromium.org/98543006

git-svn-id: svn://svn.chromium.org/blink/trunk@163036 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163036&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLMarqueeElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlmarqueeelement

Very few of the tests pass in any other browser, with little
agreement between them. There might be spec or implementation
work to do here, but this change is likely safe regardless.

BUG=310298

Review URL: https://codereview.chromium.org/98893003

git-svn-id: svn://svn.chromium.org/blink/trunk@163035 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163035&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLInputElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlinputelement
http://whatwg.org/html#HTMLInputElement-partial

The value attribute has [TreatNullAs=EmptyString] in the spec, so
leave it with [TreatNullAs=NullString] even though that doesn&#39;t
exactly match the spec, to be fixed in a later commit.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflects autocomplete as the empty string, and doesn&#39;t support
dirName.

IE throws an exception for align/type, doesn&#39;t support dirName, and
doesn&#39;t reflect formAction as a URL.

Opera doesn&#39;t reflect formAction as a URL, and reflects min/max as the
empty string.

BUG=310298

Review URL: https://codereview.chromium.org/98383004

git-svn-id: svn://svn.chromium.org/blink/trunk@163033 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163033&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for various HTML elements</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmllabelelement
http://whatwg.org/html#HTMLLegendElement-partial
http://whatwg.org/html#htmlmapelement
http://whatwg.org/html#htmloptgroupelement
http://whatwg.org/html#htmlstyleelement
http://whatwg.org/html#htmltitleelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE throws an exception for HTMLLegendElement.align.

BUG=310298

Review URL: https://codereview.chromium.org/99103002

git-svn-id: svn://svn.chromium.org/blink/trunk@163009 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163009&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLParamElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlparamelement
http://whatwg.org/html#HTMLParamElement-partial

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/99353002

git-svn-id: svn://svn.chromium.org/blink/trunk@163007 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163007&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>ed
          <td class=message><strong>Add UseCounter for SVGLocatable.{nearest,farthest}ViewportElement</strong>
            <pre class=body style=display:none>
BUG=
R=pdr,schenney

Review URL: https://codereview.chromium.org/98573003

git-svn-id: svn://svn.chromium.org/blink/trunk@163005 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163005&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLOutputElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmloutputelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE does not support HTMLOutputElement at all.

BUG=310298

Review URL: https://codereview.chromium.org/99313002

git-svn-id: svn://svn.chromium.org/blink/trunk@163002 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=163002&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLMetaElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#the-meta-element
http://whatwg.org/html#HTMLMetaElement-partial

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/99203002

git-svn-id: svn://svn.chromium.org/blink/trunk@162999 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162999&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLModElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlmodelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/99213002

git-svn-id: svn://svn.chromium.org/blink/trunk@162997 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162997&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLLinkElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmllinkelement
http://whatwg.org/html#HTMLLinkElement-partial

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16.

BUG=310298

Review URL: https://codereview.chromium.org/98313003

git-svn-id: svn://svn.chromium.org/blink/trunk@162996 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162996&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLKeygenElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlkeygenelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox and IE support none of the attributes and thus fail all tests.

Opera reflects keytype as the empty string.

BUG=310298

Review URL: https://codereview.chromium.org/98543003

git-svn-id: svn://svn.chromium.org/blink/trunk@162995 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162995&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Cleanups for VTTTokenizer</strong>
            <pre class=body style=display:none>
Get rid of VTTTokenizer::m_token, and hence remove the need to play
games with pointers to the resulting token, since the token is now
produced at the end of VTTTokenizer::nextToken. This renders the reset()
method empty (and it wasn&#39;t previously used outside of VTTTokenizer), so
remove it.

Make a local, tailored, version of the ADVANCE_TO macro to get rid of the
redundant check of advance(). This in turn allows removing the (now
useless) part of the scaffolding which is haveBufferedCharacterToken(),
as well as turning VTTTokenizer::m_state into the local &#39;state&#39; and
moving the definition of the state enumeration into the cpp-file.
This also means the state defintions can be moved from the header-file,
so do that as well.

BUG=319391

Review URL: https://codereview.chromium.org/98763004

git-svn-id: svn://svn.chromium.org/blink/trunk@162994 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162994&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLImageElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlimageelement
http://whatwg.org/html#HTMLImageElement-partial

Take the opportunity to move standardized attributes into the main
block and sort it.

The border attribute has [TreatNullAs=EmptyString] in the spec.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox and Opera do not reflect lowsrc as a URL, and do not support
srcset.

IE throws an exception for align and does not support srcset.

BUG=310298

Review URL: https://codereview.chromium.org/98833002

git-svn-id: svn://svn.chromium.org/blink/trunk@162990 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162990&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLHRElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#HTMLHRElement-partial

Also add the missing color attribute.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE throws an exception for align and reflects color/size/width as
the empty string.

Opera does not support the color attribute.

BUG=310298

Review URL: https://codereview.chromium.org/98723003

git-svn-id: svn://svn.chromium.org/blink/trunk@162989 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162989&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Make HTMLOptionsCollection report TypeErrors.</strong>
            <pre class=body style=display:none>
Switch exceptions to throw TypeError instead of TypeMismatchError when
handling incorrectly typed values over HTMLOptionsCollection methods
and accessors. This aligns behavior with WebIDL, Gecko and Trident.

(Change also includes a drive-by fix to the TextTrackCue constructor
error message.)

R=mkwst
BUG=270033

Review URL: https://codereview.chromium.org/98783003

git-svn-id: svn://svn.chromium.org/blink/trunk@162988 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162988&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>WebVTT only allows &lt;rt&gt; if the currently innermost node is &lt;ruby&gt;</strong>
            <pre class=body style=display:none>
If &lt;rt&gt; is encountered and the current node isn&#39;t &lt;ruby&gt;, then drop the
&lt;rt&gt;.

Fixes tc023 to not expect an &lt;rt&gt;.

BUG=321038

Review URL: https://codereview.chromium.org/98783005

git-svn-id: svn://svn.chromium.org/blink/trunk@162985 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162985&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Get rid of extra NULL check when indexing CSSStyleDeclaration</strong>
            <pre class=body style=display:none>
In order to minimize the performance impact of added UseCounters in
https://codereview.chromium.org/47923015, remove one superfluous NULL
check. We always NULL check propInfo before use anyway.

BUG=313864

Review URL: https://codereview.chromium.org/98793002

git-svn-id: svn://svn.chromium.org/blink/trunk@162983 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162983&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Avoid using non-standard property names in test</strong>
            <pre class=body style=display:none>
For bug 290055, two use counters was added for how CSSStyleDeclaration
is indexed. One is using non-standard literal names for the CSS
properties, i.e using elt.style[&#39;font-size&#39;] instead of
elt.style[&#39;fontSize&#39;]. The other one is using &#39;float&#39; instead of
&#39;cssFloat&#39;. Avoid measuring the use counter code in performance tests
by using the standard names instead.

BUG=313864

Review URL: https://codereview.chromium.org/98733002

git-svn-id: svn://svn.chromium.org/blink/trunk@162981 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162981&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Remove structured cloning restriction over accessor properties.</strong>
            <pre class=body style=display:none>
The structured cloning algorithm,

 http://www.whatwg.org/specs/web-apps/current-work/#safe-passing-of-structured-data

treats accessor and non-accessor properties the same on an object
being cloned. For a short two month period, the spec&#39;ed algorithm
imposed a stringent restriction on the cloning of accessor properties
-- no accessor property value could appear within/inside the value of
another accessor property. If any did, their values were mapped to
&#39;null&#39;; see

 https://www.w3.org/Bugs/Public/show_bug.cgi?id=12101

The structured cloning implementation provided this; a change that was
subsequently reverted and generalized to allow accessor properties to
be cloned without any side conditions on how they are nested. Follow
up on that spec change here and do the same. Other depth controls on
nested object structures are still effective.

R=mkwst
BUG=278883

Review URL: https://codereview.chromium.org/97883002

git-svn-id: svn://svn.chromium.org/blink/trunk@162969 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162969&view=revision'><time datetime='2013-12-02' title='2013-12-02'>2013-12-02</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Fix BiDi paragraph embedding level resolution for VTTCue</strong>
            <pre class=body style=display:none>
Iterate over code points rather than (UTF-16) code units.
Make determineTextDirection side-effect free and local to the compilation
unit.
Re-uses the BidiResolver to do the actual work, and removes the
concatenation of the textnodes.

BUG=322051

Review URL: https://codereview.chromium.org/81133002

git-svn-id: svn://svn.chromium.org/blink/trunk@162920 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162920&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Fix corner-cases for WebVTT tokenizer escape handling</strong>
            <pre class=body style=display:none>
Handle cases such as &#34;&amp;&lt;&#34;, &#34;&amp;&amp;&#34;, &#34;&amp;&#34; followed by non-alphanumeric
characters (and similar variations).

Fix test tc022 which assumed that a single &#34;&amp;&#34; would be ignored.

TEST=media/track/opera/track/webvtt/parsing-cue-data/tests/entities.html
BUG=321139

Review URL: https://codereview.chromium.org/97103002

git-svn-id: svn://svn.chromium.org/blink/trunk@162918 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162918&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Fix tag closing issues in the WebVTT tree builder</strong>
            <pre class=body style=display:none>
An end tag &lt;/foo&gt; that does not match the currently open element should
be dropped.

An exception to the above however, is the &lt;/ruby&gt; end tag which also
closes any currently open &lt;rt&gt;.

BUG=321038

Review URL: https://codereview.chromium.org/96933004

git-svn-id: svn://svn.chromium.org/blink/trunk@162917 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162917&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Handle surrogates in BidiResolver::determineParagraphDirectionality</strong>
            <pre class=body style=display:none>
TEST=unittest:BidiResolver.ParagraphDirectionSurrogates
BUG=322051

Review URL: https://codereview.chromium.org/83443002

git-svn-id: svn://svn.chromium.org/blink/trunk@162915 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162915&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Switch custom XMLHttpRequest bindings over to new-style ExceptionState.</strong>
            <pre class=body style=display:none>
Configure incoming ExceptionState with the calling context instead of
detailing at the point where the exception is raised.

To support throwing context-sensitive TypeErrors, extend
ExceptionState::throwTypeError() to also embellish its incoming
messages.

R=mkwst
BUG=270033

Review URL: https://codereview.chromium.org/96793002

git-svn-id: svn://svn.chromium.org/blink/trunk@162909 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162909&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Switch HTMLCanvasElement over to new-style ExceptionState.</strong>
            <pre class=body style=display:none>
Set up the calling context on toDataURL()&#39;s incoming ExceptionState
instead, for tidier generation of a possible SecurityError exception.

To support throwing context-sensitive SecurityErrors, extend
throwSecurityError() to also embellish its incoming messages.

R=
BUG=270033

Review URL: https://codereview.chromium.org/96203003

git-svn-id: svn://svn.chromium.org/blink/trunk@162887 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162887&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>sigbjorn
          <td class=message><strong>Avoid silly crash in ContextFeatures::urlDidChange</strong>
            <pre class=body style=display:none>
BUG=294180

Review URL: https://codereview.chromium.org/75383002

git-svn-id: svn://svn.chromium.org/blink/trunk@162884 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162884&view=revision'><time datetime='2013-11-29' title='2013-11-29'>2013-11-29</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Improve handling of dictionary conversions.</strong>
            <pre class=body style=display:none>
When generating bindings for the dictionaries that Event constructors
take, emit code that enforce the required conversion step as per
WebIDL. i.e., if the property fails to convert, emit the required
(TypeError) exception and fail.

Previously these were mapped to empty/zero/null instead.

R=
BUG=323036

Review URL: https://codereview.chromium.org/85263002

git-svn-id: svn://svn.chromium.org/blink/trunk@162859 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162859&view=revision'><time datetime='2013-11-28' title='2013-11-28'>2013-11-28</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Derive the step base for an input element as (now) specified.</strong>
            <pre class=body style=display:none>
Determine the step base for an input element per spec,

  http://www.whatwg.org/specs/web-apps/current-work/#concept-input-min-zero

That is, consult the &#39;value&#39; attribute if &#39;min&#39; is not present, and
then fallback to the default step base for the input type if that
isn&#39;t present either. Previously, &#39;value&#39; was not considered.

R=
BUG=257369

Review URL: https://codereview.chromium.org/83413002

git-svn-id: svn://svn.chromium.org/blink/trunk@162733 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162733&view=revision'><time datetime='2013-11-27' title='2013-11-27'>2013-11-27</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Improve fidelity of XHR progress events.</strong>
            <pre class=body style=display:none>
When dispatching XMLHttpRequest progress events, for upload as well as
normal/download, supply the required &#39;loaded&#39; and &#39;total&#39; properties
on the events, if available, for better reporting to scripts.

Previously just left as 0. The new behavior mirrors what other
implementations are doing.

R=tyoshino,abarth
BUG=318727

Review URL: https://codereview.chromium.org/79953004

git-svn-id: svn://svn.chromium.org/blink/trunk@162689 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162689&view=revision'><time datetime='2013-11-26' title='2013-11-26'>2013-11-26</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Factor out common BorderImageLength code in CSSToStyleMap</strong>
            <pre class=body style=display:none>
CSSToStyleMap::mapNinePieceImageQuad had a lot of repetitive code for
BorderImageLength. Factor it out to a static function.

Afterwards, the default constructor for BorderImageLengthBox gets used
less so make the code more explicit by removing the default
constructor entirely. Instead add a constructor that initializes the
members to a specific value.

Since this revealed one error in a code comment (the initial value for
-webkit-mask-box-image-width is &#39;auto&#39; not zero) fix that as well.

BUG=322014

Review URL: https://codereview.chromium.org/81123002

git-svn-id: svn://svn.chromium.org/blink/trunk@162646 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162646&view=revision'><time datetime='2013-11-26' title='2013-11-26'>2013-11-26</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Test rendering of non-integer border-image-width values</strong>
            <pre class=body style=display:none>
Compare computed non-integer border-image-width values with the
rendering of the respective computed border-width value.

BUG=318081

Review URL: https://codereview.chromium.org/81163002

git-svn-id: svn://svn.chromium.org/blink/trunk@162635 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162635&view=revision'><time datetime='2013-11-25' title='2013-11-25'>2013-11-25</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Correctly resolve empty script URLs in Worker constructors.</strong>
            <pre class=body style=display:none>
When creating workers via thei constructors, the spec permits empty
strings to be given to the URL resolution step,

  http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#dedicated-workers-and-the-worker-interface
  (or http://dev.w3.org/html5/workers/#dedicated-workers-and-the-worker-interface .)
  [ The shared worker case just below has the same resolution step. ]

Resolving such an URL should result in the base URL being
returned. Align with this, and drop restriction on the string having
to be non-empty. This mirrors how Gecko, Trident and Presto behaves.

It also aligns with how importScripts() behaves when resolving its
arguments.

R=
BUG=301575

Review URL: https://codereview.chromium.org/84423002

git-svn-id: svn://svn.chromium.org/blink/trunk@162624 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162624&view=revision'><time datetime='2013-11-25' title='2013-11-25'>2013-11-25</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Have the HTMLSelectElement setter throw TypeError.</strong>
            <pre class=body style=display:none>
If an argument that fails to convert to &#39;HTMLOptionElement?&#39; is passed
to the option setter/remover on HTMLSelectElement, throw TypeError.

This follows WebIDL and Gecko. Other implementations don&#39;t throw, but
ignore such operations.

R=
BUG=270033

Review URL: https://codereview.chromium.org/83743002

git-svn-id: svn://svn.chromium.org/blink/trunk@162559 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162559&view=revision'><time datetime='2013-11-22' title='2013-11-22'>2013-11-22</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Turn VTTToken into an immutable object</strong>
            <pre class=body style=display:none>
With the data-handling in VTTTokenizer::nextToken simplified to use
fewer entrypoints on VTTToken, it becomes easier to simply remove
intermediate buffers/StringBuilders from the token type, and instead
store them on the stack of nextToken().

Remove appendToData() from VTTToken, and replace it with append()s
on a local StringBuilder instead. Treat addNew{Class,Annotation}
similarly. The &#34;new&#34; StringBuilders are named as the corresponding
&#34;strings&#34; in the spec text.

This means that VTTToken can be turned into a &#34;data blob&#34; that is
created by the tokenizer and passed back to the caller.

BUG=319391

Review URL: https://codereview.chromium.org/81113003

git-svn-id: svn://svn.chromium.org/blink/trunk@162548 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162548&view=revision'><time datetime='2013-11-22' title='2013-11-22'>2013-11-22</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Add tests for negative border-image-width and border-image-outset</strong>
            <pre class=body style=display:none>
BUG=318081

Review URL: https://codereview.chromium.org/79543006

git-svn-id: svn://svn.chromium.org/blink/trunk@162531 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162531&view=revision'><time datetime='2013-11-22' title='2013-11-22'>2013-11-22</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Test Canvas tainting and WebGL video textures (CORS fetched.)</strong>
            <pre class=body style=display:none>
Verify that cross-origin video resources follow the required Canvas
tainting rules when included in textures via texImage2D().

R=kbr
BUG=173727

Review URL: https://codereview.chromium.org/80263004

git-svn-id: svn://svn.chromium.org/blink/trunk@162487 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162487&view=revision'><time datetime='2013-11-21' title='2013-11-21'>2013-11-21</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Remove state-specific appendTo*/begin* methods from VTTToken</strong>
            <pre class=body style=display:none>
VTTToken has a number of methods that&#39;s only intended for use in
specific states (and for specific token-types). The naming pattern is
appendTo*. After earlier changes, most of these are simple oneliner
wrappers that simply append to the VTTToken::m_data buffer.
Moving towards an implementation that more closely follow (and resemble)
the spec wording, these methods present a problem (and contribute to
making the code unnecessarily complex).

Replace all appendTo*(...) with appendToData(...), and hoist any ASSERTs
into the calling code and simplify them where possible/reasonable.

For appendTo{Class,Annotation}, doing this it becomes apparent that
VTTToken::m_currentBuffer is redundant with m_buffer, so remove the
former in favor of the latter.

BUG=319391

Review URL: https://codereview.chromium.org/78833002

git-svn-id: svn://svn.chromium.org/blink/trunk@162477 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162477&view=revision'><time datetime='2013-11-21' title='2013-11-21'>2013-11-21</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Fix spelling in tainted canvas error message.</strong>
            <pre class=body style=display:none>
R=
BUG=152212

Review URL: https://codereview.chromium.org/80363002

git-svn-id: svn://svn.chromium.org/blink/trunk@162459 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162459&view=revision'><time datetime='2013-11-21' title='2013-11-21'>2013-11-21</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Block execution of failed &#39;crossorigin&#39; &lt;script&gt;s.</strong>
            <pre class=body style=display:none>
The HTML spec tells us that if a script element has a &#39;crossorigin&#39;
attribute, a potentially CORS enabled fetch of its source URL must be
performed:

 http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#dfnReturnLink-39
 http://www.whatwg.org/specs/web-apps/current-work/multipage/fetching-resources.html#potentially-cors-enabled-fetch

If the CORS cross-origin request status of that fetch is not a success
due to a failed CORS resource sharing check, the implementation must
act as if no script resource has been obtained.

No such CORS check was in place for parser inserted elements, allowing
a cross-origin CORS resource that either didn&#39;t permit the script
access or the resource wasn&#39;t CORS enabled, to load in the presence of
&#39;crossorigin&#39;.

Address this here by interposing a CORS check prior to starting script
execution. This (tries) to mirror how the operations are sequenced in
the underlying spec.

Specifically,

  ScriptLoader::executePotentiallyCrossOriginScript()

now performs the needed access check for fetched scripts _if_ the
fetch was initiated as potentially CORS-enabled. That is, if the
script was fetched from same-origin or the CORS check passes in the
cross-origin case, then script execution can go ahead. If not and a
cross-origin script, a console error message is added and an error
event is dispatched. Script execution does not go ahead.

To support the above, the ResourceFetcher::canAccess() predicate over
resources now needs to be informed if the resource fetch was initiated
in a potentially CORS enabled manner. If it was, the required CORS
resource sharing check will be performed.

By making the &#34;CORS enabled&#34; property of a fetch something that a
loader keeps separate from the (potentially cached) resource, we can
simplify the underlying structure a bit, removing the
RequestOriginPolicy portion from the resource options.

As a result, FetchRequest now instead keeps track of any origin
restrictions of the fetch resource + the canAccess() predicate must be
supplied with the &#34;CORS enabled&#34; setting to use when checking access
to the actual resource.

R=mkwst,abarth
BUG=286684

Review URL: https://codereview.chromium.org/47923008

git-svn-id: svn://svn.chromium.org/blink/trunk@162417 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162417&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Defer setting type in the WebVTT tokenizer until emitting the token</strong>
            <pre class=body style=display:none>
Remove setting of the token type from begin* (and analog) methods
in VTTToken, and add a new setType. Call setType from the
token-emitting methods in VTTTokenizer. Remove ASSERTs that no
longer apply.

Because of this change, VTTTokenizer::haveBufferedCharacterToken
can no longer return a value based on the type of token - make it return
false always (there should never be a buffered character token - a token
should be emitted after each and every call to nextToken that returns
true). This also means that &#34;EOF&#34; (read: end-of-string) handling needs to
be improved. Adopt the method from the HTML parser, that appends a segment
with an EOF marker (a NUL) to the input, and adjust EOF handling to match
(make sure to consume the EOF, and exit early and return false if
encountering a EOF mark at the start of the FSM). While doing this,
also hide the &#34;implementation detail&#34; that SegmentedString is used, by
just passing a String to the tokenizer via the constructor.

After doing the above, it becomes apparent that the EndTagOpenState is
redundant with the EndTagState, so they can be merged. (The former state
does not appear in the spec text.)

A number of end-of-input cases are fixed:

tags.html - &#34;&lt;c.&#34; now parses correctly.
timestamp.html - &#34;&lt;00:00:00.500&#34; now parses correctly.

New tests:

entities.html - (A number of FAIL -&gt; PASS transitions here compared to
               previously - due to actually setting the correct token-
               type for content with only an entity (or something looking
               like an entity. Also no longer triggers an assert in Debug.)

BUG=319391

Review URL: https://codereview.chromium.org/77553004

git-svn-id: svn://svn.chromium.org/blink/trunk@162373 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162373&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>landell
          <td class=message><strong>Added InvalidAccessError exception</strong>
            <pre class=body style=display:none>
Platform support for this exception is missing and is needed in order
to be compliant with Clearkey tests of Youtube&#39;s MSE/EME conformance suite.

Test suite: http://yt-dash-mse-test.commondatastorage.googleapis.com/unit-tests/main.html

BUG=

Review URL: https://codereview.chromium.org/62543003

git-svn-id: svn://svn.chromium.org/blink/trunk@162364 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162364&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>XHR: reset error flag on aborting request that restarts.</strong>
            <pre class=body style=display:none>
Close a small window in internal abort logic that takes care of
repeated uses of the XHR object upon cancellation.

The possibility existed that such a repeated use might reset the error
flag, so that upon return to the outer request (the one that is
aborting), it was left as &#39;false&#39;. Spot this and (re) set the error
flag to &#39;true&#39;.

Not a common use of XHR; added test coverage.

R=
BUG=315488

Review URL: https://codereview.chromium.org/76133002

git-svn-id: svn://svn.chromium.org/blink/trunk@162346 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162346&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>XHR: compliant event sequencing on request errors and aborts.</strong>
            <pre class=body style=display:none>
Implement the event sequencing that the XHR spec now mandates for
request errors and abort()s. For request errors over async requests,
the following steps and sequence of events should now be dispatched:

  - readyState transitions to state DONE, dispatching a
    readystatechange event.

  - The ordered event triple (progress, &lt;event type&gt;, loadend) is
    dispatched to the upload event listeners, if any.

  - The ordered event triple (progress, &lt;event type&gt;, loadend) is
    dispatched to the regular/download event listeners.

  - readyState transitions to UNSENT.

where &lt;event type&gt; is one of {&#39;error&#39;, &#39;timeout&#39;, &#39;abort&#39;}.

Same steps for abort(), for both sync and async requests.

The required dispatching of &#39;progress&#39; here is a relatively new
addition to the specification, late 2012.

A behavioral implementation change is the fourth step of transitioning
to UNSENT. This was previously done as step two (after dispatching
readystatechange), an out-of-spec and incorrect quirk.

For the above sequence, to allow for the delivery of
&#39;readystatechange&#39; on transitioning to DONE, but delay the delivery of
the final &#39;progress&#39;, we carefully only flush any deferred &#39;progress&#39;
event before that &#39;readystatechange&#39; event, but do not issue new. That
dispatch happens after the upload progress events have been dealt
with.

To make the correspondence clearer to the underlying spec text, the
request error steps have been factored out into a separate method.

R=tyoshino,abarth
BUG=315488

Review URL: https://codereview.chromium.org/66323004

git-svn-id: svn://svn.chromium.org/blink/trunk@162340 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162340&view=revision'><time datetime='2013-11-20' title='2013-11-20'>2013-11-20</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Fix and enable media/track/opera/track/webvtt/parsing-cue-data/* tests</strong>
            <pre class=body style=display:none>
Fix up the tests in above directory - mainly by disabling the
&#34;pretty-printed&#34; diff (which makes for very verbose *-expected files
anyway - and can be enabled reasonably easy during debugging if needed.)

The &#39;entities&#39; test is not enabled at this time because it (at least one
of the subtests) trigger an assert.

BUG=305317, 319391

Review URL: https://codereview.chromium.org/61213005

git-svn-id: svn://svn.chromium.org/blink/trunk@162308 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162308&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Replace character vectors with StringBuilders in the WebVTT tokenizer</strong>
            <pre class=body style=display:none>
With a goal of simplifying the state management of the
WebVTTTokenizer/WebVTTToken pair, turn all character vectors into
StringBuilders.
Since the tokenizer in general deals with strings, this makes for a
better fit in general (and at least two of the three eliminated FIXMEs
should be able to attest to that).

Also remove the local variable tagName in
WebVTTTreeBuilder::constructTreeFromToken, which appear unused.

BUG=319391

Review URL: https://codereview.chromium.org/75243004

git-svn-id: svn://svn.chromium.org/blink/trunk@162307 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162307&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>This review merges the two existing page serializers, WebPageSerializerImpl and</strong>
            <pre class=body style=display:none>PageSerializer, into one, PageSerializer. In addition to this it moves all
the old tests from WebPageNewSerializerTest and WebPageSerializerTest to the
PageSerializerTest structure and splits out one test for MHTML into a new
MHTMLTest file.

Saving as &#39;Webpage, Complete&#39;, &#39;Webpage, HTML Only&#39; and as MHTML when the
&#39;Save Page as MHTML&#39; flag is enabled now uses the same code, and should thus
have the same feature set. Meaning that both modes now should be a bit better.

Detailed list of changes:

- PageSerializerTest: Prepare for more DTD test
- PageSerializerTest: Remove now unneccesary input image test
- PageSerializerTest: Remove unused WebPageSerializer/Impl code
- PageSerializerTest: Move data URI morph test
- PageSerializerTest: Move data URI test
- PageSerializerTest: Move namespace test
- PageSerializerTest: Move SVG Image test
- MHTMLTest: Move MHTML specific test to own test file
- PageSerializerTest: Delete duplicate XML header test
- PageSerializerTest: Move blank frame test
- PageSerializerTest: Move CSS test
- PageSerializerTest: Add frameset/frame test
- PageSerializerTest: Move old iframe test
- PageSerializerTest: Move old elements test
- Use PageSerizer for saving web pages
- PageSerializerTest: Test for rewriting links
- PageSerializer: Add rewrite link accumulator
- PageSerializer: Serialize images in iframes/frames src
- PageSerializer: XHTML fix for meta tags
- PageSerializer: Add presentation CSS
- PageSerializer: Rename out parameter

BUG=
R=abarth@chromium.org

Committed: https://src.chromium.org/viewvc/blink?view=rev&amp;revision=162155

Review URL: https://codereview.chromium.org/68613003

git-svn-id: svn://svn.chromium.org/blink/trunk@162294 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162294&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Verify that video.crossOrigin performs no preflighting.</strong>
            <pre class=body style=display:none>
Verify that a video element CORS fetch doesn&#39;t generate a preflight
request and loads the cross-origin resource ok.

R=jochen,kbr
BUG=173727

Review URL: https://codereview.chromium.org/75153002

git-svn-id: svn://svn.chromium.org/blink/trunk@162293 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162293&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>XHR: separate delayed progress event flushing from dispatching of new.</strong>
            <pre class=body style=display:none>
The throttled delivery of progress events may defer progress event
delivery so as to pace their dispatching down to the frequency that
the spec suggests. When dispatching a later &#39;readystatechange&#39; event,
if no deferred progress event was present, a new one would be created
and dispatched. Achieving the same event sequence despite the
lazy/deferred delivery of &#39;progress&#39; events.

There are two steps involved here: the potential expedition of the
deferred progress event and the creation &amp; delivery of a new one.
Tease these two notions apart here by allowing only flushing of
a deferred progress event to happen.

This weaker form of flushing is needed by follow-on changes, which
alters how these &#39;progress&#39; progress events are dispatched wrt the
&#39;readystatechange&#39; XHR event when handling request errors and aborts.

R=
BUG=315488

Review URL: https://codereview.chromium.org/62193004

git-svn-id: svn://svn.chromium.org/blink/trunk@162270 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162270&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Move delivery of upload &#39;progress&#39; events to XMLHttpRequestUpload.</strong>
            <pre class=body style=display:none>
Have the XMLHttpRequestUpload object handle dispatching of its
&#39;progress&#39; events, and at the same time keep track of the last
progress data reported.

While the latter state isn&#39;t directly made use of here, follow-on
changes to handle &#39;progress&#39; events during XHR request errors will
depend on having it available.

R=
BUG=315488

Review URL: https://codereview.chromium.org/63033008

git-svn-id: svn://svn.chromium.org/blink/trunk@162254 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162254&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Factor out delivery of throttled progress event.</strong>
            <pre class=body style=display:none>
To prepare for follow-on changes to progress event handling, split out
the delivery of single XHR progress events into a separate method.

R=
BUG=315488

Review URL: https://codereview.chromium.org/75103006

git-svn-id: svn://svn.chromium.org/blink/trunk@162253 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162253&view=revision'><time datetime='2013-11-19' title='2013-11-19'>2013-11-19</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove the logic for de-duplicating in-band text track cues</strong>
            <pre class=body style=display:none>
To de-duplicate cues by comparing their properties cannot work, since
scripts can modify cues in small or big ways at any time. For example,
the de-duplication will fail if the id has changed or if the timings
have been slightly shifted.

It must be the demuxer&#39;s responsibility to do this, e.g. by keeping
track of the offsets for which cues have already been sourced. This need
not consume a lot of memory, since it could record ranges of offsets.

BUG=270340

Review URL: https://codereview.chromium.org/74623002

git-svn-id: svn://svn.chromium.org/blink/trunk@162245 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162245&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Support full range of PreflightPolicy over WebURLLoaderOptions</strong>
            <pre class=body style=display:none>
Allow users of WebURLLoader to state the preflight behavior to follow
for the request. This is done so that the user/caller can explicitly
control when its author header set
(http://www.w3.org/TR/cors/#author-request-headers) is empty, then no
preflight must be performed.

This puts the responsibility on the caller to adhere to CORS and not
disable preflighting when the author set is non-empty or the request
is over non-simple methods (http://www.w3.org/TR/cors/#simple-method )

The WebURLLoaderOptions default is ConsiderPreflight.

R=jochen
BUG=173727

Review URL: https://codereview.chromium.org/68173029

git-svn-id: svn://svn.chromium.org/blink/trunk@162225 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162225&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Move media (as in audio/video) tests to media/</strong>
            <pre class=body style=display:none>
fast/media/ contains media queries tests, with the exception of two
tests, one if which was added by me. Let them live with the other
audio/video tests and remove fast/media/ from the media watchlist.

BUG=none

Review URL: https://codereview.chromium.org/74783002

git-svn-id: svn://svn.chromium.org/blink/trunk@162216 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162216&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Handle recovery on &#34;timestamp-looking&#34; lines in the WebVTT parser</strong>
            <pre class=body style=display:none>
When a line with a &#34;--&gt;&#34; is encountered as part of cue-text, in the
header part or after a previous error (i.e. during &#34;bad cue&#34; processing).
The parser is supposed to break out of the current state and try to parse
the &#34;--&gt;&#34; line as being the start of a new cue.

Updated testcases:

PASS -&gt; FAIL
tc006, tc007 and tc011 (Tested the old behavior where &#34;--&gt;&#34; was
allowed/ignored, and blank lines were required to start a new cue.)

FAIL -&gt; PASS
opera/track/webvtt/parsing subtests nulls, header-timings, header-space,
header-tab and arrows
opera/interfaces/TextTrackCue/vertical.html

TEST=media/track/track-webvtt-tc031-cue-recovery.html
TEST=media/track/track-webvtt-tc032-degenerate-cues.html
BUG=305317

Review URL: https://codereview.chromium.org/75273002

git-svn-id: svn://svn.chromium.org/blink/trunk@162210 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162210&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Don&#39;t find(&#39;:&#39;) twice in WebVTTParser::collectMetadataHeader</strong>
            <pre class=body style=display:none>
Since contains(&#39;:&#39;) is the equivalent of a find(&#39;:&#39;) - except it throws
away the result - and the result might be of interest later on, just
call find(&#39;:&#39;) once instead, and remove the call to contains(...)
(essentially open-coding it.)

BUG=305317

Review URL: https://codereview.chromium.org/75233002

git-svn-id: svn://svn.chromium.org/blink/trunk@162202 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162202&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Support the crossOrigin IDL attribute over HTMLMediaElement.</strong>
            <pre class=body style=display:none>
Add missing declaration of this IDL attribute + update expected test
outcomes.

R=
BUG=173727

Review URL: https://codereview.chromium.org/75083002

git-svn-id: svn://svn.chromium.org/blink/trunk@162200 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162200&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Simplify state handling in WebVTTTokenizer::nextToken</strong>
            <pre class=body style=display:none>
When the WebVTT tokenizer returns a new token, it always returns to the
&#39;Data&#39; state - except for when encountering an opening &#39;&lt;&#39; while in the
&#39;Data&#39; state, and having collected a non-empty text-node. In that
particular case though, we can avoid the transition to the &#39;Tag&#39; state
by not advancing the input, and simply return indicating a new token.

With the above change, and the change to always set the FSM state to
&#39;Data&#39;, the &#39;state&#39; argument to emitAndResumeIn() becomes redundant -
so it can be removed. With the argument gone, rename the method to
advanceAndEmitToken (since it no longer needs to set a state to resume
in). Also add a new method emitToken which only returns true, and
is currently only used as a marker.

Add a (currently unused) argument to the various emitter methods in
WebVTTTokenizer. Use this new argument to indicate what type of token
each return statement should produce.

With the annotations in place it becomes clear that - after adding
additional &#34;ensurance&#34; to one of the instances - that the emitEndOfFile
emitter is redundant (always emits &#34;Character&#34; tokens and always has a
token &#34;buffered&#34; - i.e. haveBufferedCharacterToken() will return true),
and can be replaced by a call to emitToken instead. This also means that
WebVTTToken::makeEndOfFile and the corresponding state can be removed.

BUG=319391

Review URL: https://codereview.chromium.org/73813002

git-svn-id: svn://svn.chromium.org/blink/trunk@162198 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162198&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Fix Decimal.floor() + Decimal.ceiling() for many non-integral values.</strong>
            <pre class=body style=display:none>
Extend the check for an integral value to consider all the digits
being truncated, and not just the rightmost/most-significant one, when
rounding the result towards positive and negative infinity for floor()
and ceiling(), respectively.

R=yosin,mkwst
BUG=234323

Review URL: https://codereview.chromium.org/59603006

git-svn-id: svn://svn.chromium.org/blink/trunk@162197 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162197&view=revision'><time datetime='2013-11-18' title='2013-11-18'>2013-11-18</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>This review merges the two existing page serializers, WebPageSerializerImpl and</strong>
            <pre class=body style=display:none>PageSerializer, into one, PageSerializer. In addition to this it moves all
the old tests from WebPageNewSerializerTest and WebPageSerializerTest to the
PageSerializerTest structure and splits out one test for MHTML into a new
MHTMLTest file.

Saving as &#39;Webpage, Complete&#39;, &#39;Webpage, HTML Only&#39; and as MHTML when the
&#39;Save Page as MHTML&#39; flag is enabled now uses the same code, and should thus
have the same feature set. Meaning that both modes now should be a bit better.

Detailed list of changes:

- PageSerializerTest: Prepare for more DTD test
- PageSerializerTest: Remove now unneccesary input image test
- PageSerializerTest: Remove unused WebPageSerializer/Impl code
- PageSerializerTest: Move data URI morph test
- PageSerializerTest: Move data URI test
- PageSerializerTest: Move namespace test
- PageSerializerTest: Move SVG Image test
- MHTMLTest: Move MHTML specific test to own test file
- PageSerializerTest: Delete duplicate XML header test
- PageSerializerTest: Move blank frame test
- PageSerializerTest: Move CSS test
- PageSerializerTest: Add frameset/frame test
- PageSerializerTest: Move old iframe test
- PageSerializerTest: Move old elements test
- Use PageSerizer for saving web pages
- PageSerializerTest: Test for rewriting links
- PageSerializer: Add rewrite link accumulator
- PageSerializer: Serialize images in iframes/frames src
- PageSerializer: XHTML fix for meta tags
- PageSerializer: Add presentation CSS
- PageSerializer: Rename out parameter

BUG=
R=abarth@chromium.org

Review URL: https://codereview.chromium.org/68613003

git-svn-id: svn://svn.chromium.org/blink/trunk@162155 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162155&view=revision'><time datetime='2013-11-16' title='2013-11-16'>2013-11-16</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Remove unused V8ThrowException::createDOMException() helper.</strong>
            <pre class=body style=display:none>
Followup minor issue from crrev.com/68563003 and remove an unused helper
that also supplies an empty creation context.

R=ch.dumez
BUG=

Review URL: https://codereview.chromium.org/70103024

git-svn-id: svn://svn.chromium.org/blink/trunk@162148 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162148&view=revision'><time datetime='2013-11-16' title='2013-11-16'>2013-11-16</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for &lt;frame&gt;, &lt;frameset&gt; and &lt;iframe&gt;</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#htmlframeelement
http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#htmlframesetelement
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#htmliframeelement
http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#HTMLIFrameElement-partial

Per spec the longDesc attribute on HTMLFrameElement and
HTMLIFrameElement should be reflected as a URL, so make it so.

HTMLIFrameElement.sandbox is readonly DOMSettableTokenList in the spec,
so leave it with [TreatNullAs=NullString] until that is fixed.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 throws exceptions for HTMLFrameElement.scrolling,
HTMLIFrameElement.align and HTMLIFrameElement.scrolling, reflects
HTMLIFrameElement.width/height as the empty string and does not support
HTMLIFrameElement.srcdoc.

Opera does not support HTMLIFrameElement.srcdoc.

Note that no other browser supports the location attribute, but that has
not been touched here.

BUG=310298

Review URL: https://codereview.chromium.org/68503013

git-svn-id: svn://svn.chromium.org/blink/trunk@162147 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162147&view=revision'><time datetime='2013-11-16' title='2013-11-16'>2013-11-16</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Update WebVTT parser spec references</strong>
            <pre class=body style=display:none>
Update the spec. references in the parser implementation to match the
ED from November 9 2013.

Only comments changed.

BUG=305317

Review URL: https://codereview.chromium.org/64273013

git-svn-id: svn://svn.chromium.org/blink/trunk@162127 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162127&view=revision'><time datetime='2013-11-15' title='2013-11-15'>2013-11-15</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Non-activated default buttons prevent implicit form submission.</strong>
            <pre class=body style=display:none>
Follow the spec and two other implementations (Gecko + Presto), and do
not allow implicit form submission if the default (submit) button is
not in an activated state (read: disabled.)

Notice that this switches to behavior different from what Trident / IE
provides.

R=eseidel,tkent
BUG=37402

Review URL: https://codereview.chromium.org/60573007

git-svn-id: svn://svn.chromium.org/blink/trunk@162095 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162095&view=revision'><time datetime='2013-11-15' title='2013-11-15'>2013-11-15</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove forwarding headers in public/</strong>
            <pre class=body style=display:none>
Chromium has been updated to include from the new locations:
https://codereview.chromium.org/68683009/

BUG=none

Review URL: https://codereview.chromium.org/60033008

git-svn-id: svn://svn.chromium.org/blink/trunk@162076 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162076&view=revision'><time datetime='2013-11-15' title='2013-11-15'>2013-11-15</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Allocate stack item for fragment context elements once</strong>
            <pre class=body style=display:none>
Instead of allocating stack items for fragment context elements on
demand, do it once when creating the fragment context and re-use the
stack item during parsing. This avoids excessive calls to malloc when
parsing for innerHTML.

BUG=318711

Review URL: https://codereview.chromium.org/68893014

git-svn-id: svn://svn.chromium.org/blink/trunk@162047 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162047&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add a UseCounter for HTMLFrameElement.location</strong>
            <pre class=body style=display:none>
It is not supported by IE, Firefox or Presto and can likely be removed.

BUG=none

Review URL: https://codereview.chromium.org/59713011

git-svn-id: svn://svn.chromium.org/blink/trunk@162036 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162036&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLFormElement</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#htmlformelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflects autocomplete as &#39;on&#39;, which is per spec since
autocomplete is an enumerated attribute, but this will not be fixed in
Blink as part of this change.

IE11 throws an exception for enctype, encoding and method.

Opera doesn&#39;t support autocomplete and reflects encoding as &#39;null&#39;.

BUG=310298

Review URL: https://codereview.chromium.org/60733023

git-svn-id: svn://svn.chromium.org/blink/trunk@162029 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162029&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Update TextTrackCue tests to use VTTCue where appropriate</strong>
            <pre class=body style=display:none>
The Opera tests were fixed upstream and re-imported:
https://github.com/w3c/web-platform-tests/commit/8c08468d5494c9026c2a857f366c631651c413fd
https://github.com/w3c/web-platform-tests/commit/da34397c2c16170da60e5c7638e00c0edadcf0be

A new test in cues.html requres a more recent testharness.js
than we have and was disabled.

BUG=270340

Review URL: https://codereview.chromium.org/72543003

git-svn-id: svn://svn.chromium.org/blink/trunk@162026 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162026&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove a WebVTT newlines test that doesn&#39;t do what it says</strong>
            <pre class=body style=display:none>
tc003-newlines.vtt had CR line endings, not mixed as the test claimed.

Mixed line endings are sufficiently covered by
media/track/opera/track/webvtt/parsing/support/newlines.vtt

BUG=318734

Review URL: https://codereview.chromium.org/65493006

git-svn-id: svn://svn.chromium.org/blink/trunk@162024 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162024&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLFieldSetElement</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#htmlfieldsetelement

The test passes only in Firefox Nightly, since neither IE11 Release
Preview nor Opera 12.16 supports the property at all, verified by
document.createElement(&#39;fieldset&#39;).name == undefined.

BUG=310298

Review URL: https://codereview.chromium.org/70103011

git-svn-id: svn://svn.chromium.org/blink/trunk@162023 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162023&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLFontElement</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#htmlfontelement

color has [TreatNullAs=EmptyString] in the spec, but face/size do not.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 reflects size as the empty string.

BUG=310298

Review URL: https://codereview.chromium.org/61643028

git-svn-id: svn://svn.chromium.org/blink/trunk@162020 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162020&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Split VTTCue from TextTrackCue</strong>
            <pre class=body style=display:none>
VTTCue has been split from TextTrackCue in the specs:
http://whatwg.org/html#texttrackcue
http://dev.w3.org/html5/webvtt/#vttcue-interface

The TextTrackCue constructor is left for legacy compat until it is
deemed safe to remove. To verify that it actually works, the tests still
use the TextTrackCue constructor, but will be updated to use VTTCue in a
later commit.

Internal refactoring has been kept to a minimum, future commits should
move more code from TextTrackCue to VTTCue.

Thanks to Glenn Adams for starting this work and providing feedback!

BUG=270340

Review URL: https://codereview.chromium.org/63173020

git-svn-id: svn://svn.chromium.org/blink/trunk@162015 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162015&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove a WebVTT newlines test that doesn&#39;t do what it says</strong>
            <pre class=body style=display:none>
tc003-newlines.vtt had CR line endings, not mixed as the test claimed.

tc003-no-newline-at-eof.vtt was converted from CR to LF, since testing
a missing newline at eof doesn&#39;t require anything fancy before it.

Mixed line endings are sufficiently covered by
media/track/opera/track/webvtt/parsing/support/newlines.vtt

BUG=318734
R=jochen@chromium.org

Review URL: https://codereview.chromium.org/65493006

git-svn-id: svn://svn.chromium.org/blink/trunk@162014 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162014&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLEmbedElement</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#htmlembedelement
http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#HTMLEmbedElement-partial

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 reflects align/type as null, and width/height as the empty string.

BUG=310298

Review URL: https://codereview.chromium.org/72583002

git-svn-id: svn://svn.chromium.org/blink/trunk@162013 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162013&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Create DOM exceptions in the correct context.</strong>
            <pre class=body style=display:none>
If access to a cross-origin property or method is allowed, but it ends
up throwing a DOM exception, arrange for the exception to be created
in the context of the target property/method, not that of the
caller/accessing context.

Addressed by having ExceptionState keep a creation context, which is
then passed along when creating the wrapper for the exception object.

R=haraken@chromium.org
BUG=235223

Review URL: https://codereview.chromium.org/68563003

git-svn-id: svn://svn.chromium.org/blink/trunk@162010 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=162010&view=revision'><time datetime='2013-11-14' title='2013-11-14'>2013-11-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Re-enable the newlines.vtt WebVTT parsing test</strong>
            <pre class=body style=display:none>
With the correct newlines.vtt, the test simply passes.

BUG=318734

Review URL: https://codereview.chromium.org/71593002

git-svn-id: svn://svn.chromium.org/blink/trunk@161957 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161957&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Re-import newlines.vtt with the correct (mixed) line endings</strong>
            <pre class=body style=display:none>
Done using svn propset svn:mime-type application/octet-stream
and re-importing from
https://github.com/w3c/web-platform-tests/blob/c846444243f5a24224d63750253b7a4aed6f9408/old-tests/submission/Opera/media/track/webvtt/parsing/support/newlines.vtt

BUG=318734


git-svn-id: svn://svn.chromium.org/blink/trunk@161941 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161941&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Disable the newlines.vtt WebVTT parsing test</strong>
            <pre class=body style=display:none>
To be enabled after re-importing with the correct (mixed) line endings.

BUG=318734

Review URL: https://codereview.chromium.org/61793012

git-svn-id: svn://svn.chromium.org/blink/trunk@161932 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161932&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Minor adjustment to WebVTT tests</strong>
            <pre class=body style=display:none>
Do a trivial adjustment to the tc029-timings-whitespace test to make
it robust against the spec. change that disallows --&gt; in cue text.

Fix test opera/interfaces/TextTrackCue/vertical.html to it possible
to pass it (the expected result is still FAIL), by adding a linebreak.

BUG=305317

Review URL: https://codereview.chromium.org/59153008

git-svn-id: svn://svn.chromium.org/blink/trunk@161931 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161931&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>The WebVTT parsing algorithm allows empty cue text</strong>
            <pre class=body style=display:none>
Adjust tests:
  tc027-empty-cue - PASS -&gt; FAIL, because opposite assumptions
  opera/track/webvtt/parsing:newlines.vtt - one more cue (empty) observed
  opera/interfaces/TextTrackCue/text.html - FAIL -&gt; PASS

(The newlines.vtt file is truncated compared to the
original/upstream version, so chose to update the
expected result rather than modifying the test. Aim to
update the testfile at a later point.)

BUG=305317

Review URL: https://codereview.chromium.org/62833005

git-svn-id: svn://svn.chromium.org/blink/trunk@161924 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161924&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Enable XHR upload progress events for Workers.</strong>
            <pre class=body style=display:none>
The request flag recording progress event reporting wasn&#39;t been copied
out of the worker when creating the loader on the main thread. Do so
to have upload progress events be reported over XMLHttpRequest inside
a Worker.

R=
BUG=173658

Review URL: https://codereview.chromium.org/71433002

git-svn-id: svn://svn.chromium.org/blink/trunk@161923 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161923&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Make metadata state local in the WebVTT parser</strong>
            <pre class=body style=display:none>
The members m_currentHeaderName and m_currentHeaderValue are only used
within the scope of WebVTTParser::collectMetadataHeader, so there&#39;s no
need to keep them in instance scope. Make them local to said method,
and pass the value explicitly to its users.

BUG=305317

Review URL: https://codereview.chromium.org/65343003

git-svn-id: svn://svn.chromium.org/blink/trunk@161922 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161922&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove executable bit from files which aren&#39;t executable</strong>
            <pre class=body style=display:none>
This has already been done for web-platform-tests, so we shouldn&#39;t
get the executable bits back on future imports for those tests:
https://github.com/w3c/web-platform-tests/commit/35c13df5fedbd68dbec5dbb5717cb2f2b2011041

Done using svn propdel svn:executable and commited manually.

BUG=none

Review URL: https://codereview.chromium.org/68773002/


git-svn-id: svn://svn.chromium.org/blink/trunk@161916 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161916&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove executable bit from a file which isn&#39;t executable</strong>
            <pre class=body style=display:none>
Done using svn propdel svn:executable and commited manually.

Fixing a single file first to verify that it will work.

BUG=none

Review URL: https://codereview.chromium.org/68773002/



git-svn-id: svn://svn.chromium.org/blink/trunk@161906 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161906&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Handle (numeric) indexed access of DOMStringMap.</strong>
            <pre class=body style=display:none>
As the set of supported property names over DOMStringMap reflects the
attributes of an Element prefixed with &#39;data-&#39;, these naturally also
include numeric indexes.

To allow such index values to be used over DOMStringMap, extend its
IDL definition with indexed accessors.

Also address an infelicity in comparing attribute names to property
names if the property name uses a &#34;-&#34; but isn&#39;t followed by an ASCII
uppercase letter (e.g. &#34;a-1&#34;.)

Extended test coverage to check for these variations also.

R=tkent@chromium.org
BUG=171175

Review URL: https://codereview.chromium.org/63223002

git-svn-id: svn://svn.chromium.org/blink/trunk@161864 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161864&view=revision'><time datetime='2013-11-13' title='2013-11-13'>2013-11-13</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove MediaSourcePrivate/SourceBufferPrivate</strong>
            <pre class=body style=display:none>
These layers are just proxies for the Web* variants.

BUG=317353

Review URL: https://codereview.chromium.org/61603006

git-svn-id: svn://svn.chromium.org/blink/trunk@161859 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161859&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Improve Blob constructor error messages.</strong>
            <pre class=body style=display:none>
Follow current practice of supplying the name of the constructor in
the error message string, along with normalizing formatting and
wording used.

Also took the opportunity of simplifying how toV8Sequence() reports a
type error: a non-sequence argument is now indicated by returning
v8Undefined().

R=ch.dumez@samsung.com
BUG=270033

Review URL: https://codereview.chromium.org/68533014

git-svn-id: svn://svn.chromium.org/blink/trunk@161849 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161849&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Avoid reusing XMLHttpRequest resources during document load.</strong>
            <pre class=body style=display:none>
The determineRevalidationPolicy() predicate decides how an existing
cached resource can be (re)utilized upon another fetch to the same
resource. It will allow reuse of already loaded (and loading)
resources while a document is being loaded.

Such resource reuse isn&#39;t safe to do for raw resources requested
through XHR, as there&#39;s too much state and header information that an
XHR request can be furnished with. Hence, we exempt raw resources and
delegate to the standard cache control policy to decide on reuse. Like
it would do once the document has loaded.

R=japhet@chromium.org
BUG=314433

Review URL: https://codereview.chromium.org/59043006

git-svn-id: svn://svn.chromium.org/blink/trunk@161846 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161846&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Support the &#39;lrm&#39;, &#39;rlm&#39; and &#39;nbsp&#39; entities in the WebVTTTokenizer</strong>
            <pre class=body style=display:none>
TEST=media/track/track-webvtt-tc022-entities.html
BUG=314028

Review URL: https://codereview.chromium.org/66503013

git-svn-id: svn://svn.chromium.org/blink/trunk@161822 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161822&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Length type Relative is now unused. Remove it.</strong>
            <pre class=body style=display:none>
BUG=259107

Review URL: https://codereview.chromium.org/55843002

git-svn-id: svn://svn.chromium.org/blink/trunk@161809 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161809&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Lift integer restriction on border-image-width and border-image-outset</strong>
            <pre class=body style=display:none>
border-image-{width,outset} should accept percentages, lengths,
numbers, and auto. A number represents a multiple of the computed
border-width, and should not be restricted to integral values.

BUG=304000

Review URL: https://codereview.chromium.org/54383006

git-svn-id: svn://svn.chromium.org/blink/trunk@161807 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161807&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Rewrite BorderImageLength to not use the Relative length type</strong>
            <pre class=body style=display:none>
Remove the last remaining Relative length and instead store a Length
_and_ a double value along with a type tag, a pattern also used by
GridLength in the Flexbox code. While it increases memory usage
slightly, getting rid of the Relative length type is deemed more
important.

BUG=259107

Review URL: https://codereview.chromium.org/55833002

git-svn-id: svn://svn.chromium.org/blink/trunk@161802 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161802&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Move WebMediaPlayer and friends to public/platform/</strong>
            <pre class=body style=display:none>
This is a prerequisite for eliminating the
MediaPlayer/MediaPlayerClient layer.

Minor style changes were needed to pass presubmit.

BUG=310466

Review URL: https://codereview.chromium.org/67083003

git-svn-id: svn://svn.chromium.org/blink/trunk@161792 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161792&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement::minTimeSeekable()/maxTimeSeekable()</strong>
            <pre class=body style=display:none>
minTimeSeekable() is completely unused, and maxTimeSeekable()
was only used in a single place, so just inline it there.

BUG=none

Review URL: https://codereview.chromium.org/68183003

git-svn-id: svn://svn.chromium.org/blink/trunk@161785 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161785&view=revision'><time datetime='2013-11-12' title='2013-11-12'>2013-11-12</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Convert animation and renderer code to know about BorderImageLength</strong>
            <pre class=body style=display:none>
This propagates BorderImageLengthBox further out in the code, but
actually converts it to an actual number or length as soon as possible
in the animation code, and animates it as the individual type.

Now we can also remove the compatibility conversion methods between
BorderImageLengthBox and LengthBox.

Also, update a couple of &#34;Weird number of spaces at line-start&#34;
indentations in CSSPropertyAnimation.cpp to not make the new code
inconsistent with the old wrt. indentation.

BUG=259107

Review URL: https://codereview.chromium.org/55813002

git-svn-id: svn://svn.chromium.org/blink/trunk@161715 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161715&view=revision'><time datetime='2013-11-11' title='2013-11-11'>2013-11-11</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Protect contextElement during insertAdjacentHTML call</strong>
            <pre class=body style=display:none>
JS event handlers may cause element to lose its last ref during
parsing.

BUG=315842

Review URL: https://codereview.chromium.org/67813002

git-svn-id: svn://svn.chromium.org/blink/trunk@161697 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161697&view=revision'><time datetime='2013-11-10' title='2013-11-10'>2013-11-10</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove WebInbandTextTrack::Mode</strong>
            <pre class=body style=display:none>
It is no longer used in Chromium.

BUG=315476

Review URL: https://codereview.chromium.org/62333011

git-svn-id: svn://svn.chromium.org/blink/trunk@161689 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161689&view=revision'><time datetime='2013-11-09' title='2013-11-09'>2013-11-09</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Replace redundant &lt;track&gt; runtime checks with asserts</strong>
            <pre class=body style=display:none>
The IDL as RuntimeEnabled=VideoTrack for these two cases.

BUG=313287

Review URL: https://codereview.chromium.org/61763017

git-svn-id: svn://svn.chromium.org/blink/trunk@161661 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161661&view=revision'><time datetime='2013-11-09' title='2013-11-09'>2013-11-09</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove unneeded namespace prefix in HTMLMediaElement</strong>
            <pre class=body style=display:none>
This file is &#34;using namespace HTMLNames&#34;, and no other fooAttr
specifies the namespace.

BUG=none

Review URL: https://codereview.chromium.org/62103009

git-svn-id: svn://svn.chromium.org/blink/trunk@161650 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161650&view=revision'><time datetime='2013-11-08' title='2013-11-08'>2013-11-08</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove InbandTextTrackPrivate/InbandTextTrackPrivateClient</strong>
            <pre class=body style=display:none>
These interfaces were virtually identical to the Web* variants, so
just use those directly.

BUG=316172

Review URL: https://codereview.chromium.org/60083011

git-svn-id: svn://svn.chromium.org/blink/trunk@161632 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161632&view=revision'><time datetime='2013-11-08' title='2013-11-08'>2013-11-08</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Move WebInbandTextTrack/WebInbandTextTrackClient to public/platform/</strong>
            <pre class=body style=display:none>
This is to allow InbandTextTrackPrivate/InbandTextTrackPrivateClient
to be removed, by using the Web* variants directly, and for that to
be allowed they must reside in public/platform/.

Some style changes were required to please presubmit.

BUG=316172

Review URL: https://codereview.chromium.org/61763010

git-svn-id: svn://svn.chromium.org/blink/trunk@161626 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161626&view=revision'><time datetime='2013-11-08' title='2013-11-08'>2013-11-08</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Handle buffer boundaries in the WebVTT parser</strong>
            <pre class=body style=display:none>
Replace the somewhat ad-hoc collectNextLine method with a new helper
class - BufferedLineReader - that takes care of buffering the input
data across buffer boundaries.

While redoing the line collection, also fix the handling of NULs in the
input stream to match the spec (transform to U+FFFD).

TEST=unittest:BufferedLineReader.*
TEST=http/tests/media/track/track-webvtt-slow-loading-2.html
BUG=231460

Review URL: https://codereview.chromium.org/64303004

git-svn-id: svn://svn.chromium.org/blink/trunk@161624 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161624&view=revision'><time datetime='2013-11-08' title='2013-11-08'>2013-11-08</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Align HTMLAppletElement IDL with spec</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlappletelement

In addition to removing TreatNullAs=NullString, align with the spec by
making hspace/vspace unsigned long, and codebase/object URLs.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 returns &#34;&#34; after setting width/height to null and fails all of
the vspace/hspace reflection tests in ways not per spec.

Presto doesn&#39;t reflect object as a URL, but the framework didn&#39;t
notice that before the minor fix in nullTestElementAttribute.
Presto also fails the vspace/hspace set tests in ways not per spec.

BUG=316129, 310298

Review URL: https://codereview.chromium.org/64173002

git-svn-id: svn://svn.chromium.org/blink/trunk@161545 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161545&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for miscellaneous HTML elements</strong>
            <pre class=body style=display:none>
The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 throws an exception for all except HTMLQuoteElement.cite.

BUG=310298

Review URL: https://codereview.chromium.org/62083003

git-svn-id: svn://svn.chromium.org/blink/trunk@161535 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161535&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Restore old behavior where &#34;Sans&#34; was used as fallback font</strong>
            <pre class=body style=display:none>
https://codereview.chromium.org/31923005 changed the fallback font logic,
it was probably not intended since it merely moved code around.
This restores the logic so that &#34;Sans&#34; is always tried when looking for
a fallback family.

SkFontConfigInterface_direct.cpp looks for fallbacks among all
available fonts iff &#34;Sans&#34;, &#34;Serif&#34;, &#34;Monospace&#34; or &#34;&#34; is requested.
So it&#39;s important that at least one of those is tried.

This avoids crashing the renderer process if &#34;Arial&#34; is missing on
the system.

BUG=309714
AUTHOR=rogerj@opera.com
TBR=eae@chromium.org

Review URL: https://codereview.chromium.org/64243002

git-svn-id: svn://svn.chromium.org/blink/trunk@161534 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161534&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Introduce BorderImageLength and BorderImageLengthBox</strong>
            <pre class=body style=display:none>
Getting rid of the Relative length type has been a goal for a while
and this is step one for getting rid of it for the remaining user:
border-image.

Specifically, the &#39;border-image-width&#39; and &#39;border-image-outset&#39;
longhand properties are the remaining users of the Relative length
type. Relative is used to indicate that the Length doesn&#39;t contain a
length at all, but a plain number (in this case a multiple of the
respective computed border width).

Wrap this usage within a BorderImageLength for now, to prepare for
BorderImageLength conditionally acting as a number itself and thus making
it possible to remove the Relative length type.

To limit scope, not all use of Length as a BorderImageLength is wrapped.
Notably parts of RenderStyle and the related animation code haven&#39;t
been converted. For this to work there is compatibility code that goes
from LengthBox to BorderImageLengthBox and back.

No functional changes expected. To a large part covered by existing
tests in LayoutTests/fast/borders/border-image-*.

BUG=259107

Review URL: https://codereview.chromium.org/55783002

git-svn-id: svn://svn.chromium.org/blink/trunk@161527 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161527&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Add a flushing mechanism for the WebVTTParser</strong>
            <pre class=body style=display:none>
In the WebVTT parser there&#39;s an ad-hoc &#34;end-of-stream&#34; check for when
a pending cue should be flushed from the parser. The condition used
however is not reliable given multiple buffers.

To rectify this, add a flush() method to WebVTTParser, and call it
from TextTrackLoader::notifyFinished. Then let this new flush() method
take care of flushing any pending cue from the parser.

BUG=231460

Review URL: https://codereview.chromium.org/59453002

git-svn-id: svn://svn.chromium.org/blink/trunk@161519 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161519&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>XHR.abort(): no event dispatching in completed/non-started states.</strong>
            <pre class=body style=display:none>
Follow the spec and other implementations and only transition to an
UNSENT state if abort() is called on request that either hasn&#39;t been
sent or has completed. That is, no dispatching of progress events will
be done.

R=
BUG=315470

Review URL: https://codereview.chromium.org/60203010

git-svn-id: svn://svn.chromium.org/blink/trunk@161515 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161515&view=revision'><time datetime='2013-11-07' title='2013-11-07'>2013-11-07</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Simplify LoadableTextTrack construction</strong>
            <pre class=body style=display:none>
HTMLTrackElement::parseAttribute() already sets kind, label and
language when the corresponding attributes change, so we can create a
TextTrack with the default values, leaving all of the logic for
parsing kind in TextTrack::setKind().

This leaves HTMLTrackElement::srclang() and label() unused, so just
use [Reflect] in the IDL for these attributes.

BUG=315510
TEST=media/track/opera/interfaces/TextTrack/kind.html,
     media/track/opera/interfaces/TextTrack/label.html,
     media/track/opera/interfaces/TextTrack/language.html,
     media/track/track-kind.html

Review URL: https://codereview.chromium.org/60423008

git-svn-id: svn://svn.chromium.org/blink/trunk@161457 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161457&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove the mode getter/setter for in-band text tracks</strong>
            <pre class=body style=display:none>
TextTrack::setMode() is virtual and overridden by InbandTextTrack to
forward all the way down to Chromium&#39;s WebInbandTextTrackImpl, where
it is simply stored. However, the getter is not virtual and does not
ever retrieve the value, so all of this is elaborate dead code.

Because InbandTextTrack::setMode() first called TextTrack::setMode(),
this assymetry between getting and setting for in-band tracks didn&#39;t
actually break anything, and the relevant tests still pass.

In addition, in-band tracks should not need to know about the mode,
they simply provide cues for Blink, whether or not they are rendered
can be left an internal matter.

The Chromium side can be removed after a Blink roll, after which
WebInbandTextTrack::Mode can finally be removed as well.

BUG=315476
TEST=LayoutTests/media/track/opera/interfaces/TextTrack/mode.html

Review URL: https://codereview.chromium.org/60203008

git-svn-id: svn://svn.chromium.org/blink/trunk@161456 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161456&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLButtonElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlbuttonelement 

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 returns an empty string for HTMLButtonElement.type.

Leave setCustomValidity until later, since it appears on several interfaces.

BUG=310298

Review URL: https://codereview.chromium.org/59903003

git-svn-id: svn://svn.chromium.org/blink/trunk@161455 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161455&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for &lt;base&gt;, &lt;body&gt; and &lt;br&gt;</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlbaseelement
http://whatwg.org/html#HTMLBodyElement-partial
http://whatwg.org/html#HTMLBRElement-partial

Note that the spec has [TreatNullAs=EmptyString] for all HTMLBodyElement
attributes except background.

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

IE11 throws an exception when setting HTMLBRElement.clear,
which the spec does not allow for.

Presto resolves HTMLBodyElement.background as a URL.

BUG=310298

Review URL: https://codereview.chromium.org/60153008

git-svn-id: svn://svn.chromium.org/blink/trunk@161451 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161451&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLBaseFontElement IDL and implementation</strong>
            <pre class=body style=display:none>
This is dead code because it doesn&#39;t appear in the GYP files and
HTMLTagNames.in already says &#34;basefont interfaceName=HTMLElement&#34;.

BUG=315480

Review URL: https://codereview.chromium.org/61673002

git-svn-id: svn://svn.chromium.org/blink/trunk@161449 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161449&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Never create HTMLTrackElement when VideoTrack is not enabled</strong>
            <pre class=body style=display:none>
Generalize wrapperOnlyIfMediaIsAvailable into runtimeEnabled to
let audio/video/source depend on Media and track on VideoTrack.

Let VideoTrack depend on Media, since it would otherwise become
possible to create an HTMLTrackElement with Media disabled.

The mediaEnabled setting is set to false by InspectorOverlay and
SVGImage, in both cases presumably to prevent any media
playback. Accomplish this instead by blocking the media load.

BUG=315207

Review URL: https://codereview.chromium.org/60763002

git-svn-id: svn://svn.chromium.org/blink/trunk@161402 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161402&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove unused TextTrack virtual functions</strong>
            <pre class=body style=display:none>
isClosedCaptions(), containsOnlyForcedSubtitles(),
isMainProgramContent() and isEasyToRead() are unused.

WebInbandTextTrack::isClosedCaptions() is implemented in
Chromium (WebInbandTextTrackImpl) by switching on kind. Since it
doesn&#39;t use OVERRIDE, it will still compile and can be removed
after a Blink roll.

BUG=315257

Review URL: https://codereview.chromium.org/59913005

git-svn-id: svn://svn.chromium.org/blink/trunk@161398 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161398&view=revision'><time datetime='2013-11-06' title='2013-11-06'>2013-11-06</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove WebInbandTextTrack::isDefault()</strong>
            <pre class=body style=display:none>
The spec only mentions the default attribute on track elements
(out-of-band text tracks), in-band tracks don&#39;t have this
concept.

Also, because InbandTextTrack doesn&#39;t actually implement
isDefault(), this is all dead code.

The Chromium implementation (WebInbandTextTrackImpl) always
returns false and can be removed after a Blink roll.

Also remove HTMLTrackElement::isDefault() and setIsDefault(),
which are dead code because [Reflect] is used in the IDL.

BUG=315270

Review URL: https://codereview.chromium.org/60633004

git-svn-id: svn://svn.chromium.org/blink/trunk@161396 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161396&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Fix memory leak on serializing neutered ArrayBuffer.</strong>
            <pre class=body style=display:none>
If the serialization of an ArrayBufferView&#39;s ArrayBuffer fails, unwind
the state stack completely before reporting an error to avoid leaking
a serializer state object.

To accommodate, split out the state stack overflow checking from the
dispatching on value types which was both performed by the main
serialization method. Now handled by

    Serializer::doSerialize()
    Serializer::doSerializeImpl()

respectively, with the former calling upon the latter if the stack
check passes.

R=dslomov@chromium.org
BUG=291240

Review URL: https://codereview.chromium.org/56973002

git-svn-id: svn://svn.chromium.org/blink/trunk@161343 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161343&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLAreaElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlareaelement

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflects ping as a URL property, which is not per spec. 

IE11 reflects coords as &#39;0,0,0,0&#39; and shape as &#39;rect&#39;, while it doesn&#39;t
support ping.

Presto doesn&#39;t support ping.

BUG=310298

Review URL: https://codereview.chromium.org/59383002

git-svn-id: svn://svn.chromium.org/blink/trunk@161340 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161340&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for HTMLAnchorElement</strong>
            <pre class=body style=display:none>
http://whatwg.org/html#htmlanchorelement
http://whatwg.org/html#HTMLAnchorElement-partial

The tests for the updated properties pass in Firefox Nightly, IE11
Release Preview and Opera 12.16, with these exceptions:

Firefox reflects ping as a URL property, which is not per spec. 

IE11 reflects coords as &#39;0,0,0,0&#39; and shape as &#39;rect&#39;, while it doesn&#39;t
support ping/download.

Presto doesn&#39;t support ping/download.

BUG=310298

Review URL: https://codereview.chromium.org/58493002

git-svn-id: svn://svn.chromium.org/blink/trunk@161336 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161336&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>ed
          <td class=message><strong>&lt;animate&gt; not working on SVG Polygons.</strong>
            <pre class=body style=display:none>
The animation is taking place, but the rendering side didn&#39;t use the
computed values.

R=
BUG=196435

Review URL: https://codereview.chromium.org/55893002

git-svn-id: svn://svn.chromium.org/blink/trunk@161329 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161329&view=revision'><time datetime='2013-11-05' title='2013-11-05'>2013-11-05</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Restore ActivityLogging=SetterForIsolatedWorlds for mouse and keyboard events</strong>
            <pre class=body style=display:none>
This was first added in r154552.

In r159511 [PerWorldBindings, ActivityLogging=SetterForIsolatedWorlds]
was replaced with [ActivityLogging=Setter] on the assumption that
PerWorldBindings wasn&#39;t there for any particular reason and that
SetterForIsolatedWorlds wouldn&#39;t make sense without it.

This was wrong, because activity logging now happens for all worlds,
where it previously only happened for isolated worlds.

Make it so again.

BUG=305112

Review URL: https://codereview.chromium.org/57443002

git-svn-id: svn://svn.chromium.org/blink/trunk@161265 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161265&view=revision'><time datetime='2013-11-04' title='2013-11-04'>2013-11-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Hide the CC button for &lt;audio&gt; with &lt;track&gt;s</strong>
            <pre class=body style=display:none>
It is per spec that the DOM API should work the same for &lt;audio&gt;
and &lt;video&gt;, but it doesn&#39;t make any sense to have the UI bits for
&lt;audio&gt; since there&#39;s nowhere to actually render the cues.

BUG=314027

Review URL: https://codereview.chromium.org/54713007

git-svn-id: svn://svn.chromium.org/blink/trunk@161246 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161246&view=revision'><time datetime='2013-11-04' title='2013-11-04'>2013-11-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement::m_sendProgressEvents</strong>
            <pre class=body style=display:none>
It is always true, and it appears to have been that way since it was
added in 2009 (r40857).

BUG=none

Review URL: https://codereview.chromium.org/57473002

git-svn-id: svn://svn.chromium.org/blink/trunk@161245 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161245&view=revision'><time datetime='2013-11-04' title='2013-11-04'>2013-11-04</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Let WebVTTRegions depends_on=VideoTrack and simplify IDL</strong>
            <pre class=body style=display:none>
BUG=313604

Review URL: https://codereview.chromium.org/54903008

git-svn-id: svn://svn.chromium.org/blink/trunk@161218 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161218&view=revision'><time datetime='2013-11-02' title='2013-11-02'>2013-11-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Rename TextTrackRegion/TextTrackRegionList to VTTRegion/VTTRegionList</strong>
            <pre class=body style=display:none>
http://dev.w3.org/html5/webvtt/#vttregion-interface
http://dev.w3.org/html5/webvtt/#vttregionlist-interface

This is a completely mechanical rename, except for added instanceof
tests and removing NoInterfaceObject (not per spec) from VTTRegionList
to make them pass.

Silvia (the spec editor) says in the bug that the spec hasn&#39;t changed
since the implementation, so together with the fact that this is
RuntimeEnabled, it should be safe despite being Web facing.

BUG=313604

Review URL: https://codereview.chromium.org/55653003

git-svn-id: svn://svn.chromium.org/blink/trunk@161209 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161209&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Make LoadableTextTrack::clearClient not virtual</strong>
            <pre class=body style=display:none>
When TextTrack::clearClient and LoadableTextTrack::clearClient were
added in r99984, both had the virtual keyword and nothing seemed odd.

In r135410 the virtual keyword was dropped from TextTrack::clearClient
because &#34;it is unnecessary&#34;, but LoadableTextTrack::clearClient was left
virtual even though it now shadowed (instead of overriding) TextTrack.

The HTMLTrackElement destructor calls LoadableTextTrack::clearClient, so
there&#39;s no risk of LoadableTextTrack::m_trackElement becoming stale.

It would be nice to sort this out even more, perhaps by refactoring
LoadableTextTrack into a TextTrackCueProvider or something that doesn&#39;t
inherit from TextTrack, but until then add a comment to calm the reader.

BUG=313287

Review URL: https://codereview.chromium.org/54963004

git-svn-id: svn://svn.chromium.org/blink/trunk@161197 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161197&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Handle empty lines in the &#39;TimingsAndSettings&#39; state in the WebVTTParser</strong>
            <pre class=body style=display:none>
As per the WebVTT parsing specification, step 27 (&#34;If line is the empty
string, then discard cue and jump to the step labeled cue loop.&#34;), the
cue should be discarded and the cue loop restarted if an &#34;identifier&#34;
line is followed by an empty line. Transitioning to the &#39;BadCue&#39; state
will lose the transition, so we need to transition explicitly from the
&#39;TimingsAndSettings&#39; state (to the &#39;Id&#39; state.)

BUG=314056

Review URL: https://codereview.chromium.org/55853002

git-svn-id: svn://svn.chromium.org/blink/trunk@161184 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161184&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove virtual where not needed in TextTrackCue</strong>
            <pre class=body style=display:none>
Remove TextTrackCue::cueType() since it always returned CueType::WebVTT
and was never overriden. CueType::Generic was for TextTrackCueGeneric
which was removed in r158977.

Remove TextTrackCue::videoSizeDidChange(...) since it did nothing and
was never overridden. This looks like unfinished logic for moving cues
when the controls are shown and hidden, and could be revived in
&lt;http://crbug.com/314066&gt;.

BUG=313287

Review URL: https://codereview.chromium.org/50903009

git-svn-id: svn://svn.chromium.org/blink/trunk@161172 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161172&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove virtual where not needed in HTMLMediaElement/HTMLVideoElement</strong>
            <pre class=body style=display:none>
These functions were neither overrides or overridden anywhere, so
the virtual keywords were likely copypasta or unrealized plans.

BUG=313702

Review URL: https://codereview.chromium.org/53453004

git-svn-id: svn://svn.chromium.org/blink/trunk@161166 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161166&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Improve the &#39;track&#39; and &#39;media&#39; WATCHLISTS</strong>
            <pre class=body style=display:none>
BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/55163005

git-svn-id: svn://svn.chromium.org/blink/trunk@161155 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161155&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove trailing .* from patterns in WATCHLISTS</strong>
            <pre class=body style=display:none>
As per the IMPORTANT comment at the top of the file.

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/55733002

git-svn-id: svn://svn.chromium.org/blink/trunk@161154 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161154&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Update references to Source/WebKit/chromium/ in WATCHLISTS</strong>
            <pre class=body style=display:none>
Source/WebKit/chromium/ was split into public/, Source/web/, and
possibly other directories over a number of commits, but WATCHLISTS
were not updated to match. For the updated paths, I&#39;ve verified that
there are actually matching and reasonable files in Source/web/,
public/web/ and/or public/platform/.

As per the comment at the top of the file, .* was not added to the
end of the patterns, even if they had it before.

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/55243009

git-svn-id: svn://svn.chromium.org/blink/trunk@161152 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161152&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add self to media in WATCHLISTS</strong>
            <pre class=body style=display:none>
I&#39;ve subscribed to feature-media-reviews@chromium.org, but the Blink
changes are drowned in a flood of Chromium reviews, so until there
is a separate list for Blink changes, just watch it directly.

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/54773004

git-svn-id: svn://svn.chromium.org/blink/trunk@161151 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161151&view=revision'><time datetime='2013-11-01' title='2013-11-01'>2013-11-01</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Decouple tokenizer/tree builder state from WebVTTParser</strong>
            <pre class=body style=display:none>
The WebVTTTokenizer owned by the WebVTTParser (m_tokenizer) is only
used by the WebVTTParser::createDocumentFragmentFromCueText method
on WebVTTParser.
The same is true for other state like the current token (m_token),
the current (subtree root) node (m_currentNode) and the stack of
language tags (m_languageStack).
Transplant this state together with it&#39;s mutator method -
constructTreeFromToken - onto a new helper class, WebVTTTreeBuilder,
and then use that in WebVTTParser::createDocumentFragmentFromCueText.

With the above in place, WebVTTParser::createDocumentFragmentFromCueText
can be made static, avoiding the contorted (and unnecessary) allocation
in TextTrackCue::createWebVTTNodeTree.

BUG=305317

Review URL: https://codereview.chromium.org/52713005

git-svn-id: svn://svn.chromium.org/blink/trunk@161073 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161073&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add OVERRIDE where possible in HTMLMediaElement and children</strong>
            <pre class=body style=display:none>
Some of the places where it wasn&#39;t added are in order, but some of
them simply shouldn&#39;t be virtual and will be dealt with later.

BUG=313702

Review URL: https://codereview.chromium.org/51763009

git-svn-id: svn://svn.chromium.org/blink/trunk@161068 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161068&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Indent comments in HTMLMediaElement.h</strong>
            <pre class=body style=display:none>
Drop the &#34;DOM API&#34; comment because not everything below that point
is part of the DOM API anyway.

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/54673003

git-svn-id: svn://svn.chromium.org/blink/trunk@161062 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161062&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Make WebVTTParser::collectTimeStamp static</strong>
            <pre class=body style=display:none>
This function is independent of internal WebVTTParser state, while
being used outside of the actual parser.

BUG=305317

Review URL: https://codereview.chromium.org/54463002

git-svn-id: svn://svn.chromium.org/blink/trunk@161059 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161059&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Make http LayoutTests work in Debian with Apache 2.4.</strong>
            <pre class=body style=display:none>
This patch is migrated from https://bugs.webkit.org/show_bug.cgi?id=120352
Original patch in WebKit by Allan Sandfeld Jensen &lt;allan.jensen@digia.com&gt;
Reviewed in WebKit by Andreas Kling.

Debian testing (jessie) and newer use Apache 2.4.

Select httpd.conf file for debian based on version, matching Fedora behavior.
Added an apache 2.4 configuration file adapted from Fedora&#39;s,
and renamed the 2.2 file to have consistent naming.

BUG=313632

Review URL: https://codereview.chromium.org/47023017

git-svn-id: svn://svn.chromium.org/blink/trunk@161058 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161058&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove outdated comment about CSP for &lt;track&gt;</strong>
            <pre class=body style=display:none>
The spec now explictly calls out associated text tracks:
https://dvcs.w3.org/hg/content-security-policy/raw-file/tip/csp-specification.dev.html#media-src

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/54683002

git-svn-id: svn://svn.chromium.org/blink/trunk@161057 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161057&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Use TextTrackMode and TextTrackKind enums in TextTrack IDL</strong>
            <pre class=body style=display:none>
The generated code (modeAttributeSetter in V8TextTrack.cpp) now
checks that the string is one of the three allowed values, so we
can just assert it internally.

Also fiddle a bit with the IDL to make it match the spec order.

BUG=313602

Review URL: https://codereview.chromium.org/52593009

git-svn-id: svn://svn.chromium.org/blink/trunk@161055 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161055&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>fs
          <td class=message><strong>Use TextResourceDecoder for the WebVTTParser</strong>
            <pre class=body style=display:none>
Simplifies BOM handling, signature detection and fixes handling
of &#34;short&#34; (&lt; 9 bytes) inputs.

Also fixes the signature checker to allow a formfeed character to
follow the signature itself.

BUG=231460

Review URL: https://codereview.chromium.org/54203003

git-svn-id: svn://svn.chromium.org/blink/trunk@161049 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161049&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TextTrackLoaderClient::shouldLoadCues and ::cueLoadingStarted</strong>
            <pre class=body style=display:none>
Their only implementations (in TextTrackLoader) do nothing useful,
so just remove them until needed.

Also sprinkle some OVERRIDE in the neighborhood.

BUG=313287

Review URL: https://codereview.chromium.org/53533003

git-svn-id: svn://svn.chromium.org/blink/trunk@161048 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161048&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Correct use of virtual and OVERRIDE in HTMLTrackElement</strong>
            <pre class=body style=display:none>
canLoadUrl was virtual for no reason, and the TextTrackClient
implementation was missing OVERRIDE.

BUG=313287

Review URL: https://codereview.chromium.org/52443006

git-svn-id: svn://svn.chromium.org/blink/trunk@161047 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161047&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Sync the logging in HTMLMediaElement::scheduleDelayedAction with reality</strong>
            <pre class=body style=display:none>
The method was renamed in r145322, but not the log message.

BUG=none
NOTRY=true

Review URL: https://codereview.chromium.org/52593010

git-svn-id: svn://svn.chromium.org/blink/trunk@161045 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161045&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Handle resource fetch failure in TextTrackLoader::load</strong>
            <pre class=body style=display:none>
It&#39;s not clear when this can happen, even after looking at
ResourceFetcher::requestResource I was unable to produce a test
case which would hit this code path. However, given that we are
null-checking already, we might as well handle it correctly.

BUG=313287

Review URL: https://codereview.chromium.org/53213002

git-svn-id: svn://svn.chromium.org/blink/trunk@161040 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=161040&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove LoadableTextTrackClient</strong>
            <pre class=body style=display:none>
It is completely unused.

BUG=313287

Review URL: https://codereview.chromium.org/53413003

git-svn-id: svn://svn.chromium.org/blink/trunk@160993 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160993&view=revision'><time datetime='2013-10-31' title='2013-10-31'>2013-10-31</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Move innerHTML and outerHTML to Element</strong>
            <pre class=body style=display:none>
Per the DOM Parsing specification, innerHTML and outerHTML should be
available on Element, not HTMLElement. Since HTMLElement and SVGElement
are the only interfaces that inherit from Element, the only Web visible
difference should be that innerHTML and outerHTML are now available for
SVG elements.

For &lt;svg&gt;.innerHTML = &#34;&lt;!-- svg elements here --&gt;&#34; to insert elements
with correct namespace URI, one adjustment has to be made to the tree
builder step of the html parsing algorithm. The changes are described in
the spec change &lt;http://html5.org/r/7768&gt;. The new concept of
&#39;adjustedCurrentNode&#39; is used when processing and when deciding to
process foreign content and makes sure that parsed elements go into the
correct namespace.

Some layout tests that (perhaps accidentally) use innerHTML and
outerHTML on SVG elements are adjusted slightly.

This is a re-land of 160869 https://codereview.chromium.org/44333002/

BUG=311080

Review URL: https://codereview.chromium.org/52443003

git-svn-id: svn://svn.chromium.org/blink/trunk@160981 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160981&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TextTrackResource</strong>
            <pre class=body style=display:none>
It&#39;s now just a RawResource, so use that instead.

BUG=312756

Review URL: https://codereview.chromium.org/52563002

git-svn-id: svn://svn.chromium.org/blink/trunk@160974 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160974&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Simplify HTMLTrackElement::didCompleteLoad</strong>
            <pre class=body style=display:none>
It doesn&#39;t need to be virtual and didn&#39;t use the first argument.

BUG=313287

Review URL: https://codereview.chromium.org/51883010

git-svn-id: svn://svn.chromium.org/blink/trunk@160971 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160971&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Use a TextTrackLoaderClient reference (not pointer)</strong>
            <pre class=body style=display:none>
It&#39;s never null, so remove all doubt for future readers of the code.

BUG=313287

Review URL: https://codereview.chromium.org/48113029

git-svn-id: svn://svn.chromium.org/blink/trunk@160970 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160970&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Refactor TextTrackLoader to properly use the dataReceived callback</strong>
            <pre class=body style=display:none>
We get the data and length in the callback, so just use it directly.

This accidentally fixes a parsing test, by changing the segmentation
of the input received by the WebVTT parser. A separate bug was filed
to fix the problem: http://crbug.com/313222

BUG=312756

Review URL: https://codereview.chromium.org/52533003

git-svn-id: svn://svn.chromium.org/blink/trunk@160965 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160965&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Rename TextTrackLoader::m_cachedCueData to m_resource</strong>
            <pre class=body style=display:none>
It&#39;s only used to add and remove a client and the code doesn&#39;t know
or care whether it&#39;s cached or not, just call it m_resource like
in DocumentThreadableLoader.

BUG=312756

Review URL: https://codereview.chromium.org/52463002

git-svn-id: svn://svn.chromium.org/blink/trunk@160953 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160953&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Add UseCounters for certain properties on CSSStyleDeclaration</strong>
            <pre class=body style=display:none>
Blink/WebKit/IE supports properties on CSSStyleDeclaration that are
the literal names of the CSS properties, for instance
style[&#39;font-face&#39;]. This is not supported in Gecko/Presto.

To measure usage on the Web, introduce two counters: one for the
dashed properties and one for the non-&#39;css&#39;-prefixed &#39;float&#39; property
which hasn&#39;t been part of the specification.

BUG=290055

Review URL: https://codereview.chromium.org/47923015

git-svn-id: svn://svn.chromium.org/blink/trunk@160934 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160934&view=revision'><time datetime='2013-10-30' title='2013-10-30'>2013-10-30</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Move innerHTML and outerHTML to Element</strong>
            <pre class=body style=display:none>
Per the DOM Parsing specification, innerHTML and outerHTML should be
available on Element, not HTMLElement. Since HTMLElement and SVGElement
are the only interfaces that inherit from Element, the only Web visible
difference should be that innerHTML and outerHTML are now available for
SVG elements.

For &lt;svg&gt;.innerHTML = &#34;&lt;!-- svg elements here --&gt;&#34; to insert elements
with correct namespace URI, one adjustment has to be made to the tree
builder step of the html parsing algorithm. The changes are described in
the spec change &lt;http://html5.org/r/7768&gt;. The new concept of
&#39;adjustedCurrentNode&#39; is used when processing and when deciding to
process foreign content and makes sure that parsed elements go into the
correct namespace.

Some layout tests that (perhaps accidentally) use innerHTML and
outerHTML on SVG elements are adjusted slightly.

BUG=311080

Review URL: https://codereview.chromium.org/44333002

git-svn-id: svn://svn.chromium.org/blink/trunk@160869 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160869&view=revision'><time datetime='2013-10-29' title='2013-10-29'>2013-10-29</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Let TextTrackResource be a RawResource</strong>
            <pre class=body style=display:none>
This allows deprecatedDidReceiveResource to be removed completely, by
using the exising appendData callback instead.

The removed FIXME was a little bit confused, in that it didn&#39;t seem to
realize that incremental parsing is needed for WebVTT.

Also add OVERRIDE where possible.

BUG=312756

Review URL: https://codereview.chromium.org/50123006

git-svn-id: svn://svn.chromium.org/blink/trunk@160848 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160848&view=revision'><time datetime='2013-10-29' title='2013-10-29'>2013-10-29</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Implement WindowEventHandlers</strong>
            <pre class=body style=display:none>
Spec: http://whatwg.org/html#windoweventhandlers

This is mostly refactoring, but there are Web-facing changes for
onmessage, onpageshow and onpagehide, which were not correctly handled.

Drop the &#34;Not implemented yet&#34; blocks. onafterprint and onbeforeprint
are listed in WindowEventHandlers.idl, while onredo and onundo are
not in the spec.

BUG=305112

Review URL: https://codereview.chromium.org/48603002

git-svn-id: svn://svn.chromium.org/blink/trunk@160816 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160816&view=revision'><time datetime='2013-10-29' title='2013-10-29'>2013-10-29</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Let MediaError.MEDIA_ERR_ENCRYPTED depend on EncryptedMediaAnyVersion</strong>
            <pre class=body style=display:none>
Also fix the indentation.

BUG=310641

Review URL: https://codereview.chromium.org/48573004

git-svn-id: svn://svn.chromium.org/blink/trunk@160808 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160808&view=revision'><time datetime='2013-10-29' title='2013-10-29'>2013-10-29</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Handle the onerror content attribute for &lt;body&gt; and &lt;frameset&gt;</strong>
            <pre class=body style=display:none>
Firefox also passes the test. Presto fails on &#34;Convert to function&#34;
everywhere, and IE11 was not tested.

BUG=310630

Review URL: https://codereview.chromium.org/48303003

git-svn-id: svn://svn.chromium.org/blink/trunk@160708 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160708&view=revision'><time datetime='2013-10-28' title='2013-10-28'>2013-10-28</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounter for TextTrackCue constructor</strong>
            <pre class=body style=display:none>
The plan in issue 270340 is to leave the TextTrackCue constructor until
it is known to be safe to deprecate and remove. Add a UseCounter so that
we can get stats from M32 stable, to be branched Nov 4th, 2013.

BUG=270340

Review URL: https://codereview.chromium.org/47453002

git-svn-id: svn://svn.chromium.org/blink/trunk@160707 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160707&view=revision'><time datetime='2013-10-28' title='2013-10-28'>2013-10-28</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Explicit GC of strings to avoid test timeout.</strong>
            <pre class=body style=display:none>
The test file visited-link-hang.html creates millions of strings with length
1-1000000. That caused the giant-stylesheet-crash.html test to time out if
the strings were still not garbage collected. Added explicit garbage
collection to clean up after the visited-link-hang strings. Likewise, added
explicit GC calls as a safety measure in the test that timed out.

R=ojan@chromium.org
BUG=305037

Review URL: https://codereview.chromium.org/38293002

git-svn-id: svn://svn.chromium.org/blink/trunk@160683 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160683&view=revision'><time datetime='2013-10-27' title='2013-10-27'>2013-10-27</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Have XHR.getResponseHeader() return null in initial ready states.</strong>
            <pre class=body style=display:none>
Follow the XMLHttpRequest specification for getResponseHeader() and
return null if the object is in ready states {UNSENT, OPENED}.

Similarly for getAllResponseHeaders() and returning &#34;&#34; (the empty
string) when in these initial two ready states.

This replaces the older spec behavior of throwing InvalidStateError,
something that no other engines currently do, hence cross-browser
compatibility risk is low.

When reconciling the relevant tests, reworked these to use
js-test-{pre,post}.js instead.

R=tyoshino@chromium.org
BUG=311274

Review URL: https://codereview.chromium.org/46913002

git-svn-id: svn://svn.chromium.org/blink/trunk@160679 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160679&view=revision'><time datetime='2013-10-27' title='2013-10-27'>2013-10-27</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Unify the GlobalEventHandlers list on the C++ side</strong>
            <pre class=body style=display:none>
Several changes need to be made in sync to achieve this.

Teach the IDL compiler to generate static calls for EventTarget,
allowing GlobalEventHandlers.h to be the single list of the event
attributes on the C++ side.

The handling of the 5 special event handler attributes on body and
frameset was very strange, with both virtual getters/setters in C++
and overrides at the IDL level. Remove the former mechanism, and fix
up the later to fill the job it was clearly added to do.

Also fix some style issues in EventTarget.h to please presubmit.tributes on the C++ side.

BUG=305112

Review URL: https://codereview.chromium.org/37263002

git-svn-id: svn://svn.chromium.org/blink/trunk@160676 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160676&view=revision'><time datetime='2013-10-27' title='2013-10-27'>2013-10-27</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>CRLF -&gt; LF in giant-stylesheet-crash.html</strong>
            <pre class=body style=display:none>
Not able to apply another patch from rietveld due to CRLF issues.

TBR=ojan@chromium.org
BUG=None

Review URL: https://codereview.chromium.org/46063006

git-svn-id: svn://svn.chromium.org/blink/trunk@160658 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160658&view=revision'><time datetime='2013-10-26' title='2013-10-26'>2013-10-26</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove dead code for reflected attributes on &lt;audio&gt;, &lt;video&gt; and &lt;track&gt;</strong>
            <pre class=body style=display:none>
Where [Reflect] is used in the IDL, the getters and setters in C++ are
only for internal convenience, and these were unused.

BUG=none

Review URL: https://codereview.chromium.org/41343003

git-svn-id: svn://svn.chromium.org/blink/trunk@160637 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160637&view=revision'><time datetime='2013-10-25' title='2013-10-25'>2013-10-25</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>Improve TypeError messages from failed array conversions.</strong>
            <pre class=body style=display:none>
Should the conversion of a value into a native array fail due to it
not having a sequence type, throw the expected TypeError but with a
message that better explains what failed.

Address this by extending the two v8 bindings helpers
WebCore::toNativeArray() and WebCore::toRefPtrNativeArray() with an
extra argument to indicate either the property name that&#39;s being
converted to an array, or its argument index position (1-indexed.)
(Or 0, if it is a setter with an array/sequence type.) In the case of
toRefPtrNativeArray(), either a property name or an argument index
might supplied; toNativeArray() only needs to support the argument
indexed form.

The code generator has been extended to supply the extra argument when
calling upon these two array conversion helpers.

So, if the array conversion fails due to the value not being array (or
array-like), the TypeError&#39;s message is now generated by a pair of
ExceptionMessages helper methods:

 static String notASequenceTypeArgumentOrValue(int argumentIndexOrValue);
 static String notASequenceTypeProperty(const String&amp; propertyName);

which handles the argument/setter value and property case,
respectively. The output will be of the form

 {X} is not an array, nor does it have indexed properties.

where X is one of

   &#34;&#39;{ThePropertyName}&#39; property&#34;
   &#34;Value&#34;
   &#34;Argument {First,Second,Third,&lt;N&gt;th}&#34;

R=
BUG=308730

Review URL: https://codereview.chromium.org/38063003

git-svn-id: svn://svn.chromium.org/blink/trunk@160593 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160593&view=revision'><time datetime='2013-10-25' title='2013-10-25'>2013-10-25</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Drop NotEnumerable for the on* event handler IDL attributes (again)</strong>
            <pre class=body style=display:none>
The previous commit (r159721) intended to remove all of the
NotEnumerable attributes, but missed these.

BUG=305112

Review URL: https://codereview.chromium.org/37283002

git-svn-id: svn://svn.chromium.org/blink/trunk@160536 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160536&view=revision'><time datetime='2013-10-25' title='2013-10-25'>2013-10-25</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove &lt;video&gt; width and height attributes from intrisic size logic</strong>
            <pre class=body style=display:none>
The width/height content attributes already influence specified style
via HTMLVideoElement::collectStyleForPresentationAttribute, to also
influence the intrinsic size has never been part of the spec:
http://whatwg.org/html#the-video-element

The test case passes in Firefox Nightly and IE11 Release Preview,
but fails in Opera Presto, which has no default intrinsic size.
Opera is actually correct per spec, but fixing Blink can be done
in a separate bug.

BUG=310122

Review URL: https://codereview.chromium.org/38313002

git-svn-id: svn://svn.chromium.org/blink/trunk@160491 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160491&view=revision'><time datetime='2013-10-24' title='2013-10-24'>2013-10-24</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove dead code for webkitvisibilitychange in Document</strong>
            <pre class=body style=display:none>
There&#39;s no attribute EventHandler onwebkitvisibilitychange in the IDL,
so the DEFINE_ATTRIBUTE_EVENT_LISTENER would just output dead code.

BUG=none

Review URL: https://codereview.chromium.org/35693008

git-svn-id: svn://svn.chromium.org/blink/trunk@160346 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160346&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove redundant scheduleDelayedAction in Audio constructor</strong>
            <pre class=body style=display:none>
Setting the src attribute will trigger HTMLMediaElement::parseAttribute,
which already calls scheduleDelayedAction when src is modified.

This is already tested by LayoutTests/media/audio-constructor-src.html

BUG=none

Review URL: https://codereview.chromium.org/36863002

git-svn-id: svn://svn.chromium.org/blink/trunk@160333 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160333&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounters for Element.webkitRequestFullscreen/webkitRequestFullScreen</strong>
            <pre class=body style=display:none>
Spawned from &#34;Is there a plan for shipping unprefixed fullscreen API?&#34;

https://groups.google.com/a/chromium.org/d/msg/blink-dev/iElkfxDU7d4/gV0HS8guXscJ

BUG=none

Review URL: https://codereview.chromium.org/36573003

git-svn-id: svn://svn.chromium.org/blink/trunk@160329 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160329&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add self to watchlist for &lt;track&gt;</strong>
            <pre class=body style=display:none>
BUG=none

Review URL: https://codereview.chromium.org/36673002

git-svn-id: svn://svn.chromium.org/blink/trunk@160326 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160326&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>sigbjornf
          <td class=message><strong>More informative error messages for non-Transferables.</strong>
            <pre class=body style=display:none>
Elaborate the TypeError exception reported if the various
postMessage()s (on window, at the dedicated Worker global scope, or
over MessagePorts) are ill-typed transferable arguments, supplying an
error message indicating that the transferable argument isn&#39;t a
sequence type.

R=
BUG=308730

Review URL: https://codereview.chromium.org/30673002

git-svn-id: svn://svn.chromium.org/blink/trunk@160323 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160323&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove TreatNullAs=NullString for media interfaces</strong>
            <pre class=body style=display:none>
The spec doesn&#39;t have special null handling here:
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html

The updated test was run in Firefox Nightly (with media.webvtt.enabled),
IE11 Release Preview and Opera 12.16 (Presto 2.12.388). Everything
passes, with these exceptions:

No other browser supports the mediaGroup property.

The preload default value is &#34;metadata&#34; in IE11 and Presto, and &#34;&#34; in
Firefox. The spec suggests &#34;metadata&#34;. Bugs filed:
https://code.google.com/p/chromium/issues/detail?id=310450
https://bugzilla.mozilla.org/show_bug.cgi?id=929890

BUG=310298

Review URL: https://codereview.chromium.org/35803004

git-svn-id: svn://svn.chromium.org/blink/trunk@160318 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160318&view=revision'><time datetime='2013-10-23' title='2013-10-23'>2013-10-23</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Unstick background position origins</strong>
            <pre class=body style=display:none>
In the FillLayer class, reset the {x,y} origins each time {x,y}
position is set and require the caller to later call
setBackground{X,Y}Origin to override the default value. This fits
better with the way &#39;initial&#39; values are set from the StyleBuilder and
avoids the problem of origins lingering in the FillLayer when setting
the 2-value versions of background-position.

Furthermore, split the flag m_backgroundOriginSet into one for each
property so that something like &#39;background-position-x:initial&#39; won&#39;t
reset the position origin for both properties.

Also, remove code for handling &#39;initial&#39; for {x,y} position, &#39;initial&#39;
is already handled in the StyleBuilder further up the call chain.

BUG=304721

Review URL: https://codereview.chromium.org/35303002

git-svn-id: svn://svn.chromium.org/blink/trunk@160243 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160243&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement.initialTime</strong>
            <pre class=body style=display:none>
It was dropped from spec in April 2012:
http://html5.org/r/7046

BUG=309474

Review URL: https://codereview.chromium.org/35033002

git-svn-id: svn://svn.chromium.org/blink/trunk@160209 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160209&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Test setting string properties to null on &lt;audio&gt;, &lt;video&gt;, &lt;source&gt; and &lt;track&gt;</strong>
            <pre class=body style=display:none>
http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html

The spec doesn&#39;t have [TreatNullAs=NullString] for any of these
properties, so the added tests are actually wrong for mediaGroup,
poster and src. The implementation will be fixed in future commits.

BUG=none

Review URL: https://codereview.chromium.org/30693003

git-svn-id: svn://svn.chromium.org/blink/trunk@160195 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160195&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounter for HTMLSourceElement.media</strong>
            <pre class=body style=display:none>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19619

By counting the number of candidate &lt;source&gt; elements and the number
of non-matching media attributes, we can determine what the impact of
removing the attribute from spec and implementation would be.

BUG=310006

Review URL: https://codereview.chromium.org/32583007

git-svn-id: svn://svn.chromium.org/blink/trunk@160190 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160190&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement.startTime</strong>
            <pre class=body style=display:none>
It was replaced with initialTime in August 2010:
http://html5.org/r/5310

BUG=309473

Review URL: https://codereview.chromium.org/32583003

git-svn-id: svn://svn.chromium.org/blink/trunk@160174 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160174&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Use MeasureAs and ImplementedAs in media IDL</strong>
            <pre class=body style=display:none>
This leaves the C++ code a little bit cleaner.

Also indent HTMLMediaElement.idl for consistency.

BUG=309364

Review URL: https://codereview.chromium.org/32103002

git-svn-id: svn://svn.chromium.org/blink/trunk@160119 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160119&view=revision'><time datetime='2013-10-22' title='2013-10-22'>2013-10-22</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Normalize indentation in Element.idl</strong>
            <pre class=body style=display:none>
The DOM Level 2 Core block was very weird, so re-indent things
to have some kind of consistency in indentation and line length.

BUG=none

Review URL: https://codereview.chromium.org/31373003

git-svn-id: svn://svn.chromium.org/blink/trunk@160088 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160088&view=revision'><time datetime='2013-10-21' title='2013-10-21'>2013-10-21</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove the old WebKit watchlist</strong>
            <pre class=body style=display:none>
It has not been edited since April and shows no signs of being in use,
WATCHLISTS in the root is where the action is. Remove to save others
the trouble of figuring that out.

BUG=none

Review URL: https://codereview.chromium.org/31223002

git-svn-id: svn://svn.chromium.org/blink/trunk@160035 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160035&view=revision'><time datetime='2013-10-21' title='2013-10-21'>2013-10-21</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounters for prefixed HTMLVideoElement APIs</strong>
            <pre class=body style=display:none>
Count the *Fullscreen and *FullScreen calls separately, since it&#39;s likely
that the later are less common and could potentially be dropped first.

BUG=309364

Review URL: https://codereview.chromium.org/31203002

git-svn-id: svn://svn.chromium.org/blink/trunk@160031 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160031&view=revision'><time datetime='2013-10-20' title='2013-10-20'>2013-10-20</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add UseCounters for webkitAudioDecodedByteCount/webkitVideoDecodedByteCount</strong>
            <pre class=body style=display:none>
BUG=309364

Review URL: https://codereview.chromium.org/28903009

git-svn-id: svn://svn.chromium.org/blink/trunk@160023 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=160023&view=revision'><time datetime='2013-10-19' title='2013-10-19'>2013-10-19</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Count beforeload separately for isolated worlds</strong>
            <pre class=body style=display:none>
BUG=308218

Review URL: https://codereview.chromium.org/26828003

git-svn-id: svn://svn.chromium.org/blink/trunk@159909 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159909&view=revision'><time datetime='2013-10-17' title='2013-10-17'>2013-10-17</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add shared GlobalEventHandlers IDL</strong>
            <pre class=body style=display:none>
The GlobalEventHandlers.h is empty because the code generator
includes it, but empty until the C++ bits are also shared.

BUG=305112

Review URL: https://codereview.chromium.org/27133002

git-svn-id: svn://svn.chromium.org/blink/trunk@159859 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159859&view=revision'><time datetime='2013-10-17' title='2013-10-17'>2013-10-17</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Forward onscroll on body and frameset to window</strong>
            <pre class=body style=display:none>
The spec lists 5 such attributes, this is the missing one.
Ad-hoc testing shows that Firefox already supports this.

BUG=305112

Review URL: https://codereview.chromium.org/27511002

git-svn-id: svn://svn.chromium.org/blink/trunk@159844 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159844&view=revision'><time datetime='2013-10-17' title='2013-10-17'>2013-10-17</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove redundant attribute-to-event mappings in HTMLMediaElement</strong>
            <pre class=body style=display:none>
See bug for why beforeload was left in.

BUG=308047

Review URL: https://codereview.chromium.org/27154004

git-svn-id: svn://svn.chromium.org/blink/trunk@159813 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159813&view=revision'><time datetime='2013-10-17' title='2013-10-17'>2013-10-17</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add missing event handler attributes</strong>
            <pre class=body style=display:none>
Document, Element and Window now have almost all the on* attributes
from GlobalEventHandlers and are in sync with each other, except:

 * The dragexit event is part of the drag-and-drop processing model,
   but is never fired in Blink.
 * The sort event is part of the table sorting algorithm, which has
   not been implemented yet.

Also alphabetize the lists in Document.h and Element.h.

BUG=305112

Review URL: https://codereview.chromium.org/27132002

git-svn-id: svn://svn.chromium.org/blink/trunk@159781 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159781&view=revision'><time datetime='2013-10-16' title='2013-10-16'>2013-10-16</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Drop NotEnumerable for the on* event handler IDL attributes</strong>
            <pre class=body style=display:none>
BUG=305112

Review URL: https://codereview.chromium.org/26117003

git-svn-id: svn://svn.chromium.org/blink/trunk@159721 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159721&view=revision'><time datetime='2013-10-16' title='2013-10-16'>2013-10-16</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Enable the SVG GlobalEventHandlers test</strong>
            <pre class=body style=display:none>
I forgot this in a previous commit. It turns out that SVGSVGElement
forwards some of these properties to window, which broke the tests,
so use a SVGRectElement for testing instead.

BUG=305112

Review URL: https://codereview.chromium.org/26599003

git-svn-id: svn://svn.chromium.org/blink/trunk@159689 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159689&view=revision'><time datetime='2013-10-15' title='2013-10-15'>2013-10-15</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Removed fullscreen test timeouts to prevent flakiness.</strong>
            <pre class=body style=display:none>
Some fullscreen tests had an internal timeout of 50-100ms that would cause
the tests to fail if it the browser was not able to trigger the
fullscreenchange event in time. The idea is that this caused the flakiness of
the tests removed from TestExpectations in this CL. At least, when reducing
the timeout in the test, I was able to reproduce the failure with a debug run
of the fullscreen tests.

BUG=100798

Review URL: https://codereview.chromium.org/27021003

git-svn-id: svn://svn.chromium.org/blink/trunk@159564 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159564&view=revision'><time datetime='2013-10-14' title='2013-10-14'>2013-10-14</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Drop PerWorldBindings for the on* event handler IDL attributes</strong>
            <pre class=body style=display:none>
PerWorldBindings is applied inconsistently for these attributes,
so simply drop it to reduce the differences in preparation for
GlobalEventHandlers.

BUG=305112

Review URL: https://codereview.chromium.org/26535005

git-svn-id: svn://svn.chromium.org/blink/trunk@159511 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159511&view=revision'><time datetime='2013-10-12' title='2013-10-12'>2013-10-12</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Refine the GlobalEventHandlers test</strong>
            <pre class=body style=display:none>
http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-October/thread.html#40980

The conclusion of the WHATWG &#34;Should onfoo event handler properties be
on Element or HTMLElement?&#34; thread was that not letting Element have
these properties is more sane, because reflecting the corresponding
content attributes for Element would be odd.

Update the test to assert that Element does not have the properties,
but that HTMLElement and SVGElement do.

Also split the enumerate tests so that individual results can be seen.

BUG=305112

Review URL: https://codereview.chromium.org/26478004

git-svn-id: svn://svn.chromium.org/blink/trunk@159478 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159478&view=revision'><time datetime='2013-10-11' title='2013-10-11'>2013-10-11</time></a>
      
        <tr>
          <td>davve
          <td class=message><strong>Remove ImageSource::bytesDecodedToDetermineProperties() and fallout</strong>
            <pre class=body style=display:none>
Since the WebKit split, it always returns zero. Removing it enables us
also to remove the not always up-to-date m_decodedSize and avoid a
quite common assertion failure on GIF animations. No functional
changes expected.

BUG=288879

Review URL: https://codereview.chromium.org/25976002

git-svn-id: svn://svn.chromium.org/blink/trunk@159433 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159433&view=revision'><time datetime='2013-10-11' title='2013-10-11'>2013-10-11</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Make units-000.htm from ietestcenter pass.</strong>
            <pre class=body style=display:none>
In order to do this I had to:

- Change the incorrect unit vm to vmin which was already done on the IE test
  center site.

- Modify the test to use a font-size of 20px instead of 16px for the Ahem
  font to work around a font rendering issue in Blink.

- Better support for viewport relative lengths for border.

  Viewport relative lengths for the border-width properties translated from
  the number value of the viewport relative units to a pixel length without
  taking the viewport size into account. The code now converts to a px length
  through conversion of a Length object using the RenderView.

BUG=webkit.org/b/85308

Review URL: https://codereview.chromium.org/26802003

git-svn-id: svn://svn.chromium.org/blink/trunk@159363 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159363&view=revision'><time datetime='2013-10-10' title='2013-10-10'>2013-10-10</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove excessive indentation in HTMLElement.idl</strong>
            <pre class=body style=display:none>
It&#39;s been like this for a long time for no apparent reason, and
is harder to read (and fit on screen) than it needs to be.

BUG=none

Review URL: https://codereview.chromium.org/26473003

git-svn-id: svn://svn.chromium.org/blink/trunk@159328 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159328&view=revision'><time datetime='2013-10-10' title='2013-10-10'>2013-10-10</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement.webkitHasClosedCaptions/webkitClosedCaptionsVisible</strong>
            <pre class=body style=display:none>
See the bug for why it is (probably) best to remove these.

Move some things in HTMLMediaElement.idl to match the spec order and
to leave all WebKit extensions in a group at the end.

Drop duplicate TreatNullAs=NullString introduced in r159260.

BUG=305753

Review URL: https://codereview.chromium.org/26759003

git-svn-id: svn://svn.chromium.org/blink/trunk@159317 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159317&view=revision'><time datetime='2013-10-10' title='2013-10-10'>2013-10-10</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove HTMLMediaElement.webkitPreservesPitch</strong>
            <pre class=body style=display:none>
It is not implemented, so remove it until there is a spec, at
which point it can be implemented without a prefix.

BUG=305554

Review URL: https://codereview.chromium.org/26679002

git-svn-id: svn://svn.chromium.org/blink/trunk@159246 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159246&view=revision'><time datetime='2013-10-09' title='2013-10-09'>2013-10-09</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Add support for the column-fill property.</strong>
            <pre class=body style=display:none>
Note: This is only supported in the (new) region based multicol implementation.

With column-fill support, a lot of multicol tests need an update.
The old implementation behaved as if column-fill were &#39;auto&#39;, but the
initial value is &#39;balance&#39;, so now we need to be explicit about that.
For auto-height tests it doesn&#39;t really matter - such multicols are always
balanced anyway.

Already reviewed in WebKit by David Hyatt.
See https://bugs.webkit.org/show_bug.cgi?id=117693

BUG=302897

Review URL: https://codereview.chromium.org/25687002

git-svn-id: svn://svn.chromium.org/blink/trunk@159227 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159227&view=revision'><time datetime='2013-10-09' title='2013-10-09'>2013-10-09</time></a>
      
        <tr>
          <td>jl
          <td class=message><strong>Fix History.{push,replace}State handling of null &#39;url&#39; argument</strong>
            <pre class=body style=display:none>
According to the specification[1], if the &#39;url&#39; argument is null, the
new URL should be the URL of the current entry.  A relative URL should
be resolved using the document&#39;s base URL.

Adjust History::urlForState() to not treat a null (isNull()) string the
same as an empty (isEmpty()) string, which it otherwise does since
isEmpty() returns true for null strings as well.

BUG=279278

[1] http://www.whatwg.org/specs/web-apps/current-work/#dom-history-pushstate

Review URL: https://codereview.chromium.org/26216003

git-svn-id: svn://svn.chromium.org/blink/trunk@159120 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159120&view=revision'><time datetime='2013-10-08' title='2013-10-08'>2013-10-08</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add LayoutTest for GlobalEventHandlers</strong>
            <pre class=body style=display:none>
BUG=305112

Review URL: https://codereview.chromium.org/26467002

git-svn-id: svn://svn.chromium.org/blink/trunk@159116 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159116&view=revision'><time datetime='2013-10-08' title='2013-10-08'>2013-10-08</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Set SVN attribute eol-style on some files.</strong>
            <pre class=body style=display:none>
This is an attempt to make the try bots able to modify these files.

Got problems with https://codereview.chromium.org/25687002


git-svn-id: svn://svn.chromium.org/blink/trunk@159030 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=159030&view=revision'><time datetime='2013-10-07' title='2013-10-07'>2013-10-07</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Ship object-fit and object-position.</strong>
            <pre class=body style=display:none>
Change runtime flag ObjectFitPosition from experimental to stable.

BUG=236331,236333

Review URL: https://codereview.chromium.org/25761005

git-svn-id: svn://svn.chromium.org/blink/trunk@158982 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158982&view=revision'><time datetime='2013-10-05' title='2013-10-05'>2013-10-05</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>@page rule missing from simpleUserAgentStyleSheet.</strong>
            <pre class=body style=display:none>
simpleUserAgentStyleSheet did not have an @page rule like html.css.
The result was flakiness for the following test depending on whether the full
UA styles had been triggered by a previous test or not:

LayoutTests/printing/page-format-data.html

This is a reland of http://crrev.com/25856002 after http://crrev.com/25446005

TBR=ojan
BUG=303324

Review URL: https://codereview.chromium.org/26050002

git-svn-id: svn://svn.chromium.org/blink/trunk@158969 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158969&view=revision'><time datetime='2013-10-05' title='2013-10-05'>2013-10-05</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Fix WHITESPACE issues in the CSS grammar.</strong>
            <pre class=body style=display:none>
A single WHITESPACE token consumes consecutive spaces, but does not consume
spaces separated by comments. That means S* and S+ in CSS grammars need to
accept multiple WHITESPACE tokens. Additionally, white spaces are not
mandatory to separate an @-symbol and the rest of the prelude.

Use space non-terminal instead of WHITESPACE for S+ in calc expressions.

Use maybe_space non-terminal instead of WHITESPACE for S* after @-webkit-filter
and @-webkit-region.

BUG=303303

Review URL: https://codereview.chromium.org/25607005

git-svn-id: svn://svn.chromium.org/blink/trunk@158950 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158950&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Convert a few more HTML files from using DOS line breaks to UNIX.</strong>
            <pre class=body style=display:none>
This makes it possible for the trybots to apply changes here.

TBR=jochen@chromium.org
BUG=

Review URL: https://codereview.chromium.org/25994003

git-svn-id: svn://svn.chromium.org/blink/trunk@158926 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158926&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Convert a couple of HTML files from using DOS line breaks to UNIX.</strong>
            <pre class=body style=display:none>
This will hopefully make it possible for the trybots to apply changes here.

TBR=jochen@chromium.org
BUG=

Review URL: https://codereview.chromium.org/26000003

git-svn-id: svn://svn.chromium.org/blink/trunk@158924 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158924&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>@page rule missing from simpleUserAgentStyleSheet.</strong>
            <pre class=body style=display:none>
simpleUserAgentStyleSheet did not have an @page rule like html.css.
The result was flakiness for the following test depending on whether the full
UA styles had been triggered by a previous test or not:

LayoutTests/printing/page-format-data.html

R=ojan
BUG=303324

Review URL: https://codereview.chromium.org/25856002

git-svn-id: svn://svn.chromium.org/blink/trunk@158866 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158866&view=revision'><time datetime='2013-10-04' title='2013-10-04'>2013-10-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Corrected UA style for a:focus in simpleUserAgentStyleSheet.</strong>
            <pre class=body style=display:none>
simpleUserAgentStyleSheet did not have an outline on a:focus like html.css.
The result was flakiness for the following test depending on whether the full
UA styles had been triggered by a previous test or not:

LayoutTests/fast/events/reveal-link-when-focused.html

R=ojan@chromium.org
BUG=303323

Review URL: https://codereview.chromium.org/25722007

git-svn-id: svn://svn.chromium.org/blink/trunk@158814 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158814&view=revision'><time datetime='2013-10-03' title='2013-10-03'>2013-10-03</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Rename RenderMediaControlsChromium to RenderMediaControls</strong>
            <pre class=body style=display:none>
The original RenderMediaControls was removed in a previous commit.

BUG=302500

Review URL: https://codereview.chromium.org/25699002

git-svn-id: svn://svn.chromium.org/blink/trunk@158724 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158724&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Explicit space required around NOT/ONLY/AND in CSS MQ.</strong>
            <pre class=body style=display:none>
The Media Queries errata[1] dated 2013-08-30 changes from S* to S+ around
NOT, ONLY, and AND tokens. In practice, it means these tokens cannot be
separated from other tokens using comments alone anymore.

[1] http://www.w3.org/Style/2012/REC-mediaqueries-20120619-errata.html

BUG=288803

Review URL: https://codereview.chromium.org/23542021

git-svn-id: svn://svn.chromium.org/blink/trunk@158717 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158717&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Media query malformed when &#39;or&#39; is used as a media type.</strong>
            <pre class=body style=display:none>
The Media Queries errata[1] dated 2013-06-27 includes &#39;or&#39; in the list of
reserved keywords that will result in a malformed media query instead of an
unknown media type when used as a media type.

[1] http://www.w3.org/Style/2012/REC-mediaqueries-20120619-errata.html

BUG=288213

Review URL: https://codereview.chromium.org/23477048

git-svn-id: svn://svn.chromium.org/blink/trunk@158713 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158713&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove npr.org quirk in HTMLMediaElement</strong>
            <pre class=body style=display:none>
This quirk was added in &lt;http://trac.webkit.org/changeset/58586&gt; with
reference to &lt;rdar://problem/7902467&gt;. Unfortunately, the details are
unavailable. It&#39;s likely that npr.org has changed since this was added,
so try removing the quirk to see if anything breaks.

BUG=302409

Review URL: https://codereview.chromium.org/25516002

git-svn-id: svn://svn.chromium.org/blink/trunk@158703 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158703&view=revision'><time datetime='2013-10-02' title='2013-10-02'>2013-10-02</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Remove empty RenderMediaControls</strong>
            <pre class=body style=display:none>
BUG=302500

Review URL: https://codereview.chromium.org/25540002

git-svn-id: svn://svn.chromium.org/blink/trunk@158658 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158658&view=revision'><time datetime='2013-10-01' title='2013-10-01'>2013-10-01</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Empty @viewport should not override legacy viewport.</strong>
            <pre class=body style=display:none>
@viewport styles should not be considered present in author styles if there is
not a single descriptor present. This is not specified anywhere, though.

Marking the ViewportStyleResolver with author styles present when there were
no descriptors caused an assert to trigger (see mentioned BUG). This is fixed
by always require at least one descriptor to be present in order to set the
flag for author style presence, keeping the assert.

As part of this fix, collectViewportRules was refactored into
ViewportStyleResolver to resolve a FIXME in the StyleResolver.

BUG=299719

Review URL: https://codereview.chromium.org/25257003

git-svn-id: svn://svn.chromium.org/blink/trunk@158625 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158625&view=revision'><time datetime='2013-10-01' title='2013-10-01'>2013-10-01</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Added missing @viewport to the simple UA stylesheet.</strong>
            <pre class=body style=display:none>
@viewport UA rule also required when the simple UA styles should otherwise
suffice to style the document.

BUG=298477

Review URL: https://chromiumcodereview.appspot.com/25092003

git-svn-id: svn://svn.chromium.org/blink/trunk@158488 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158488&view=revision'><time datetime='2013-09-28' title='2013-09-28'>2013-09-28</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Paint region based columns correctly in non-default writing-modes.</strong>
            <pre class=body style=display:none>
The column translation offset was calculated incorrectly.
The dirty rect intersection check was also wrong.

Added some documentation, to make it clear what&#39;s going on.

This patch is ported from WebKit.
https://bugs.webkit.org/show_bug.cgi?id=118506
Reviewed in WebKit by David Hyatt.

BUG=269417

Review URL: https://chromiumcodereview.appspot.com/22576002

git-svn-id: svn://svn.chromium.org/blink/trunk@158433 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158433&view=revision'><time datetime='2013-09-27' title='2013-09-27'>2013-09-27</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Clip region based columns properly.</strong>
            <pre class=body style=display:none>
Need to call RenderRegion::overflowRectForFlowThreadPortion() first,
and THEN clip in the column gaps. overflowRectForFlowThreadPortion()
expands the logical left and right to the flow thread&#39;s overflow
rectangle, effectively defeating inline direction clipping completely.

This patch is ported from WebKit.
https://bugs.webkit.org/show_bug.cgi?id=118499
Reviewed in WebKit by David Hyatt.

BUG=269441

Review URL: https://chromiumcodereview.appspot.com/22577002

git-svn-id: svn://svn.chromium.org/blink/trunk@158387 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158387&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Need to take an element&#39;s scroll offset into account when painting its column rules.</strong>
            <pre class=body style=display:none>
R=
BUG=236315

Review URL: https://chromiumcodereview.appspot.com/14238038

git-svn-id: svn://svn.chromium.org/blink/trunk@158386 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158386&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Fix renderer assert after autofill</strong>
            <pre class=body style=display:none>
PasswordAutofillAgent may modify value of newFocusedNode in BlurEvent
dispatched above, while newFocusedNode-&gt;isFocusable() expects that
newFocusedNode-&gt;needsLayout() not to be true, updateLayout() here in
case that happens.

BUG=251163

Review URL: https://chromiumcodereview.appspot.com/21346002

git-svn-id: svn://svn.chromium.org/blink/trunk@158348 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158348&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Fix unhandled showGuessPanel editor command</strong>
            <pre class=body style=display:none>
The main menu sends a -showGuessPanel: to first responder when
Edit -&gt; Spelling and Grammar -&gt; Show Spelling and Grammar is called.

showGuessPanel was supposed to be handled by RenderWidgetHostViewMacDelegate,
it should be forwarded to the delegate from RenderWidgetHostViewMac by
-forwardingTargetForSelector:. However, since we dynamically added
implementations for all editing commands, including showGuessPanel, to
RenderWidgetHostViewMac via RenderWidgetHostViewMacEditCommandHelper,
RenderWidgetHostViewMacDelegate didn&#39;t get to handle this command at all,
it&#39;s directly sent to WebFrameImpl::executeCommand(name, &#34;&#34;).

Add missing handling there (previously only WebFrameImpl::executeCommand()
with command name but not value is handled) so that showGuessPanel is
correctly handled.

BUG=257627

Review URL: https://chromiumcodereview.appspot.com/18553006

git-svn-id: svn://svn.chromium.org/blink/trunk@158346 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158346&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Sync Android &lt;video controls&gt; with the default controls</strong>
            <pre class=body style=display:none>
Add back the rounded border and the bottom 5px padding.

BUGS=251244

Review URL: https://chromiumcodereview.appspot.com/17382003

git-svn-id: svn://svn.chromium.org/blink/trunk@158344 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158344&view=revision'><time datetime='2013-09-26' title='2013-09-26'>2013-09-26</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>Relax Content-Type parameter parsing</strong>
            <pre class=body style=display:none>
Unfortunately Opera 12 (this could possibly be found in files generated by
other products as well, or by hand) and below does not write out its
Content-Type parameters according to the standard (start parameter contains
tspecials without being an unquoted-string) in some MHTML files. This patch
relaxes the parsing of Content-Type parameters to allow this.

R=tony@chromium.org
BUG=274407

Review URL: https://chromiumcodereview.appspot.com/23043002

git-svn-id: svn://svn.chromium.org/blink/trunk@158314 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158314&view=revision'><time datetime='2013-09-25' title='2013-09-25'>2013-09-25</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>addMarker() optimizations.</strong>
            <pre class=body style=display:none>
Essentially, DocumentMarkerController maintained a list
(WTF::Vector) of markers. And linearly traversed that list
to coalesce markers. If the marker count is large, that&#39;s
not optimal.
To improve things the list has been split into couple by the
type of a marker and linear traverse has been replaced with
the binary search (std::lower_bound() &amp; std::upper_bound()).
Also traversing is not performed if not needed. After this
PerformanceTests/Interactive/spellcheck-paste-huge-text.html
shows 7-12% improvement.

BUG=279293

Review URL: https://chromiumcodereview.appspot.com/23728006

git-svn-id: svn://svn.chromium.org/blink/trunk@158288 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158288&view=revision'><time datetime='2013-09-25' title='2013-09-25'>2013-09-25</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>ContentEditable plaintext-only crash fix.</strong>
            <pre class=body style=display:none>
Calling createLink execCommand on a selection that includes both normal
contentEditable and plaintext-only contentEditable caused a crash when
applying style in ApplyStyleCommand::applyInlineStyleToNodeRange because the
EditingStyle::m_mutableStyle is null.

I do not have a well enough understanding of what is going on here to be sure
this is the correct fix, but trying to move the check for style()-&gt;style
further up caused various LayoutTests to fail.

BUG=270031

Review URL: https://chromiumcodereview.appspot.com/23600068

git-svn-id: svn://svn.chromium.org/blink/trunk@158248 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158248&view=revision'><time datetime='2013-09-24' title='2013-09-24'>2013-09-24</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Add support for the object-position CSS property.</strong>
            <pre class=body style=display:none>
This is hidden behind an &#34;experimental&#34; runtime flag named
&#34;ObjectFitPosition&#34;, together with object-fit.

This is an implementation of object-position as described in
http://www.w3.org/TR/2012/CR-css3-images-20120417/#object-position

Object-position is used to offset replaced content within its content
box. Painting is always clipped against the content box, regardless of
the &#34;overflow&#34; property. This property is useful together with
object-fit (to achieve a difference between content box size and
replaced content size, so that specifying alignment is interesting),
but can also be used on its own.

BUG=236333

Review URL: https://chromiumcodereview.appspot.com/24077007

git-svn-id: svn://svn.chromium.org/blink/trunk@158155 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158155&view=revision'><time datetime='2013-09-21' title='2013-09-21'>2013-09-21</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Cap allocation for ImmutableStylePropertySet.</strong>
            <pre class=body style=display:none>
The m_arraySize will be capped to MaxArraySize, so it is unnecessary to
allocate room for more than MaxArraySize properties.

Leftover from https://codereview.chromium.org/22917005/

BUG=None

Review URL: https://chromiumcodereview.appspot.com/23708049

git-svn-id: svn://svn.chromium.org/blink/trunk@158093 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158093&view=revision'><time datetime='2013-09-20' title='2013-09-20'>2013-09-20</time></a>
      
        <tr>
          <td>christiank
          <td class=message><strong>Default to binary encoding when loading MHTML files.</strong>
            <pre class=body style=display:none>
Assume binary encoding on MHTML files that doesn&#39;t have an encoding
specified.

BUG=

Review URL: https://chromiumcodereview.appspot.com/23464015

git-svn-id: svn://svn.chromium.org/blink/trunk@158022 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=158022&view=revision'><time datetime='2013-09-19' title='2013-09-19'>2013-09-19</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>:-webkit-any pseudo with escaped &#39;(&#39; should not crash.</strong>
            <pre class=body style=display:none>
Pseudo classes or elements which had an escaped &#39;(&#39; character were
recognized as functions after it had been unescaped. That caused for
instance &#34;:-webkit-any\(&#34; to be correctly tokenized as &#39;:&#39; IDENT, but
incorrectly recognized as the -webkit-any _function_. Since mandatory
arguments were not present in the internal representation, the code crashed.

Fixed by making sure IDENTs are recognized as invalid pseudo classes, before
any token matching is done, if the unescaped IDENT ends with a &#39;(&#39;.

Also, removed workaround code for a similar crasher for :not() now that the
parsing issue is fixed for :not() as well.

BUG=294023

Review URL: https://chromiumcodereview.appspot.com/23710067

git-svn-id: svn://svn.chromium.org/blink/trunk@157980 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157980&view=revision'><time datetime='2013-09-18' title='2013-09-18'>2013-09-18</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Use correct pseudo type for page selector specificity.</strong>
            <pre class=body style=display:none>
Page selector specificity did not work because the specificity calculations
in CSSSelector::specificityForPage() checked for PseudoClass instead of
PagePseudoClass.

BUG=294190

Review URL: https://chromiumcodereview.appspot.com/23597051

git-svn-id: svn://svn.chromium.org/blink/trunk@157973 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157973&view=revision'><time datetime='2013-09-18' title='2013-09-18'>2013-09-18</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>New parser mode for CSSOM @viewport descriptors.</strong>
            <pre class=body style=display:none>
CSSOM value and descriptor parsing for @viewport used parsing rules for normal
CSS property declarations instead, meaning width and height were not parsed as
shorthands.

This is an issue for other CSSOM access to other descriptors too, like for
@font-face.

This fix is minimal for the @viewport case and intended for feedback on the
general approach. I considered not adding new parser modes, but use a bit in
StylePropertySet to indicate a CSSParserMode or a descriptor mode and let two
bits store the mode. With both the current changes and the split, a descriptor
mode would implicitly be strict.

BUG=272718

Review URL: https://chromiumcodereview.appspot.com/22917005

git-svn-id: svn://svn.chromium.org/blink/trunk@157955 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157955&view=revision'><time datetime='2013-09-18' title='2013-09-18'>2013-09-18</time></a>
      
        <tr>
          <td>mathiash
          <td class=message><strong>Expand tap highlight to allow multiple highlights for touch disambiguation.</strong>
            <pre class=body style=display:none>
Tap gestures may hit multiple targets, causing a disambiguation window to popup on Android. In addition to this, we would like all of the candidate targets highlighted rather than just the target which was scored highest.

This change allows multiple nodes to be highlighted simultaneously. The touch disambiguation is also tapped into to select nodes for highlighting.

BUG=286244

Review URL: https://chromiumcodereview.appspot.com/15663005

git-svn-id: svn://svn.chromium.org/blink/trunk@157947 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157947&view=revision'><time datetime='2013-09-18' title='2013-09-18'>2013-09-18</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Drop CSS cursor quirk for missing fallback cursor.</strong>
            <pre class=body style=display:none>
IE used to allow URI cursors without a specified pre-defined cursor value
fallback. This CL removes the support for that quirk because IE allegedly
dropped this quirk in IE9, even in the compat modes (see issue 286668).

Made the existing parsing tests run in strict mode and moved test cases for
quirks mode to a new file.

The &#39;hand&#39; -&gt; &#39;pointer&#39; quirk was not touched.

R=tabatkins@google.com
BUG=286668

Review URL: https://chromiumcodereview.appspot.com/23816008

git-svn-id: svn://svn.chromium.org/blink/trunk@157918 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157918&view=revision'><time datetime='2013-09-17' title='2013-09-17'>2013-09-17</time></a>
      
        <tr>
          <td>rchlodnicki
          <td class=message><strong>Fix linking problem on Windows with LEGACY_NOTIFICATIONS support disabled</strong>
            <pre class=body style=display:none>
V8NotificationCenter bindings (generated from NotificationCenter.idl) are
required to link this code. Those are conditional on LEGACY_NOTIFICATIONS
though so same condition must be applied to this code.

BUG=

Review URL: https://chromiumcodereview.appspot.com/23583043

git-svn-id: svn://svn.chromium.org/blink/trunk@157776 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157776&view=revision'><time datetime='2013-09-13' title='2013-09-13'>2013-09-13</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Chunk up the text to spell check also when the text is pasted.</strong>
            <pre class=body style=display:none>
BUG=278119

Review URL: https://chromiumcodereview.appspot.com/22859062

git-svn-id: svn://svn.chromium.org/blink/trunk@157747 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157747&view=revision'><time datetime='2013-09-13' title='2013-09-13'>2013-09-13</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Add support for the object-position CSS property.</strong>
            <pre class=body style=display:none>
This is hidden behind an &#34;experimental&#34; runtime flag named
&#34;ObjectFitPosition&#34;, together with object-fit.

This is an implementation of object-position as described in
http://www.w3.org/TR/2012/CR-css3-images-20120417/#object-position

Object-position is used to offset replaced content within its content
box. Painting is always clipped against the content box, regardless of
the &#34;overflow&#34; property. This property is useful together with
object-fit (to achieve a difference between content box size and
replaced content size, so that specifying alignment is interesting),
but can also be used on its own.

BUG=236333

Review URL: https://chromiumcodereview.appspot.com/22839023

git-svn-id: svn://svn.chromium.org/blink/trunk@157745 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157745&view=revision'><time datetime='2013-09-13' title='2013-09-13'>2013-09-13</time></a>
      
        <tr>
          <td>rchl
          <td class=message><strong>Allow tabbing to anchors with explicit tabIndex even when tabsToLinks is disabled</strong>
            <pre class=body style=display:none>
With tabsToLinks setting enabled, browser focuses all links on pressing tab.
With it disabled, it does not focus any. This patch changes behavior when the
option is disabled so that links with explicit tabIndex are focusable. When
author has specified tabIndex, he most likely wants the element to be keyboard
accessible.

This option is by default enabled but only Mac exposes it in the settings so
it only affects Mac users who have changed default settings.

BUG=240678

Review URL: https://chromiumcodereview.appspot.com/15238002

git-svn-id: svn://svn.chromium.org/blink/trunk@157684 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157684&view=revision'><time datetime='2013-09-12' title='2013-09-12'>2013-09-12</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>Add font support to PageSerializer</strong>
            <pre class=body style=display:none>
Previously the PageSerializer (used to serialize pages before saving them
as e.g. MHTML files) didn&#39;t have support for web fonts.

R=abarth@chromium.org
BUG=275518

Review URL: https://chromiumcodereview.appspot.com/23202008

git-svn-id: svn://svn.chromium.org/blink/trunk@157670 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157670&view=revision'><time datetime='2013-09-12' title='2013-09-12'>2013-09-12</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Use css-device-adapt constraining for legacy viewport tags.</strong>
            <pre class=body style=display:none>
This CL is trying to take the part of Kenneth&#39;s CL [1] that is about using
the constraining procedure from the CSS Device Adaptation spec for legacy
meta tags, as well as for @viewport descriptors, to better match the
specification. Descriptors translated from meta tags are not cascaded with
@viewport rules but are only applied if @viewport from author style is not
present. See thread [2] on www-style.

ViewportArguments::resolve had different modes for resolving viewport
descriptors depending on the source. This CL translates legacy meta viewport
tags into descriptor values as specified by the css-device-adapt spec, but
they are not cascaded together as currently spec&#39;ed. The prioritization is
still the same, overwriting descriptors from lower priority sources.

XHTML MP viewport is implemented through UA styles using @viewport.

[1] https://codereview.chromium.org/19555002/
[2] http://lists.w3.org/Archives/Public/www-style/2012May/0371.html

Review URL: https://chromiumcodereview.appspot.com/23742003

git-svn-id: svn://svn.chromium.org/blink/trunk@157293 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157293&view=revision'><time datetime='2013-09-05' title='2013-09-05'>2013-09-05</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Recompute percentage based @viewport on resize.</strong>
            <pre class=body style=display:none>
Percentage values were resolved to px lengths at cascade time for @viewport
widths and heights. This change keeps them as percentage values and recompute
the actual viewport from the initial viewport and the percentage value when
the intial viewport changes (window resize). Likewise for viewport relative
units (vw, vh, vmin, vmax).

This fixes constrain-006 and constrain-007 in the w3c testsuite.

This CL also disallows &#39;initial&#39; and &#39;inherit&#39; as descriptor values and returns &#39;auto&#39; for unknown non-primitive values to avoid crashers and improve on the original CL for the same bug: https://codereview.chromium.org/22549002/

BUG=269132

Review URL: https://chromiumcodereview.appspot.com/23604037

git-svn-id: svn://svn.chromium.org/blink/trunk@157225 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157225&view=revision'><time datetime='2013-09-04' title='2013-09-04'>2013-09-04</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>Make the mousemove event cancellable</strong>
            <pre class=body style=display:none>
The mouse move event used to be non cancellable in the 90s and
when the specications changes in 2002-2003, not not everyone noticed. 

Specification:
http://www.w3.org/TR/DOM-Level-3-Events/#event-type-mousemove

Already implemented by MSIE and Opera (Presto). 
Still an open (and forgotten?) bug in Mozilla: https://bugzilla.mozilla.org/show_bug.cgi?id=704423

BUG=261449

Review URL: https://chromiumcodereview.appspot.com/23463012

git-svn-id: svn://svn.chromium.org/blink/trunk@157207 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157207&view=revision'><time datetime='2013-09-04' title='2013-09-04'>2013-09-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Use constrained values for shouldDisableDesktopWorkarounds.</strong>
            <pre class=body style=display:none>
shouldDisableDesktopWorkarounds() used parsed ViewportArguments instead of the
constrained values, which meant auto and percentage sized @viewport would not
be considered as documents adapted to small screens.

This fix uses the constrained values from PageScaleConstraints instead.

A test for using auto-sizing of @viewport was added.

BUG=280759

Review URL: https://chromiumcodereview.appspot.com/23592015

git-svn-id: svn://svn.chromium.org/blink/trunk@157173 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157173&view=revision'><time datetime='2013-09-04' title='2013-09-04'>2013-09-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Recompute percentage based @viewport on resize.</strong>
            <pre class=body style=display:none>
Percentage values were resolved to px lengths at cascade time for @viewport
widths and heights. This change keeps them as percentage values and recomputes
the actual viewport from the initial viewport and the percentage value when
the intial viewport changes (window resize). Likewise for viewport relative
units (vw, vh, vmin, vmax).

This fixes constrain-006 and constrain-007 in the w3c testsuite.

BUG=269132

Review URL: https://chromiumcodereview.appspot.com/22549002

git-svn-id: svn://svn.chromium.org/blink/trunk@157091 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157091&view=revision'><time datetime='2013-09-02' title='2013-09-02'>2013-09-02</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Follow-up changes for bug 257965 (writing-mode on first region).</strong>
            <pre class=body style=display:none>
Some additional issues were raised and handled during code-review
on the WebKit side:

Add tests where the first region element is invalid and sets
writing-mode. It&#39;s invalid because it&#39;s inside the same flow
thread that it tries to flow from.

Coding-style adjustments.

Call RefPtr::release().

https://bugs.webkit.org/show_bug.cgi?id=119795

BUG=257965

Review URL: https://chromiumcodereview.appspot.com/23064019

git-svn-id: svn://svn.chromium.org/blink/trunk@157034 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157034&view=revision'><time datetime='2013-08-31' title='2013-08-31'>2013-08-31</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Improve multicol preferred/intrinsic width calculation.</strong>
            <pre class=body style=display:none>
Using http://dev.w3.org/csswg/css-sizing/#multicol-intrinsic as
guidance, but implementing that spec 100% is hard, and probably
unnecessary, since it&#39;s not finished.

While we wait for a perfect intrinsic width calculation spec, all we
have is CSS 2.1 (&#34;shrink to fit&#34;) and common sense:

The idea with preferred/intrinsic minimum width is to allow content to
become as narrow as possible without causing overflow (unless it would
have caused it no matter what width).

The idea with preferred/intrinsic maximum width is to find the
narrowest width larger than or equal to minimum width where no
avoidable automatic/soft wrapping occurs.

We were nowhere close to this behavior for multicol. Now we should be.

Note about the LayoutTests/css3/unicode-bidi-isolate-basic.html
change: The expectation seems to be that the columns should be as many
as necessary and narrow as possible, and that the multicol container&#39;s
width should be that of one column. The previous CSS didn&#39;t really ask
for this, although that&#39;s how it happened to be rendered without this
fix. Added declarations to make sure this is still happening.

Also turn
LayoutTests/fast/multicol/positioned-with-constrained-height.html into
a reftest, rather than requiring a rebaseline, now that rendering has
changed.

This fix is ported from https://bugs.webkit.org/show_bug.cgi?id=116677
Reviewed in WebKit by David Hyatt.

BUG=281451

Review URL: https://chromiumcodereview.appspot.com/23763002

git-svn-id: svn://svn.chromium.org/blink/trunk@157020 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=157020&view=revision'><time datetime='2013-08-30' title='2013-08-30'>2013-08-30</time></a>
      
        <tr>
          <td>mathiash
          <td class=message><strong>Scale to legibleScale if double tap would barely zoom in from zoomed out state.</strong>
            <pre class=body style=display:none>
The motivation for this is for double tap to zoom in when viewing an image, (no html) which we believe to be more user friendly than just silently doing nothing.
It could potentially be a slight change in behaviour in other cases as well (text spanning all the way from left edge to right edge) though we haven&#39;t noticed any problems like this in practice.

BUG=280133

Review URL: https://chromiumcodereview.appspot.com/23461009

git-svn-id: svn://svn.chromium.org/blink/trunk@156966 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156966&view=revision'><time datetime='2013-08-30' title='2013-08-30'>2013-08-30</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Added viewport tests for missing/empty content attribute.</strong>
            <pre class=body style=display:none>
For &lt;meta name=&#34;viewport&#34; ... &gt;:

- content=&#34;&#34; overrides previous meta viewport using the 980px fallback width.
- content without a value is a no-op.
- missing content attribute is a no-op.

Added tests to detect future regressions.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/23495008

git-svn-id: svn://svn.chromium.org/blink/trunk@156857 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156857&view=revision'><time datetime='2013-08-28' title='2013-08-28'>2013-08-28</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Reset viewport to implicit when @viewport is removed.</strong>
            <pre class=body style=display:none>
When m_propertySet was null after cascading @viewport rules (no rules added),
ViewportStyleResolver::resolve would be a no-op so that removing the last
@viewport rule through CSSOM would not have an effect. This is fixed by
re-setting to Implicit when removing the last @viewport rule.

Removed a stray ViewportStyleResolver::resolve call in viewportAsText that was
a no-op before the rest of this change, but resulted in always resetting the
viewport arguments with this fix.

BUG=276812

Review URL: https://chromiumcodereview.appspot.com/23185008

git-svn-id: svn://svn.chromium.org/blink/trunk@156855 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156855&view=revision'><time datetime='2013-08-28' title='2013-08-28'>2013-08-28</time></a>
      
        <tr>
          <td>kolczyk
          <td class=message><strong>Fix for crash occuring when spatial navigation is enabled</strong>
            <pre class=body style=display:none>and user tries to navigate from the element containing shadow DOM
such as &lt;input type=&#34;date&#34;&gt;.

BUG=234034

Review URL: https://chromiumcodereview.appspot.com/22847002

git-svn-id: svn://svn.chromium.org/blink/trunk@156839 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156839&view=revision'><time datetime='2013-08-28' title='2013-08-28'>2013-08-28</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>Add doctype declarations when using PageSerializer</strong>
            <pre class=body style=display:none>
Serialized pages were missing their doctypes. This can cause some pages to
rendered incorrectly.

R=abarth@chromium.org
BUG=

Review URL: https://chromiumcodereview.appspot.com/22926011

git-svn-id: svn://svn.chromium.org/blink/trunk@156781 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156781&view=revision'><time datetime='2013-08-27' title='2013-08-27'>2013-08-27</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Fix editing/spelling/spellcheck-editable-on-focus.html&#39;s flakiness</strong>
            <pre class=body style=display:none>
Due to asynchronous spell checker being on for the test
misspelling marks may appear after some time. The test checks
misspellings in different elements this is why it has to wait
until markers appear in *all* of them before checking
the pass conditions. However the test was not waiting
if markers appeared in at least one element.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/23389005

git-svn-id: svn://svn.chromium.org/blink/trunk@156650 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156650&view=revision'><time datetime='2013-08-23' title='2013-08-23'>2013-08-23</time></a>
      
        <tr>
          <td>bratell
          <td class=message><strong>Block &#34;]]&gt;&#34; in createCDataSection</strong>
            <pre class=body style=display:none>
It&#39;s not possible to serialize a CData section with ]]&gt; in it
so disallow that already in xmldoc.createCDataSection.

This is compatible with MSIE and Gecko.

BUG=268762

Review URL: https://chromiumcodereview.appspot.com/22911020

git-svn-id: svn://svn.chromium.org/blink/trunk@156640 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156640&view=revision'><time datetime='2013-08-23' title='2013-08-23'>2013-08-23</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Spell check whole content of an editable element when it gets focused.</strong>
            <pre class=body style=display:none>
This is how Gecko and Presto behave. Without this patch Blink spell checks
an editable after moving the caret/unfocusing the editable but the check spans
only the line the caret was previously at (possibly plus 1-2 lines around).
Textareas and contenteditables are only spell checked on
first focus.

BUG=264730

Review URL: https://chromiumcodereview.appspot.com/21694005

git-svn-id: svn://svn.chromium.org/blink/trunk@156583 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156583&view=revision'><time datetime='2013-08-22' title='2013-08-22'>2013-08-22</time></a>
      
        <tr>
          <td>shuais
          <td class=message><strong>Prevent overflow of width/height of layout overflow rectangle which can cause scroll bar to misfunction.</strong>
            <pre class=body style=display:none>
When a child element is positioned very far away the width/height of layout overflow rectangle may overflow. The patch detects such cases in RenderOverflow::addLayoutOverflow and shift the top/left edges of the rectangle to avoid overflow. 

BUG=267462

Review URL: https://chromiumcodereview.appspot.com/22799017

git-svn-id: svn://svn.chromium.org/blink/trunk@156567 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156567&view=revision'><time datetime='2013-08-22' title='2013-08-22'>2013-08-22</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Trigger spell check/remove markers if spell checker gets enabled/disabled.</strong>
            <pre class=body style=display:none>
With this change when spell checker is turned off the misspelling markers
disappear from the document (which is what a user expects and this currently
works in chromium because UI code takes care of that - with this change it may
stop). OTOH if spell checker is turned on again one would expect misspellings
will appear right away - in the currently focused editable at least. This is how
Gecko and Presto behave and this is what this patch does. Note it&#39;s not only
about restoring old markers because content might have changed or language might
have been switched. This is why new check is requested. This change may also
come in handy if spell checking language is changed. It would require restarting
spell checker on UI side on language change, though.

Since there might be an awful lot of text in the focused editable when spell
checker gets enabled, spell checking is chunked up. If asynchronous spell
checker is enabled whole text is checked. Otherwise only one chunk is checked
(the default chunk&#39;s size is set to 16KB but it might also be slightly bigger
since all chunks are aligned to the sentence boundary).

BUG=264737

This is the second attempt as this patch was integrated but
reverted due to performance regression found by
DOM/textarea-edit.html (issue 274569). This patch optimizes
single chunk case to try to avoid the regression.

Review URL: https://chromiumcodereview.appspot.com/23332004

git-svn-id: svn://svn.chromium.org/blink/trunk@156378 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156378&view=revision'><time datetime='2013-08-20' title='2013-08-20'>2013-08-20</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Make configurationForViewport match production code</strong>
            <pre class=body style=display:none>
While the production code has used initial viewport width and height for
device-width and device-height, the configurationForViewport API in test builds
still used separate values for the device size. This CL removes the redundant
deviceSize in the production code and removes the device parameters from
configurationForViewport so that the tests give the same results as the
production code would do.

BUG=273649

Review URL: https://chromiumcodereview.appspot.com/23101004

git-svn-id: svn://svn.chromium.org/blink/trunk@156302 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156302&view=revision'><time datetime='2013-08-19' title='2013-08-19'>2013-08-19</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>setViewportEnabled on InternalSettings</strong>
            <pre class=body style=display:none>
Added possibility to --enable-viewport from internals.settings in LayoutTests.
Currently viewport can only be tested through configurationForViewport which
makes it impossible to test certain codepaths and more complicated cases. This
CL is a pre-condition for a test in another CL I am preparing.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/22747002

git-svn-id: svn://svn.chromium.org/blink/trunk@156301 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156301&view=revision'><time datetime='2013-08-19' title='2013-08-19'>2013-08-19</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Trigger spell check/remove markers if spell checker gets enabled/disabled.</strong>
            <pre class=body style=display:none>
With this change when spell checker is turned off the misspelling markers
disappear from the document (which is what a user expects and this currently
works in chromium because UI code takes care of that - with this change it may
stop). OTOH if spell checker is turned on again one would expect misspellings
will appear right away - in the currently focused editable at least. This is how
Gecko and Presto behave and this is what this patch does. Note it&#39;s not only
about restoring old markers because content might have changed or language might
have been switched. This is why new check is requested. This change may also
come in handy if spell checking language is changed. It would require restarting
spell checker on UI side on language change, though.

Since there might be an awful lot of text in the focused editable when spell
checker gets enabled, spell checking is chunked up. If asynchronous spell
checker is enabled whole text is checked. Otherwise only one chunk is checked
(the default chunk&#39;s size is set to 16KB but it might also be slightly bigger
since all chunks are aligned to the sentence boundary).

BUG=264737

Review URL: https://chromiumcodereview.appspot.com/21130005

git-svn-id: svn://svn.chromium.org/blink/trunk@156183 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156183&view=revision'><time datetime='2013-08-16' title='2013-08-16'>2013-08-16</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Let page zoom affect resolution and -webkit-device-pixel-ratio MQs.</strong>
            <pre class=body style=display:none>
In order to make them consistent with the recent change for
window.devicePixelRatio (r156040).

BUG=177836

Review URL: https://chromiumcodereview.appspot.com/23192002

git-svn-id: svn://svn.chromium.org/blink/trunk@156113 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=156113&view=revision'><time datetime='2013-08-14' title='2013-08-14'>2013-08-14</time></a>
      
        <tr>
          <td>kolczyk
          <td class=message><strong>(spatnav) Space&amp;enter should be entered to box instead of simulating click on it.</strong>
            <pre class=body style=display:none>
This fixes the regression after https://codereview.chromium.org/16959002/
which makes it impossible to enter spaces into edit boxes
in spatial navigation mode.

Bug is reproducible only with spatial navigation enabled.
So is this fix.

BUG=

Review URL: https://chromiumcodereview.appspot.com/20560005

git-svn-id: svn://svn.chromium.org/blink/trunk@155993 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155993&view=revision'><time datetime='2013-08-13' title='2013-08-13'>2013-08-13</time></a>
      
        <tr>
          <td>mathiash
          <td class=message><strong>Make sure proper double tap scale gets recorded for next double tap.</strong>
            <pre class=body style=display:none>
BUG=260644

Review URL: https://chromiumcodereview.appspot.com/22706009

git-svn-id: svn://svn.chromium.org/blink/trunk@155929 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155929&view=revision'><time datetime='2013-08-12' title='2013-08-12'>2013-08-12</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Propagate writing-mode from the first region to the flow thread.</strong>
            <pre class=body style=display:none>
Since the flow thread is a direct child of RenderView, it doesn&#39;t inherit
proper writing-mode automatically. It should be mentioned that if the thread&#39;s
contents&#39; writing-mode differs from that of the first region, things are
typically going to look useless (although perhaps that&#39;s how it should be),
but as long as writing-mode is only specified on a common parent of the
thread&#39;s contents and the regions, things look fine, and also, we&#39;re now
following what the spec has to say on the matter:

http://www.w3.org/TR/2013/WD-css3-regions-20130528/#the-flow-into-property

    &#34;The first region defines the principal writing mode for the entire flow.
     The writing mode on subsequent regions is ignored.&#34;

BUG=257965

Review URL: https://chromiumcodereview.appspot.com/18374008

git-svn-id: svn://svn.chromium.org/blink/trunk@155779 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155779&view=revision'><time datetime='2013-08-08' title='2013-08-08'>2013-08-08</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Make sure the last selection gets spell checked when focusing different frame.</strong>
            <pre class=body style=display:none>
BUG= 264742

Review URL: https://chromiumcodereview.appspot.com/21235009

git-svn-id: svn://svn.chromium.org/blink/trunk@155725 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155725&view=revision'><time datetime='2013-08-08' title='2013-08-08'>2013-08-08</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[CSSMQ] Use initial values as base for relative units.</strong>
            <pre class=body style=display:none>
Don&#39;t use computed style for root element as base for relative lengths. The
media queries spec says:

&#34;Relative units in media queries are based on the initial value, which means
that units are never based on results of declarations.&#34;

BUG=269322

Review URL: https://chromiumcodereview.appspot.com/22258007

git-svn-id: svn://svn.chromium.org/blink/trunk@155692 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155692&view=revision'><time datetime='2013-08-07' title='2013-08-07'>2013-08-07</time></a>
      
        <tr>
          <td>tiger
          <td class=message><strong>Serialize &lt;input type=&#34;image&#34;&gt; images</strong>
            <pre class=body style=display:none>
Add support for serializing images specified in an input tag with
type image. This images is extracted in the PageSerializer and added
as a SerializedResource.

R=
BUG=248867

Review URL: https://chromiumcodereview.appspot.com/16520007

git-svn-id: svn://svn.chromium.org/blink/trunk@155598 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155598&view=revision'><time datetime='2013-08-06' title='2013-08-06'>2013-08-06</time></a>
      
        <tr>
          <td>pstanek
          <td class=message><strong>Add/remove spell checking markers in text inputs depending on focus.</strong>
            <pre class=body style=display:none>
Inputs are spell checked by default. However since it&#39;s very
likely user names, cities, addresses and other stuff that
possibly isn&#39;t in the dictionary will be put into them when
unfocused misspelling markers are removed from them (so
they are not all red all the time). However they are
added again on input re-focusing.

BUG=168029

Review URL: https://chromiumcodereview.appspot.com/21024004

git-svn-id: svn://svn.chromium.org/blink/trunk@155420 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155420&view=revision'><time datetime='2013-08-02' title='2013-08-02'>2013-08-02</time></a>
      
        <tr>
          <td>mathiash
          <td class=message><strong>Mainly changes the behaviour of WebViewImpl::animateZoomAroundPoint to take a rect instead and handling an additional zoom type to zoom in on the specified rect and returning false if it doesn&#39;t zoom. (if it would be a zoom-out)</strong>
            <pre class=body style=display:none>
Related review: https://codereview.chromium.org/19256012/

BUG=260644

Review URL: https://chromiumcodereview.appspot.com/19281007

git-svn-id: svn://svn.chromium.org/blink/trunk@155243 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155243&view=revision'><time datetime='2013-07-31' title='2013-07-31'>2013-07-31</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Parse &#34;-webkit-columns: auto &lt;length&gt;&#34; properly.</strong>
            <pre class=body style=display:none>
The two longhands for the &#39;columns&#39; property (&#39;column-count&#39; and
&#39;column-width&#39;) may both take &#39;auto&#39; as a value. When we encounter
&#39;auto&#39; during parsing the value list of a declaration, we cannot just
make a guess at which property/properties that&#39;s meant for. Instead,
don&#39;t assign anything to &#39;auto&#39; right away, but wait until all values
have been processed and at that point set the still unassigned
properties to &#39;auto&#39;. If &#39;auto&#39; isn&#39;t in the value list at all, set
unassigned properties to &#39;initial&#39; for the &#39;columns&#39; property, just
like we do for any other property.

R=
BUG=235415

Review URL: https://chromiumcodereview.appspot.com/14334014

git-svn-id: svn://svn.chromium.org/blink/trunk@155047 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=155047&view=revision'><time datetime='2013-07-27' title='2013-07-27'>2013-07-27</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Don&#39;t assume so easily that RenderStyle data can be shared.</strong>
            <pre class=body style=display:none>
An element can only share RenderStyle data with another element if
BOTH are cacheable. The element that&#39;s already in the cache is
obviously cacheable, but we also need to figure out whether the
element that wants to use data from the cache is cachable.

Additionally, get rid of the Element* argument from
applyMatchedProperties(), since it&#39;s already part of the state object
passed to that method.

BUG=236329

Review URL: https://chromiumcodereview.appspot.com/20560008

git-svn-id: svn://svn.chromium.org/blink/trunk@154999 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154999&view=revision'><time datetime='2013-07-26' title='2013-07-26'>2013-07-26</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Remove test fast/multicol/newmulticol/columns-shorthand-parsing.html</strong>
            <pre class=body style=display:none>
This test isn&#39;t very valuable, since there are plenty of balancing tests
already. This test attempted to compare rendering between the old and the
new multicol implementations, and for some reason it fails on Mac, albeit
not visibly to the naked eye.

BUG=254219

Review URL: https://chromiumcodereview.appspot.com/20228003

git-svn-id: svn://svn.chromium.org/blink/trunk@154961 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154961&view=revision'><time datetime='2013-07-26' title='2013-07-26'>2013-07-26</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Correct overflow propagation in BTT and RTL writing-modes</strong>
            <pre class=body style=display:none>
Overflow rectangles are not quite physical, not quite logical. This
means that we cannot use clientBoxRect() directly to represent a
rectangle that expresses exactly no overflow. This rectangle is the
padding box (relative to the border box) in vertical-lr and
horizontal-tb, but the block-direction borders need to be flipped in
vertical-rl and horizontal-bt.

fast/multicol/vertical-rl/rules-with-border-before.html now needs a
rebaseline, because it now renders differently, but correctly.

R=
BUG=236326

Review URL: https://chromiumcodereview.appspot.com/18720003

git-svn-id: svn://svn.chromium.org/blink/trunk@154945 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154945&view=revision'><time datetime='2013-07-25' title='2013-07-25'>2013-07-25</time></a>
      
        <tr>
          <td>jiangj
          <td class=message><strong>Use high resolution markers when device scale factor &gt; 1.5f</strong>
            <pre class=body style=display:none>
It&#39;s an upstream regression introduced in Blink r151453 when non-compositing
code path was removed but the setHighResMarkers() was left out.

BUG=261123

Review URL: https://chromiumcodereview.appspot.com/19579003

git-svn-id: svn://svn.chromium.org/blink/trunk@154533 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154533&view=revision'><time datetime='2013-07-18' title='2013-07-18'>2013-07-18</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[css-device-adapt] Implemented spec changes.</strong>
            <pre class=body style=display:none>
Modified implementation to match spec changes:

- Allow zero lengths for initial and actual viewport sizes.
- auto width and height lengths depending on aspect-ratio, never on zoom.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/16826008

git-svn-id: svn://svn.chromium.org/blink/trunk@154237 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154237&view=revision'><time datetime='2013-07-15' title='2013-07-15'>2013-07-15</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Currently, mediaControls.css is the base CSS, while</strong>
            <pre class=body style=display:none>mediaControlsChromium(Android).css are applied as extra style via
RenderTheme::extraMediaControlsStyleSheet().

Merge mediaControlsChromium.css into mediaControls.css and simplify.

With the new base CSS, mediaControlsChromiumAndroid.css can be
simplified a great deal, improving readability and maintainability.

BUG=255491

Review URL: https://chromiumcodereview.appspot.com/18181010

git-svn-id: svn://svn.chromium.org/blink/trunk@154102 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=154102&view=revision'><time datetime='2013-07-12' title='2013-07-12'>2013-07-12</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>@viewport lengths relative to initial font.</strong>
            <pre class=body style=display:none>
em/rem/ex Were incorrectly computed relative to the documentElement font.

BUG=257070

Review URL: https://chromiumcodereview.appspot.com/18023018

git-svn-id: svn://svn.chromium.org/blink/trunk@153784 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153784&view=revision'><time datetime='2013-07-09' title='2013-07-09'>2013-07-09</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Hovered/active/focused will never share style with siblings/cousins.</strong>
            <pre class=body style=display:none>
For any given hovered/active node at a given time, other hovered/active nodes
are either ancestors or descendants of that node. Since style sharing is
looking at siblings and cousins, hovered/active nodes will never share style.

Similarly, there&#39;s always a single focused element in a document, hence it
will never share style with another node.

BUG=255189

Review URL: https://chromiumcodereview.appspot.com/18764003

git-svn-id: svn://svn.chromium.org/blink/trunk@153773 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153773&view=revision'><time datetime='2013-07-09' title='2013-07-09'>2013-07-09</time></a>
      
        <tr>
          <td>philipj
          <td class=message><strong>Add viewport settings for MediaDocument</strong>
            <pre class=body style=display:none>
MediaDocument is used when navigating directly to an audio or video resource.
Use viewport width=device-width so that one doesn&#39;t need to zoom in order to
use the video controls.

Add viewport settings for ImageDocument

On (mobile) platforms which have a viewport (e.g. Android) it is currently
necessary to zoom in to see the image at 100% resolution even if it fits on the
page. The width=device-width setting fixes this, and does not affect (desktop)
platforms that lack a viewport.

BUG=254978

Review URL: https://chromiumcodereview.appspot.com/18034007

git-svn-id: svn://svn.chromium.org/blink/trunk@153704 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153704&view=revision'><time datetime='2013-07-08' title='2013-07-08'>2013-07-08</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Hovered/active/focused nodes will never share style with siblings/cousins.</strong>
            <pre class=body style=display:none>
For any given hovered/active node at a given time, other hovered/active nodes
are either ancestors or descendants of that node. Since style sharing is
looking at siblings and cousins, hovered/active nodes will never share style.

Similarly, there&#39;s always a single focused element in a document, hence it
will never share style with another node.

This change bails out early for style sharing in those cases.

BUG=255189

Review URL: https://chromiumcodereview.appspot.com/18089009

git-svn-id: svn://svn.chromium.org/blink/trunk@153529 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153529&view=revision'><time datetime='2013-07-03' title='2013-07-03'>2013-07-03</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Include disabled stylesheets in document.styleSheets.</strong>
            <pre class=body style=display:none>
Stylesheets disabled through LinkStyle.disabled were not included in
Document.styleSheets, even if they existed as CSSStyleSheet objects.

Fixed LinkStyle::setDisabled so it propagates disabled state to the sheet
object when present.

According to the HTML5 spec, setting disabled on LinkStyle when the sheet is
not present should not have any effect and getting it should return false. I
did not dare to do any changes there in this CL.

BUG=88310

Review URL: https://chromiumcodereview.appspot.com/17827004

git-svn-id: svn://svn.chromium.org/blink/trunk@153485 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153485&view=revision'><time datetime='2013-07-03' title='2013-07-03'>2013-07-03</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Fix SVG relayout problem that occurs when only the viewport height changes.</strong>
            <pre class=body style=display:none>
If the root element is an SVG, its vertical position and height are
affected by the view height.

BUG=255561

Review URL: https://chromiumcodereview.appspot.com/18180008

git-svn-id: svn://svn.chromium.org/blink/trunk@153270 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153270&view=revision'><time datetime='2013-06-28' title='2013-06-28'>2013-06-28</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Column balancing support in the region based multicol implementation.</strong>
            <pre class=body style=display:none>
Start by setting the column height to the flow thread&#39;s height divided
by the number of columns. Then stretch the column height until
contents fits without creating overflowing columns, or until the
maximum allowed column height is reached, whichever comes first. This
may require several layout iterations (but normally only a
couple). For each time we stretch, stretch by the least amount
required to make a difference to which box goes where.

Also make sure that the columns get tall enough to honor orphans
and widows settings.

This change takes some tiny steps in preparing for multiple column
set support.

This patch is ported from WebKit.
https://bugs.webkit.org/show_bug.cgi?id=116033
Reviewed in WebKit by David Hyatt.

BUG=252675

Review URL: https://chromiumcodereview.appspot.com/16943008

git-svn-id: svn://svn.chromium.org/blink/trunk@153028 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=153028&view=revision'><time datetime='2013-06-25' title='2013-06-25'>2013-06-25</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Imported latest w3c media queries test suite.</strong>
            <pre class=body style=display:none>
Imported from:

http://hg.csswg.org/test/file/c88a96071aac/approved/css3-mediaqueries/src

The only diff to the w3c version is now the paths to testharness and the
iframe document.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/17570008

git-svn-id: svn://svn.chromium.org/blink/trunk@152998 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152998&view=revision'><time datetime='2013-06-25' title='2013-06-25'>2013-06-25</time></a>
      
        <tr>
          <td>kolczyk
          <td class=message><strong>This patch improves the user experience when using spatial navigation (enabled in https://codereview.chromium.org/13811041 and https://codereview.chromium.org/14110006 ):</strong>
            <pre class=body style=display:none>
- Dispatch onClick when pressing ENTER or SPACE on any element (not only input buttons as it was before the patch)
- Make HTMLElement focusable by spatnav if it has click or key events (before it could only navigate to links and form items). 

The changes are effective only if spatialNavigationEnabled pref is enabled.



BUG=

Review URL: https://chromiumcodereview.appspot.com/16959002

git-svn-id: svn://svn.chromium.org/blink/trunk@152930 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152930&view=revision'><time datetime='2013-06-23' title='2013-06-23'>2013-06-23</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Do not consider title from non-css stylesheet for preferred set.</strong>
            <pre class=body style=display:none>
Title on a style element can be used to select the preferred stylesheet set.
If the type attribute of the style element is not text/css, the title should
never be set as the key for the preferred stylesheet set.

BUG=252215

Review URL: https://chromiumcodereview.appspot.com/17496004

git-svn-id: svn://svn.chromium.org/blink/trunk@152797 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152797&view=revision'><time datetime='2013-06-20' title='2013-06-20'>2013-06-20</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Auto-closing at unexpected EOF for all entry points.</strong>
            <pre class=body style=display:none>
Don&#39;t wrap non-stylesheet (CSSOM rule, selectors, etc) input strings to CSS
parser in braces as that will break auto-closing of blocks, parentheses, etc
in the actual input string.

BUG=163354

Review URL: https://chromiumcodereview.appspot.com/17129003

git-svn-id: svn://svn.chromium.org/blink/trunk@152717 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152717&view=revision'><time datetime='2013-06-19' title='2013-06-19'>2013-06-19</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[css-device-adapt] insertRule tests and ASSERT for device lengths.</strong>
            <pre class=body style=display:none>
Added tests to make sure @viewport rules are cascaded correctly when rules
are inserted before or after existing rules.

ASSERTs:

device-width and device-height were removed as valid &lt;viewport-length&gt; values.
That means we should not see ValueDeviceHeight or ValueDeviceWidth while
resolving ViewportArguments::CSSDeviceAdaptation.

BUG=None

Review URL: https://chromiumcodereview.appspot.com/16962002

git-svn-id: svn://svn.chromium.org/blink/trunk@152445 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152445&view=revision'><time datetime='2013-06-14' title='2013-06-14'>2013-06-14</time></a>
      
        <tr>
          <td>mstensho
          <td class=message><strong>Add a setting for enabling region based columns.</strong>
            <pre class=body style=display:none>
The intention is to enable this if the --enable-experimental-webkit-features
command line switch is specified. That needs to be done from the top-level
chromium repo, and there&#39;ll be a separate patch for that.

BUG=242905

Review URL: https://chromiumcodereview.appspot.com/15744005

git-svn-id: svn://svn.chromium.org/blink/trunk@152304 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152304&view=revision'><time datetime='2013-06-12' title='2013-06-12'>2013-06-12</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>No need to store invalid media queries.</strong>
            <pre class=body style=display:none>
Stop creating media query expressions when a media query expression with an
invalid value is encountered. Will result in storing a &#34;not all&#34; query instead.

Had to add some braces due to new coding style enforcement for if-else.

No tests added as invalid values and no values where values are required are
covered by existing tests.

BUG=248860

Review URL: https://chromiumcodereview.appspot.com/16208004

git-svn-id: svn://svn.chromium.org/blink/trunk@152279 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152279&view=revision'><time datetime='2013-06-12' title='2013-06-12'>2013-06-12</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Parse media attributes and CSSOM media text as media_query_list.</strong>
            <pre class=body style=display:none>
This is per HTML5 and CSSOM specifications.

This change makes the remaining fails in the W3C Media Queries test suite pass.

Some resulting changes:

- Brackets/parentheses balanced correctly.
- Queries split between correct commas.
- Spaces is an empty media query list like the empty string.
- Unexpected EOF like missing parentheses makes the query valid as per CSS21
  spec.
- Syntax errors become &#34;not all&#34; as per CSSMQ spec.
- Renamed @-webkit-mediaquery to @-internal-mediaquery to be consistent with
  other internal @-rules.
- Removed MediaQueryParserMode which is now the same for all MQ parsing.

BUG=247657

Review URL: https://chromiumcodereview.appspot.com/15679021

git-svn-id: svn://svn.chromium.org/blink/trunk@152218 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152218&view=revision'><time datetime='2013-06-11' title='2013-06-11'>2013-06-11</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Error recovery for valid media query followed by garbage.</strong>
            <pre class=body style=display:none>
Remaining issue after r151842.

The &#34;error rule_error_recovery&#34; production would not trigger in this case
since a valid_media_query would be reduced to a media_query not taking the
following tokens into account.

BUG=247510

Review URL: https://chromiumcodereview.appspot.com/16583003

git-svn-id: svn://svn.chromium.org/blink/trunk@152112 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=152112&view=revision'><time datetime='2013-06-10' title='2013-06-10'>2013-06-10</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Tokenize &#34;and(&#34; as a FUNCTION in media queries.</strong>
            <pre class=body style=display:none>
BUG=247282

Review URL: https://chromiumcodereview.appspot.com/15878013

git-svn-id: svn://svn.chromium.org/blink/trunk@151907 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=151907&view=revision'><time datetime='2013-06-06' title='2013-06-06'>2013-06-06</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Improved parse error handling for CSSMQ.</strong>
            <pre class=body style=display:none>    
Corrected the grammar for media queries and media query lists.
    
Do recognize &#34;and(&#34; as function tokens. The existing code erroneously split
it into &#34;and&#34; and &#34;(&#34; inside media queries.
    
Keep returning 0 instead of &#34;not all&#34; for @-webkit-mediaquery parse errors
to avoid that things like deleteMedium(&#34;#?:/&#34;) delete &#34;not all&#34; queries.

BUG=236302
NOTRY=true

Review URL: https://chromiumcodereview.appspot.com/14620012

git-svn-id: svn://svn.chromium.org/blink/trunk@151842 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=151842&view=revision'><time datetime='2013-06-05' title='2013-06-05'>2013-06-05</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>Fix variable name style violation from r151791</strong>
            <pre class=body style=display:none>
This change somehow slipped past the style check when landing
https://codereview.chromium.org/16379002/

Review URL: https://chromiumcodereview.appspot.com/15813017

git-svn-id: svn://svn.chromium.org/blink/trunk@151810 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=151810&view=revision'><time datetime='2013-06-05' title='2013-06-05'>2013-06-05</time></a>
      
        <tr>
          <td>mostynb
          <td class=message><strong>inline WebCore::Node::Node constructor more safely</strong>
            <pre class=body style=display:none>
Recently, some toolchains started giving link errors due to WebCore::Node::Node
being undefined in libwebkit.so.  I suspect this is due to incomplete inlining,
since ContainerNode.h does not include Document.h (where the inlining was
defined).

This fix changes the Document argument to the Node constructor to a TreeScope,
which is the sole purpose of this argument, and since Node isn&#39;t a TreeScope
there&#39;s no circular dependency to worry about forward declarations.

Review URL: https://chromiumcodereview.appspot.com/16379002

git-svn-id: svn://svn.chromium.org/blink/trunk@151791 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=151791&view=revision'><time datetime='2013-06-05' title='2013-06-05'>2013-06-05</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[css-device-adapt] Imported opera tests from hg.csswg.org</strong>
            <pre class=body style=display:none>
Generated using generate-tests.py with webkit prefix and template.blink.html:

http://hg.csswg.org/test/file/9a0d69351b3b/contributors/opera/incoming/css-device-adapt

template.blink.html uses configurationForViewport which is part of why
expected results have changed, in addition to the fact that the feature is
still disabled and the tests have new expected results because of spec changes.

BUG=none

Review URL: https://chromiumcodereview.appspot.com/16103004

git-svn-id: svn://svn.chromium.org/blink/trunk@151751 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=151751&view=revision'><time datetime='2013-06-04' title='2013-06-04'>2013-06-04</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[CSSMQ] Implemented support for the scan media feature.</strong>
            <pre class=body style=display:none>
The scan media feature is only supported for &#34;tv&#34; as per spec. It is
currently not possible to query if a tv is progressive or interlaced.
Progressive is assumed for now.

Also, for media features that take ident values, only accept idents
which are allowed for a given feature.

BUG=236321

Review URL: https://chromiumcodereview.appspot.com/13896036

git-svn-id: svn://svn.chromium.org/blink/trunk@150487 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=150487&view=revision'><time datetime='2013-05-16' title='2013-05-16'>2013-05-16</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Optimized querySelector(All) when selector contains #id.</strong>
            <pre class=body style=display:none>
There existed an optimization that did an element lookup for an id if the
leftmost part of the selector was an id selector. Without this change, these
queries would do an id lookup:

querySelector(&#34;#id&#34;), querySelector(&#34;#id.class&#34;)

while these wouldn&#39;t:

querySelector(&#34;.class#id&#34;), querySelector(&#34;[name=x]#id&#34;)

This change modifies the element lookup to include the latter two.

More importantly, it also extends the optimization for id selectors to limit
traversal of the dom-tree to the sub-tree rooted at the element with an id
matching the rightmost id selector in the whole selector. For id selectors
appearing left of adjacent combinators, the traversal needs to be rooted at
the parent of the element with the given id.

Examples:

querySelector(&#34;#id span&#34;) - traversal from the id element.
querySelector(&#34;#id + div span&#34;) - traversal from the parent of the id element.

This fix should make this:

querySelector(&#34;#id span&#34;)

as fast as:

getElementById(&#34;id&#34;).querySelector(&#34;span&#34;)

BUG=240188

Review URL: https://chromiumcodereview.appspot.com/14581013

git-svn-id: svn://svn.chromium.org/blink/trunk@150417 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=150417&view=revision'><time datetime='2013-05-15' title='2013-05-15'>2013-05-15</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>[CSSMQ] Allow integer values for monochrome media feature.</strong>
            <pre class=body style=display:none>
min/max-monochrome already did.

BUG=236334

Review URL: https://chromiumcodereview.appspot.com/14203017

git-svn-id: svn://svn.chromium.org/blink/trunk@150415 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=150415&view=revision'><time datetime='2013-05-15' title='2013-05-15'>2013-05-15</time></a>
      
        <tr>
          <td>rune
          <td class=message><strong>Recognize html whitespaces as separators for attribute selectors.</strong>
            <pre class=body style=display:none>
Used to only recognize 0x20 as a separator for attribute selector matching
values in space separated lists. Now recognizes 0x09, 0x0a, 0x0c, 0x0d, and
0x20 as separators.

BUG=239786

Review URL: https://chromiumcodereview.appspot.com/14980012

git-svn-id: svn://svn.chromium.org/blink/trunk@150410 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=150410&view=revision'><time datetime='2013-05-15' title='2013-05-15'>2013-05-15</time></a>
      
        <tr>
          <td>ed
          <td class=message><strong>CSS systemcolors should work in svg properties using &lt;color&gt;.</strong>
            <pre class=body style=display:none>
This affects the &#39;stop-color&#39;, &#39;flood-color&#39; and &#39;lighting-color&#39;
properties.

R=
BUG=234936

Review URL: https://chromiumcodereview.appspot.com/14108013

git-svn-id: svn://svn.chromium.org/blink/trunk@149844 bbb929c8-8fbe-4397-9dbb-9b2b20218538
</pre>
          <td><a href='http://src.chromium.org/viewvc/blink?revision=149844&view=revision'><time datetime='2013-05-07' title='2013-05-07'>2013-05-07</time></a>
      
      </table>
    </section>
  
<main>

  <script>
    var messages = document.querySelectorAll('.message');
    for (var i=0; i<messages.length; i++)
    {
      messages[i].addEventListener('click', function()
      {
        body = this.querySelector('.body');
        if (body.style.display == 'none')
            body.style.display = 'block';
        else
            body.style.display = 'none';
      });
    }
  </script>

